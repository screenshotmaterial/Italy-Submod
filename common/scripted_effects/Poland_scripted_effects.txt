POL_setup_august_wilhelm = {
	event_target:POL_august_wilhelm_von_hohenzollern_target = { set_nationality = PREV }
	if = {
		limit = { has_character = POL_august_wilhelm_von_hohenzollern }
		POL_august_wilhelm_von_hohenzollern = {
			set_character_name = "August IV"
			if = {
				limit = { has_ideology = social_democrat_subtype }
				promote_character = { ideology = social_democrat_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = POLITICS_AUGUST_IV_DESC
						ideology = social_democrat_subtype
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { has_ideology = social_liberal_subtype }
				promote_character = { ideology = social_liberal_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = POLITICS_AUGUST_IV_DESC
						ideology = social_liberal_subtype
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { has_ideology = market_liberal_subtype }
				promote_character = { ideology = market_liberal_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = POLITICS_AUGUST_IV_DESC
						ideology = market_liberal_subtype
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { has_ideology = social_conservative_subtype }
				promote_character = { ideology = social_conservative_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = POLITICS_AUGUST_IV_DESC
						ideology = social_conservative_subtype
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { has_ideology = authoritarian_democrat_subtype }
				promote_character = { ideology = authoritarian_democrat_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = POLITICS_AUGUST_IV_DESC
						ideology = authoritarian_democrat_subtype
					}
					promote_leader = yes
				}
			}
		}
	}
}

POL_setup_mendog = {
	event_target:LIT_vytautas_ii_target = {
		set_nationality = PREV
	}
	if = {
		limit = { has_character = LIT_vytautas_ii }
		LIT_vytautas_ii = {
			if = {
				limit = { has_ideology = social_democrat_subtype }
				promote_character = { ideology = social_democrat_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = POLITICS_MENDOG_III_PLC_DESC
						ideology = social_democrat_subtype
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { has_ideology = social_liberal_subtype }
				promote_character = { ideology = social_liberal_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = POLITICS_MENDOG_III_PLC_DESC
						ideology = social_liberal_subtype
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { has_ideology = market_liberal_subtype }
				promote_character = { ideology = market_liberal_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = POLITICS_MENDOG_III_PLC_DESC
						ideology = market_liberal_subtype
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { has_ideology = social_conservative_subtype }
				promote_character = { ideology = social_conservative_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = POLITICS_MENDOG_III_PLC_DESC
						ideology = social_conservative_subtype
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { has_ideology = authoritarian_democrat_subtype }
				promote_character = { ideology = authoritarian_democrat_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = POLITICS_MENDOG_III_PLC_DESC
						ideology = authoritarian_democrat_subtype
					}
					promote_leader = yes
				}
			}
		}
	}
	mark_focus_tree_layout_dirty = yes
	GER = { add_to_faction = PREV }
	LIT = {
		every_core_state = { add_core_of = PREV.PREV }
		POL = { transfer_technology_without_doctrines = yes }
		every_unit_leader = {
			limit = { has_character_flag = LIT_leader }
			set_nationality = PREV.PREV
		}
	}
	if = {
		limit = { LIT = { is_ai = no } }
		change_tag_from = LIT
	}
	annex_country = {
		target = LIT
		transfer_troops = yes
	}
	set_cosmetic_tag = POL_PLC
	clr_country_flag = Aleksandras_Guzevicius_dead
	clr_country_flag = Jonas_Cernius_dead
	clr_country_flag = Stasys_Rastikis_dead
	clr_country_flag = Kazys_Musteikis_dead
	clr_country_flag = Jurgis_Terleckas_dead
	set_variable = { ROOT.PLC_collapse = 0 }
	if = {
		limit = { has_idea = POL_eternal_regency }
		remove_ideas = POL_eternal_regency
	}
	if = {
		limit = { has_idea = POL_german_industry }
		remove_ideas = POL_german_industry
	}
	add_ideas = PLC_scattered_bureaucracy_idea
	add_ideas = PLC_cultural_tensions_idea
	load_focus_tree = KR_PLC
	hidden_effect = {
		set_popularities = {
			totalist = 0
			radical_socialist = 2
			syndicalist = 0
			social_democrat = 2
			social_liberal = 4
			market_liberal = 5
			social_conservative = 9
			authoritarian_democrat = 30
			paternal_autocrat = 43
			national_populist = 5
		}
		news_event = { id = worldnews.23 days = 1 }
		country_event = { id = plcommon.69 days = 1 }
	}
}

POL_setup_karol = {
	event_target:AUS_karl_albrecht_von_habsburg_target = {
		set_nationality = PREV
		set_character_name = "Karol Olbracht"
	}
	if = {
		limit = { has_character = AUS_karl_albrecht_von_habsburg }
		AUS_karl_albrecht_von_habsburg = {
			if = {
				limit = { has_ideology = social_democrat_subtype }
				promote_character = { ideology = social_democrat_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = POLITICS_KAROL_OLBRACHT_HABSBURG_DESC
						ideology = social_democrat_subtype
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { has_ideology = social_liberal_subtype }
				promote_character = { ideology = social_liberal_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = POLITICS_KAROL_OLBRACHT_HABSBURG_DESC
						ideology = social_liberal_subtype
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { has_ideology = market_liberal_subtype }
				promote_character = { ideology = market_liberal_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = POLITICS_KAROL_OLBRACHT_HABSBURG_DESC
						ideology = market_liberal_subtype
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { has_ideology = social_conservative_subtype }
				promote_character = { ideology = social_conservative_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = POLITICS_KAROL_OLBRACHT_HABSBURG_DESC
						ideology = social_conservative_subtype
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { has_ideology = authoritarian_democrat_subtype }
				promote_character = { ideology = authoritarian_democrat_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = POLITICS_KAROL_OLBRACHT_HABSBURG_DESC
						ideology = authoritarian_democrat_subtype
					}
					promote_leader = yes
				}
			}
		}
	}
}

POL_setup_augustyn = {
	event_target:POL_augustyn_jozef_czartoryski_target = {
		set_character_name = "Augustyn"
	}
	if = {
		limit = { has_character = POL_augustyn_jozef_czartoryski }
		POL_augustyn_jozef_czartoryski = {
			if = {
				limit = { has_ideology = social_democrat_subtype }
				promote_character = { ideology = social_democrat_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = POLITICS_AUGUSTYN_I_CZARTORYSKI_DESC
						ideology = social_democrat_subtype
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { has_ideology = social_liberal_subtype }
				promote_character = { ideology = social_liberal_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = POLITICS_AUGUSTYN_I_CZARTORYSKI_DESC
						ideology = social_liberal_subtype
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { has_ideology = market_liberal_subtype }
				promote_character = { ideology = market_liberal_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = POLITICS_AUGUSTYN_I_CZARTORYSKI_DESC
						ideology = market_liberal_subtype
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { has_ideology = social_conservative_subtype }
				promote_character = { ideology = social_conservative_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = POLITICS_AUGUSTYN_I_CZARTORYSKI_DESC
						ideology = social_conservative_subtype
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { has_ideology = authoritarian_democrat_subtype }
				promote_character = { ideology = authoritarian_democrat_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = POLITICS_AUGUSTYN_I_CZARTORYSKI_DESC
						ideology = authoritarian_democrat_subtype
					}
					promote_leader = yes
				}
			}
		}
	}
}

POL_remove_monarchy = {
	hidden_effect = {
		if = {
			limit = { has_character = AUS_karl_albrecht_von_habsburg }
			event_target:AUS_karl_albrecht_von_habsburg_target = {
				set_character_name = "Karl Albrecht von Habsburg-Lothringen"
				set_leader_name = "Karl Albrecht von Habsburg-Lothringen"
				set_nationality = AUS
			}
		}
		if = {
			limit = { has_character = POL_august_wilhelm_von_hohenzollern }
			event_target:POL_august_wilhelm_von_hohenzollern_target = {
				set_character_name = "August Wilhelm von Hohenzollern"
				set_nationality = GER
			}
		}
		if = {
			limit = { has_character = LIT_vytautas_ii }
			event_target:LIT_vytautas_ii_target = {
				set_character_name = "Karl Gero von Urach"
				set_nationality = LIT
			}
		}
		if = {
			limit = { has_character = POL_augustyn_jozef_czartoryski }
			event_target:POL_augustyn_jozef_czartoryski_target = {
				set_character_name = "Augustyn JÃ³zef Czartoryski"
			}
		}
		POL_remove_regency_council = yes
	}
}

POL_remove_regency_council = {
	clr_country_flag = POL_mendog_available
	clr_country_flag = POL_influence_GER
	clr_country_flag = POL_influence_GER_LIT
	clr_country_flag = POL_influence_AUS
	clr_country_flag = POL_influence_LIT
	hidden_effect = {
		set_party_name = {
			ideology = authoritarian_democrat
			long_name = POL_authoritarian_democrat_monarchy_party_long
			name = POL_authoritarian_democrat_monarchy_party
		}
		if = {
			limit = { has_character = POL_regency_council }
			retire_character = POL_regency_council
		}
	}
}

POL_puppet_setup = {
	var:tag_to_release = {
		if = {
			limit = { ROOT = { tag = GER } }
			set_politics = {
				ruling_party = authoritarian_democrat
				election_frequency = 48
				elections_allowed = yes
			}
			hidden_effect = {
				POL_setup_august_wilhelm = yes
				add_popularity = {
					ideology = authoritarian_democrat
					popularity = 0.20
				}
				mark_focus_tree_layout_dirty = yes
				remove_all_ministers = yes
				add_ideas = {
					POL_Archbishop_A_Kakowski_hog_pau
					POL_Jozef_Targowski_for_ade
					POL_Andrzej_Wierzbicki_eco_ade
					POL_Stanislaw_Bukowiecki_sec_ade
				}
			}
		}
		else_if = {
			limit = { ROOT = { tag = AUS } }
			set_politics = {
				ruling_party = authoritarian_democrat
				election_frequency = 48
				elections_allowed = yes
			}
			hidden_effect = {
				POL_setup_karol = yes
				add_popularity = {
					ideology = authoritarian_democrat
					popularity = 0.20
				}
				mark_focus_tree_layout_dirty = yes
				remove_all_ministers = yes
				add_ideas = {
					POL_Archbishop_A_Kakowski_hog_pau
					POL_Jozef_Targowski_for_ade
					POL_Andrzej_Wierzbicki_eco_ade
					POL_Stanislaw_Bukowiecki_sec_ade
				}
			}
		}
		else = {
			set_cosmetic_tag = POL_REPUBLIC
		}
		hidden_effect = {
			uncomplete_national_focus = {
				focus = POL_polish_king
				uncomplete_children = yes
			}
			uncomplete_national_focus = {
				focus = POL_mendog_iii
				uncomplete_children = yes
			}
			if = {
				limit = { POL_king_karol = no }
				uncomplete_national_focus = {
					focus = POL_von_habsburg
					uncomplete_children = yes
				}
			}
			if = {
				limit = { POL_king_august = no }
				uncomplete_national_focus = {
					focus = POL_von_hohenzollern
					uncomplete_children = yes
				}
			}
			if = {
				limit = { has_socialist_government = no }
				uncomplete_national_focus = {
					focus = POL_victory_of_the_people
					uncomplete_children = yes
				}
			}
			if = {
				limit = {
					OR = {
						POL_has_monarchy = yes
						has_democratic_government = no
					}
				}
				uncomplete_national_focus = {
					focus = POL_a_new_poland
					uncomplete_children = yes
				}
			}
			if = {
				limit = { has_dictatorship_government = no }
				uncomplete_national_focus = {
					focus = POL_a_new_poland
					uncomplete_children = yes
				}
			}
		}
	}
}
