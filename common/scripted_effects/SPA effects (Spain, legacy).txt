SPA_create_alfonso = {
	if = {
		limit = { has_character = SPA_alfonso_de_borbon }
		SPA_alfonso_de_borbon = {
			set_character_name = SPA_alfonso_de_borbon_regnal
			if = {
				limit = { has_ideology = social_democrat_subtype }
				promote_character = { ideology = social_democrat_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = SPA_alfonso_de_borbon_leader_desc
						ideology = social_democrat_subtype
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { has_ideology = social_liberal_subtype }
				promote_character = { ideology = social_liberal_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = SPA_alfonso_de_borbon_leader_desc
						ideology = social_liberal_subtype
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { has_ideology = market_liberal_subtype }
				promote_character = { ideology = market_liberal_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = SPA_alfonso_de_borbon_leader_desc
						ideology = market_liberal_subtype
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { has_ideology = social_conservative_subtype }
				promote_character = { ideology = social_conservative_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = SPA_alfonso_de_borbon_leader_desc
						ideology = social_conservative_subtype
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { has_ideology = authoritarian_democrat_subtype }
				promote_character = { ideology = authoritarian_democrat_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = SPA_alfonso_de_borbon_leader_desc
						ideology = authoritarian_democrat_subtype
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { has_ideology = paternal_autocrat_subtype }
				promote_character = { ideology = paternal_autocrat_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = SPA_alfonso_de_borbon_leader_desc
						ideology = paternal_autocrat_subtype
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { has_ideology = national_populist_subtype }
				promote_character = { ideology = national_populist_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = SPA_alfonso_de_borbon_leader_desc
						ideology = national_populist_subtype
					}
					promote_leader = yes
				}
			}
		}
	}
	else = {
		SPA_create_juan = yes
	}
}

SPA_create_juan = {
	if = {
		limit = { has_character = SPA_juan_de_borbon }
		SPA_juan_de_borbon = {
			set_character_name = SPA_juan_de_borbon_regnal
			if = {
				limit = { has_ideology = social_democrat_subtype }
				promote_character = { ideology = social_democrat_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = SPA_juan_de_borbon_leader_desc
						ideology = social_democrat_subtype
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { has_ideology = social_liberal_subtype }
				promote_character = { ideology = social_liberal_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = SPA_juan_de_borbon_leader_desc
						ideology = social_liberal_subtype
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { has_ideology = market_liberal_subtype }
				promote_character = { ideology = market_liberal_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = SPA_juan_de_borbon_leader_desc
						ideology = market_liberal_subtype
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { has_ideology = social_conservative_subtype }
				promote_character = { ideology = social_conservative_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = SPA_juan_de_borbon_leader_desc
						ideology = social_conservative_subtype
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { has_ideology = authoritarian_democrat_subtype }
				promote_character = { ideology = authoritarian_democrat_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = SPA_juan_de_borbon_leader_desc
						ideology = authoritarian_democrat_subtype
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { has_ideology = paternal_autocrat_subtype }
				promote_character = { ideology = paternal_autocrat_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = SPA_juan_de_borbon_leader_desc
						ideology = paternal_autocrat_subtype
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { has_ideology = national_populist_subtype }
				promote_character = { ideology = national_populist_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = SPA_juan_de_borbon_leader_desc
						ideology = national_populist_subtype
					}
					promote_leader = yes
				}
			}
		}
	}
	else = {
		SPA_create_jaime = yes
	}
}

SPA_create_jaime = {
	SPA_jaime_de_borbon = {
		set_character_name = SPA_jaime_de_borbon_regnal
		if = {
			limit = { has_ideology = social_democrat_subtype }
			promote_character = { ideology = social_democrat_subtype }
		}
		else = {
			add_country_leader_role = {
				country_leader = {
					desc = SPA_jaime_de_borbon_leader_desc
					ideology = social_democrat_subtype
				}
				promote_leader = yes
			}
		}
		if = {
			limit = { has_ideology = social_liberal_subtype }
			promote_character = { ideology = social_liberal_subtype }
		}
		else = {
			add_country_leader_role = {
				country_leader = {
					desc = SPA_jaime_de_borbon_leader_desc
					ideology = social_liberal_subtype
				}
				promote_leader = yes
			}
		}
		if = {
			limit = { has_ideology = market_liberal_subtype }
			promote_character = { ideology = market_liberal_subtype }
		}
		else = {
			add_country_leader_role = {
				country_leader = {
					desc = SPA_jaime_de_borbon_leader_desc
					ideology = market_liberal_subtype
				}
				promote_leader = yes
			}
		}
		if = {
			limit = { has_ideology = social_conservative_subtype }
			promote_character = { ideology = social_conservative_subtype }
		}
		else = {
			add_country_leader_role = {
				country_leader = {
					desc = SPA_jaime_de_borbon_leader_desc
					ideology = social_conservative_subtype
				}
				promote_leader = yes
			}
		}
		if = {
			limit = { has_ideology = authoritarian_democrat_subtype }
			promote_character = { ideology = authoritarian_democrat_subtype }
		}
		else = {
			add_country_leader_role = {
				country_leader = {
					desc = SPA_jaime_de_borbon_leader_desc
					ideology = authoritarian_democrat_subtype
				}
				promote_leader = yes
			}
		}
		if = {
			limit = { has_ideology = paternal_autocrat_subtype }
			promote_character = { ideology = paternal_autocrat_subtype }
		}
		else = {
			add_country_leader_role = {
				country_leader = {
					desc = SPA_jaime_de_borbon_leader_desc
					ideology = paternal_autocrat_subtype
				}
				promote_leader = yes
			}
		}
		if = {
			limit = { has_ideology = national_populist_subtype }
			promote_character = { ideology = national_populist_subtype }
		}
		else = {
			add_country_leader_role = {
				country_leader = {
					desc = SPA_jaime_de_borbon_leader_desc
					ideology = national_populist_subtype
				}
				promote_leader = yes
			}
		}
	}
}

SPA_remove_monarchy = {
	if = {
		limit = { has_character = SPA_alfonso_de_borbon }
		SPA_alfonso_de_borbon = {
			set_character_name = SPA_alfonso_de_borbon
			remove_all_country_leader_roles = yes
		}
	}
	if = {
		limit = { has_character = SPA_juan_de_borbon }
		SPA_juan_de_borbon = {
			set_character_name = SPA_juan_de_borbon
			remove_all_country_leader_roles = yes
		}
	}
	if = {
		limit = { has_character = SPA_jaime_de_borbon }
		SPA_jaime_de_borbon = {
			set_character_name = SPA_jaime_de_borbon
			remove_all_country_leader_roles = yes
		}
	}
}
