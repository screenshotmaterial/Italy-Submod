
###################
#
# Add Generals
#
###################

SIA_add_government_generals = {
	# Army
	if = {
		limit = {
			has_event_target = SIA_plaek_phibunsongkhram_target
			NOT = { has_character = SIA_plaek_phibunsongkhram }
		}
		event_target:SIA_plaek_phibunsongkhram_target = { set_nationality = PREV }
		SIA_plaek_phibunsongkhram = {
			promote_character = { ideology = national_populist_subtype }
		}
	}
	if = {
		limit = { NOT = { has_character = SIA_phin_choonhavan } }
		event_target:SIA_phin_choonhavan_target = { set_nationality = PREV }
	}
	if = {
		limit = { NOT = { has_character = SIA_phot_phahonyothin } }
		event_target:SIA_phot_phahonyothin_target = { set_nationality = PREV }
	}
	# Navy
	if = {
		limit = { NOT = { has_character = SIA_sindhu_kamolnawin } }
		event_target:SIA_sindhu_kamolnawin_target = { set_nationality = PREV }
	}

	#TODO_ADVISOR_CHANGE - move government advisors/military staff, same syntax as the generals above
}

SIA_add_parliamentarian_generals = {
	# Army
	if = {
		limit = { NOT = { has_character = SIA_thep_panthumasaen } }
		event_target:SIA_thep_panthumasaen_target = { set_nationality = PREV }
	}
	if = {
		limit = { NOT = { has_character = SIA_adul_adulyadejchrat } }
		event_target:SIA_adul_adulyadejchrat_target = { set_nationality = PREV }
	}
	if = {
		limit = { NOT = { has_character = SIA_karj_karjsongkhram } }
		event_target:SIA_karj_karjsongkhram_target = { set_nationality = PREV }
	}
	if = {
		limit = { NOT = { has_character = SIA_wan_chuthin } }
		event_target:SIA_wan_chuthin_target = { set_nationality = PREV }
	}
	# Navy
	if = {
		limit = { NOT = { has_character = SIA_thawan_thamrongnawasawat } }
		event_target:SIA_thawan_thamrongnawasawat_target = {
			set_nationality = PREV
			promote_character = yes
		}
	}
	if = {
		limit = { NOT = { has_character = SIA_mongkol_mongkolnawin } }
		event_target:SIA_mongkol_mongkolnawin_target = { set_nationality = PREV }
	}

	#TODO_ADVISOR_CHANGE - move parliamentarian advisors/military staff, same syntax as the generals above
}

SIA_add_neutral_generals = {
	# Army
	if = {
		limit = { NOT = { has_character = SIA_jarun_seriroengrit } }
		event_target:SIA_jarun_seriroengrit_target = { set_nationality = PREV }
	}
	if = {
		limit = { NOT = { has_character = SIA_pichit_kriengsakpichit } }
		event_target:SIA_pichit_kriengsakpichit_target = { set_nationality = PREV }
	}
	if = {
		limit = { NOT = { has_character = SIA_mangkorn_promyothee } }
		event_target:SIA_mangkorn_promyothee_target = { set_nationality = PREV }
	}
	# Navy
	if = {
		limit = { NOT = { has_character = SIA_prayoon_yutthasartkosol } }
		event_target:SIA_prayoon_yutthasartkosol_target = { set_nationality = PREV }
	}
	# Advisor
	if = {
		limit = { NOT = { has_character = SIA_jerm_arwuth } }
		event_target:SIA_jerm_arwuth_target = { set_nationality = PREV }
	}
	if = {
		limit = { NOT = { has_character = SIA_jira_wichitsongkhram } }
		event_target:SIA_jira_wichitsongkhram_target = { set_nationality = PREV }
	}
}

SIA_add_royalist_generals = {
	# Army
	if = {
		limit = { NOT = { has_character = SIA_din_tharab } }
		event_target:SIA_din_tharab_target = { set_nationality = PREV }
	}
	if = {
		limit = { NOT = { has_character = SIA_sala_emasiri } }
		event_target:SIA_boworadet_kridakorn_target = { set_nationality = PREV }
	}
	if = {
		limit = { NOT = { has_character = SIA_sala_emasiri } }
		event_target:SIA_sala_emasiri_target = { set_nationality = PREV }
	}
	# Navy
	if = {
		limit = { NOT = { has_character = SIA_bunchai_sawathasuk } }
		event_target:SIA_bunchai_sawathasuk_target = { set_nationality = PREV }
	}
	if = {
		limit = { NOT = { has_character = SIA_thongdee_suwanprueng } }
		event_target:SIA_thongdee_suwanprueng_target = { set_nationality = PREV }
	}

	#TODO_ADVISOR_CHANGE - move royalist advisors/military staff, same syntax as the generals above
}

###################
#
# Post-CW Gov SetUp
#
###################

SIA_setup_RadSoc_government = {
	hidden_effect = {
		SIA_create_republican_leaders = yes
	}
	add_popularity = { ideology = totalist popularity = 0.05 }
	add_popularity = { ideology = syndicalist popularity = 0.05 }
	add_popularity = { ideology = social_democrat popularity = 0.03 }
	add_popularity = { ideology = radical_socialist popularity = 0.20 }
	set_politics = {
		ruling_party = radical_socialist
		elections_allowed = no
	}
	hidden_effect = {
		set_party_name = { # Khanagummakarn Sapha Patiwat
			ideology = totalist
			long_name = SIA_radical_socialist_party_united_front_long
			name = SIA_radical_socialist_party_united_front
		}
		set_party_name = {
			ideology = syndicalist
			long_name = SIA_radical_socialist_party_united_front_long
			name = SIA_radical_socialist_party_united_front
		}
		set_party_name = {
			ideology = radical_socialist
			long_name = SIA_radical_socialist_party_united_front_long
			name = SIA_radical_socialist_party_united_front
		}
	}
	# Syndie Cabinet
	clear_sic_slot = yes
	activate_advisor = SIA_thawan_thamrongnawasawat_sic
	set_country_flag = SIA_CONSTITUTION_GIVEN_SYNDIE
	set_temp_variable = { coalition_partner_var = token:radical_socialist }
	add_to_coalition = yes
	set_temp_variable = { coalition_partner_var = token:syndicalist }
	add_to_coalition = yes
	set_temp_variable = { coalition_partner_var = token:totalist }
	add_to_coalition = yes
	SIA = { set_cosmetic_tag = SIA_REP }
}

SIA_setup_Boworadet_government = {
	hidden_effect = {
		SIA_create_mahidol_leaders = yes
	}
	# Boworadet Cabinet
	clear_sic_slot = yes
	activate_advisor = SIA_boworadet_kridakorn_sic
	add_popularity = { ideology = paternal_autocrat popularity = 0.20 }
	add_popularity = { ideology = national_populist popularity = 0.05 }
	add_popularity = { ideology = authoritarian_democrat popularity = 0.05 }
	add_popularity = { ideology = social_conservative popularity = 0.03 }
	set_politics = {
		ruling_party = paternal_autocrat
		elections_allowed = no
	}
	hidden_effect = {
		set_party_name = { # Khana Patirupt Siam
			ideology = authoritarian_democrat
			long_name = SIA_authoritarian_democrat_party_nobil_long
			name = SIA_authoritarian_democrat_party_nobil
		}
	}
	set_country_flag = SIA_CONSTITUTION_GIVEN_BORIPATR
	set_temp_variable = { coalition_partner_var = token:authoritarian_democrat }
	add_to_coalition = yes
	set_temp_variable = { coalition_partner_var = token:social_conservative }
	add_to_coalition = yes
	set_temp_variable = { coalition_partner_var = token:paternal_autocrat }
	add_to_coalition = yes
	SIA = { drop_cosmetic_tag = yes }
}

SIA_setup_Royalists_government = { # As in the "Government" side
	if = {
		limit = { NOT = { has_country_flag = SIA_1936_ELECTION } }
		set_country_flag = SIA_1936_ELECTION
		custom_effect_tooltip = SIA_election_1_months_tt
		hidden_effect = {
			set_politics = {
				ruling_party = authoritarian_democrat
				election_frequency = 1 # 1936 Election in 1 Month
				elections_allowed = yes
			}
		}
	}
	hidden_effect = {
		SIA_create_mahidol_leaders = yes
	}
	# Royalist Cabinet
	clear_sic_slot = yes
	activate_advisor = SIA_kon_hutasingha_sic
	set_country_flag = SIA_syndie_purge_pol
	SIA = { drop_cosmetic_tag = yes }
	set_temp_variable = { coalition_partner_var = token:authoritarian_democrat }
	add_to_coalition = yes
	set_temp_variable = { coalition_partner_var = token:social_democrat }
	add_to_coalition = yes
	set_temp_variable = { coalition_partner_var = token:social_liberal }
	add_to_coalition = yes
}

SIA_setup_Parliamentarians_government = { # As in the "Government" side
	if = {
		limit = { NOT = { has_country_flag = SIA_1936_ELECTION } }
		set_country_flag = SIA_1936_ELECTION
		custom_effect_tooltip = SIA_election_1_months_tt
		hidden_effect = {
			set_politics = {
				ruling_party = authoritarian_democrat
				election_frequency = 1 # 1936 Election in 1 Month
				elections_allowed = yes
			}
		}
	}
	hidden_effect = {
		SIA_create_mahidol_leaders = yes
	}
	# Parliamentarian Cabinet
	clear_sic_slot = yes
	activate_advisor = SIA_phot_phahonyothin_sic
	set_country_flag = SIA_royalist_purge_pol
	SIA = { drop_cosmetic_tag = yes }
	set_temp_variable = { coalition_partner_var = token:authoritarian_democrat }
	add_to_coalition = yes
	set_temp_variable = { coalition_partner_var = token:social_conservative }
	add_to_coalition = yes
	set_temp_variable = { coalition_partner_var = token:market_liberal }
	add_to_coalition = yes
}

###################
#
# Coup/Reform SetUp
#
###################

SIA_setup_Khana_Ratsadon_government = {
	set_party_name = { # Khana Ratsadon
		ideology = authoritarian_democrat
		long_name = SIA_authoritarian_democrat_party_khana_ratsadon_long
		name = SIA_authoritarian_democrat_party_khana_ratsadon
	}
	# Parliamentarian Cabinet
	clear_sic_slot = yes
	activate_advisor = SIA_phot_phahonyothin_sic
	# Set Popularity
	add_popularity = {
		ideology = social_democrat
		popularity = 0.08
	}
	add_popularity = {
		ideology = social_liberal
		popularity = 0.11
	}
	add_popularity = {
		ideology = market_liberal
		popularity = 0.08
	}
	add_popularity = {
		ideology = social_conservative
		popularity = 0.05
	}
}

SIA_setup_Khanagummakarn_Ratsadon_government = {
	set_party_name = { # Khanagummakarn Ratsadon
		ideology = authoritarian_democrat
		long_name = SIA_authoritarian_democrat_party_reform_long
		name = SIA_authoritarian_democrat_party_reform
	}
	# Royalist Cabinet
	clear_sic_slot = yes
	activate_advisor = SIA_kon_hutasingha_sic
	# Set Popularity
	add_popularity = {
		ideology = social_democrat
		popularity = 0.03
	}
	add_popularity = {
		ideology = social_liberal
		popularity = 0.04
	}
	add_popularity = {
		ideology = market_liberal
		popularity = 0.05
	}
	add_popularity = {
		ideology = social_conservative
		popularity = 0.10
	}
}

###################
#
# Election SetUp
#
###################

SIA_setup_Elected_SocDem_government = {
	clr_country_flag = SIA_SENI_PRAMOJ_ELECTED
	set_country_flag = SIA_PRIDI_PANOMYONG_ELECTED_ELECTED
	clr_country_flag = SIA_PHRAYA_PHAHON_ELECTED
	add_popularity = {
		ideology = authoritarian_democrat
		popularity = -0.05
	}
	add_popularity = {
		ideology = syndicalist
		popularity = 0.02
	}
	add_popularity = {
		ideology = radical_socialist
		popularity = 0.05
	}
	add_popularity = {
		ideology = social_democrat
		popularity = 0.13
	}
	set_politics = {
		ruling_party = social_democrat
		election_frequency = 48
		elections_allowed = no
	}
	# SocDem Cabinet
	clear_sic_slot = yes
	activate_advisor = SIA_pridi_phanomyong_sic
	set_temp_variable = { coalition_partner_var = token:social_democrat }
	add_to_coalition = yes
	set_temp_variable = { coalition_partner_var = token:radical_socialist }
	add_to_coalition = yes
}

SIA_setup_Elected_Liberal_government = {
	clr_country_flag = SIA_SENI_PRAMOJ_ELECTED
	clr_country_flag = SIA_PRIDI_PANOMYONG_ELECTED_ELECTED
	set_country_flag = SIA_PHRAYA_PHAHON_ELECTED
	add_popularity = {
		ideology = authoritarian_democrat
		popularity = -0.05
	}
	add_popularity = {
		ideology = social_liberal
		popularity = 0.13
	}
	add_popularity = {
		ideology = market_liberal
		popularity = 0.05
	}
	set_politics = {
		ruling_party = social_liberal
		election_frequency = 48
		elections_allowed = no
	}
	# Liberal Cabinet
	clear_sic_slot = yes
	activate_advisor = SIA_sawaet_piampongsarn_sic
	set_temp_variable = { coalition_partner_var = token:social_liberal }
	add_to_coalition = yes
	set_temp_variable = { coalition_partner_var = token:market_liberal }
	add_to_coalition = yes
}

SIA_setup_Elected_Conservative_government = {
	set_country_flag = SIA_SENI_PRAMOJ_ELECTED
	clr_country_flag = SIA_PRIDI_PANOMYONG_ELECTED_ELECTED
	clr_country_flag = SIA_PHRAYA_PHAHON_ELECTED
	add_popularity = {
		ideology = authoritarian_democrat
		popularity = 0.05
	}
	add_popularity = {
		ideology = market_liberal
		popularity = 0.02
	}
	add_popularity = {
		ideology = social_conservative
		popularity = 0.13
	}
	set_politics = {
		ruling_party = social_conservative
		election_frequency = 48
		elections_allowed = no
	}
	# SocCon Cabinet
	clear_sic_slot = yes
	activate_advisor = SIA_seni_pramoj_sic
	set_temp_variable = { coalition_partner_var = token:social_conservative }
	add_to_coalition = yes
	set_temp_variable = { coalition_partner_var = token:authoritarian_democrat }
	add_to_coalition = yes
}

#######################
#
# Military Junta SetUp
#
#######################

SIA_setup_Phibun_government = {
	set_country_flag = SIA_IRON_MARSHAL_PLAEK

	set_politics = {
		ruling_party = national_populist
		elections_allowed = no
	}
	set_party_name = { # Seri Manangkhasila for PatAuth
		ideology = paternal_autocrat
		long_name = SIA_paternal_autocrat_party_plaek_long
		name = SIA_paternal_autocrat_party_plaek
	}
	set_party_name = { # Seri Manangkhasila for NatPop
		ideology = national_populist
		long_name = SIA_national_populist_party_plaek_long
		name = SIA_national_populist_party_plaek
	}
	add_popularity = {
		ideology = paternal_autocrat
		popularity = 0.10
	}
	add_popularity = {
		ideology = national_populist
		popularity = 0.25
	}
	# Phibun Cabinet -> Phao is SIC
	clear_sic_slot = yes
	activate_advisor = SIA_phao_sriyanond_sic
	set_temp_variable = { coalition_partner_var = token:national_populist }
	add_to_coalition = yes
	set_temp_variable = { coalition_partner_var = token:paternal_autocrat }
	add_to_coalition = yes
}

SIA_setup_Sarit_government = {
	hidden_effect = {
		end_coalition = yes
		event_target:SIA_sarit_thanarat_target = {
			set_nationality = PREV #make sure he's in SIA
		}
	}
	custom_effect_tooltip = SIA_sarit_leader_tt
	hidden_effect = {
		if = {
			limit = { has_character = SIA_sarit_thanarat }
			SIA_sarit_thanarat = {
				if = {
					limit = { has_ideology = authoritarian_democrat_subtype }
					promote_character = { ideology = authoritarian_democrat_subtype }
				}
				else = {
					add_country_leader_role = {
						country_leader = {
							desc = SIA_sarit_thanarat_leader_desc
							ideology = authoritarian_democrat_subtype
							traits = { SIA_pho_khun_trait }
						}
						promote_leader = yes
					}
				}
				if = {
					limit = { has_ideology = paternal_autocrat_subtype }
					promote_character = { ideology = paternal_autocrat_subtype }
				}
				else = {
					add_country_leader_role = {
						country_leader = {
							desc = SIA_sarit_thanarat_leader_desc
							ideology = paternal_autocrat_subtype
							traits = { SIA_pho_khun_trait }
						}
						promote_leader = yes
					}
				}
				if = {
					limit = { has_ideology = national_populist_subtype }
					promote_character = { ideology = national_populist_subtype }
				}
				else = {
					add_country_leader_role = {
						country_leader = {
							desc = SIA_sarit_thanarat_leader_desc
							ideology = national_populist_subtype
							traits = { SIA_pho_khun_trait }
						}
						promote_leader = yes
					}
				}
			}
		}
		set_party_name = { # Chart Sangkhom Party
			ideology = paternal_autocrat
			long_name = SIA_paternal_autocrat_party_sarit_long
			name = SIA_paternal_autocrat_party_sarit
		}
	}
	set_politics = {
		ruling_party = paternal_autocrat
		elections_allowed = no
	}
	add_popularity = {
		ideology = paternal_autocrat
		popularity = 0.18
	}
	add_popularity = {
		ideology = social_conservative
		popularity = 0.15
	}
	# Sarit Cabinet
	clear_sic_slot = yes
	activate_advisor = SIA_sarit_thanarat_sic
	set_temp_variable = { coalition_partner_var = token:paternal_autocrat }
	add_to_coalition = yes
	set_temp_variable = { coalition_partner_var = token:social_conservative }
	add_to_coalition = yes
}

SIA_setup_Phao_government = {
	hidden_effect = {
		end_coalition = yes
		event_target:SIA_phao_sriyanond_target = {
			set_nationality = PREV #make sure he's in SIA
		}
	}
	custom_effect_tooltip = SIA_phao_leader_tt
	hidden_effect = {
		if = {
			limit = { has_character = SIA_phao_sriyanond }
			SIA_phao_sriyanond = {
				if = {
					limit = { has_ideology = authoritarian_democrat_subtype }
					promote_character = { ideology = authoritarian_democrat_subtype }
				}
				else = {
					add_country_leader_role = {
						country_leader = {
							desc = SIA_phao_sriyanond_leader_desc
							ideology = authoritarian_democrat_subtype
							traits = { SIA_prancing_knight_trait }
						}
						promote_leader = yes
					}
				}
				if = {
					limit = { has_ideology = paternal_autocrat_subtype }
					promote_character = { ideology = paternal_autocrat_subtype }
				}
				else = {
					add_country_leader_role = {
						country_leader = {
							desc = SIA_phao_sriyanond_leader_desc
							ideology = paternal_autocrat_subtype
							traits = { SIA_prancing_knight_trait }
						}
						promote_leader = yes
					}
				}
				if = {
					limit = { has_ideology = national_populist_subtype }
					promote_character = { ideology = national_populist_subtype }
				}
				else = {
					add_country_leader_role = {
						country_leader = {
							desc = SIA_phao_sriyanond_leader_desc
							ideology = national_populist_subtype
							traits = { SIA_prancing_knight_trait }
						}
						promote_leader = yes
					}
				}
			}
		}
		set_party_name = { # Chart Thai Party
			ideology = national_populist
			long_name = SIA_national_populist_party_phao_long
			name = SIA_national_populist_party_phao
		}
	}
	add_popularity = {
		ideology = national_populist
		popularity = 0.18
	}
	add_popularity = {
		ideology = market_liberal
		popularity = 0.15
	}
	# Phao Cabinet
	clear_sic_slot = yes
	activate_advisor = SIA_pramarn_adireksarn_sic
	set_temp_variable = { coalition_partner_var = token:national_populist }
	add_to_coalition = yes
	set_temp_variable = { coalition_partner_var = token:market_liberal }
	add_to_coalition = yes
}

###################
#
# Demobilize Forces
#
###################

SIA_demobilize_forces = {
	if = {
		limit = { has_template = "Krom Taharn Rarb" }
		delete_unit_template_and_units = { division_template = "Krom Taharn Rarb" }
	}
	hidden_effect = { # Remove SiaCW stuff
		if = {
			limit = { has_dynamic_modifier = { modifier = SIA_faltering_political_movement } }
			remove_dynamic_modifier = { modifier = SIA_faltering_political_movement }
		}
	}
}

###################
#
# SiaCW Ship Removal
#
###################

SiaCW_navy_redistribution = {
	hidden_effect = {
		### RSN 1st Naval Command
		# CDS
		transfer_ship = { prefer_name = "HSMS Rattanakosin" type = heavy_cruiser target = XXA }
		transfer_ship = { prefer_name = "HSMS Sukhothai" type = heavy_cruiser target = XXA }
		# CL
		transfer_ship = { prefer_name = "HSMS Naresuan" type = light_cruiser target = XXA }
		transfer_ship = { prefer_name = "HSMS Taksin" type = light_cruiser target = XXA }
		# DD
		transfer_ship = { prefer_name = "HSMS Mahachakri" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "HSMS Chao Phraya" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "HSMS Phra Ruang" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "HSMS Suea Kamronsin" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "HSMS Suea Tayarnchol" type = destroyer target = XXA }

		### RSN Submarine Taskforce
		# SS
		transfer_ship = { prefer_name = "HSMS Matchanu" type = submarine target = XXA }
		transfer_ship = { prefer_name = "HSMS Sinsamut" type = submarine target = XXA }
		transfer_ship = { prefer_name = "HSMS Wirun" type = submarine target = XXA }
		transfer_ship = { prefer_name = "HSMS Phlai-Chumphon" type = submarine target = XXA }
	}
}

###################
#
# Flag/Name Change
#
###################

SIA_switch_to_republic_flag = {
	SIA = {
		if = {
			limit = {
				OR = {
					has_cosmetic_tag = THI
					has_country_flag = SIA_THAILAND
				}
			}
			set_cosmetic_tag = THI_REP
		}
		else = {
			set_cosmetic_tag = SIA_REP
		}
	}
}

SIA_switch_to_kingdom_flag = {
	SIA = {
		if = {
			limit = { has_cosmetic_tag = SIA_REP }
			drop_cosmetic_tag = yes
		}
		else_if = {
			limit = { has_cosmetic_tag = THI_REP }
			set_cosmetic_tag = THI
		}
	}
}

################
#
# SiaCW SetUps
#
################

### SIA CW revamp
SIA_setup_for_SIACW_government = {
	if = {
		limit = { has_global_flag = SIA_phibunsongkhram_is_royalist }
		set_cosmetic_tag = SIA_Royalist

		start_civil_war = {
			### basics ###
			set_cosmetic_tag = SIA_Parliament
			ideology = radical_socialist
			size = 0.4
			navy_ratio = 0

			### states ###
			capital = 824
			states = { 724 749 751 824 830 831 999 }

			### unit leaders ###
			keep_unit_leaders_trigger = {
				NOT = { has_character_flag = SIA_parliamentarian }
			}

			### effects ###
			copy_popularities_of_PREV = yes
			add_popularity = {
				ideology = radical_socialist
				popularity = 0.20
			}
			set_political_party = { ideology = authoritarian_democrat popularity = 0 }
			set_political_party = { ideology = paternal_autocrat popularity = 0 }
			set_political_party = { ideology = national_populist popularity = 0 }
			SIA_add_parliamentarian_generals = yes
			add_ideas = SIA_SiaCW_div_limit_bonus
			load_oob = "SIA_Seperatist"
			load_oob = "SIA_Parliamentarians"
			# Syndie Cabinet
			clear_sic_slot = yes
			activate_advisor = SIA_thawan_thamrongnawasawat_sic
			activate_mission = SIR_secure_bangkok
			set_country_flag = SIA_REBEL

			every_state = {
				limit = { is_claimed_by = SIA }
				add_claim_by = PREV
			}

			save_global_event_target_as = SIA_civil_war_target
		}

		SIA_add_royalist_generals = yes
		load_oob = "SIA_Royalist"
		# Royalist Cabinet
		clear_sic_slot = yes
		activate_advisor = SIA_kon_hutasingha_sic
	}
	else = { #Plaek is Parliamentarian
		set_cosmetic_tag = SIA_Parliament
		event_target:SIA_pridi_phanomyong_target = {
			set_nationality = PREV
		}
		if = {
			limit = { has_character = SIA_pridi_phanomyong }
			SIA_pridi_phanomyong = {
				if = {
					limit = { has_ideology = authoritarian_democrat_subtype }
					promote_character = yes
				}
				else = {
					add_country_leader_role = {
						country_leader = {
							desc = SIA_pridi_phanomyong_leader_desc
							ideology = authoritarian_democrat_subtype
						}
						promote_leader = yes
					}
				}
			}
		}

		start_civil_war = {
			### basics ###
			set_cosmetic_tag = SIA_Royalist
			ideology = paternal_autocrat
			size = 0.4
			navy_ratio = 0

			### states ###
			capital = 823 #Nakhon Ratchasima - Royalist
			states = { 750 751 756 822 823 830 882 999 }

			### unit leaders ###
			keep_unit_leaders_trigger = {
				NOT = { has_character_flag = SIA_royalist }
			}

			### effects ###
			copy_popularities_of_PREV = yes
			add_popularity = {
				ideology = paternal_autocrat
				popularity = 0.20
			}
			set_political_party = { ideology = totalist popularity = 0 }
			set_political_party = { ideology = syndicalist popularity = 0 }
			set_political_party = { ideology = radical_socialist popularity = 0 }
			set_political_party = { ideology = social_democrat popularity = 0 }
			SIA_create_mahidol_leaders = yes
			SIA_add_royalist_generals = yes
			add_ideas = SIA_SiaCW_div_limit_bonus
			load_oob = "SIA_Seperatist"
			load_oob = "SIA_Royalist"
			# Boworadet Cabinet
			clear_sic_slot = yes
			activate_advisor = SIA_boworadet_kridakorn_sic
			activate_mission = SIR_secure_bangkok
			set_country_flag = SIA_REBEL

			every_state = {
				limit = { is_claimed_by = SIA }
				add_claim_by = PREV
			}

			save_global_event_target_as = SIA_civil_war_target
		}

		SIA_add_parliamentarian_generals = yes
		load_oob = "SIA_Parliamentarians"
		# Parliamentarian Cabinet
		clear_sic_slot = yes
		activate_advisor = SIA_phot_phahonyothin_sic
	}
	add_popularity = {
		ideology = authoritarian_democrat
		popularity = 0.20
	}
	SIA_add_government_generals = yes
	SIA_add_neutral_generals = yes
	add_ideas = SIA_SiaCW_div_limit_bonus
	load_oob = "SIA_Government"
}

SIA_setup_for_SIACW_rebel = {
	if = {
		limit = { has_global_flag = SIA_phibunsongkhram_is_royalist }
		set_capital = { state = 824 } # Rayong - Parliamentarians
		set_cosmetic_tag = SIA_Parliament
		start_civil_war = {
			### basics ###
			set_cosmetic_tag = SIA_Royalist
			ruling_party = radical_socialist
			ideology = authoritarian_democrat
			size = 0.6
			navy_ratio = 0

			### states ###
			capital = 289
			states = { 289 750 756 822 823 825 882 }

			### country leader ###
			keep_political_leader = yes
			keep_political_party_members = yes

			### unit leaders ###
			keep_unit_leaders_trigger = {
				has_character_flag = SIA_parliamentarian
			}

			### effects ###
			copy_popularities_of_PREV = yes
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.20
			}
			SIA_create_mahidol_leaders = yes
			SIA_add_government_generals = yes
			SIA_add_neutral_generals = yes
			SIA_add_royalist_generals = yes
			add_ideas = SIA_SiaCW_div_limit_bonus
			load_oob = "SIA_Government"
			load_oob = "SIA_Royalist"
			# Royalist Cabinet
			clear_sic_slot = yes
			activate_advisor = SIA_kon_hutasingha_sic

			every_state = {
				limit = { is_claimed_by = SIA }
				add_claim_by = PREV
			}

			save_global_event_target_as = SIA_civil_war_target
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.20
		}
		set_political_party = { ideology = authoritarian_democrat popularity = 0 }
		set_political_party = { ideology = paternal_autocrat popularity = 0 }
		set_political_party = { ideology = national_populist popularity = 0 }
		SIA_add_parliamentarian_generals = yes
		load_oob = "SIA_Parliamentarians"
		# Syndie Cabinet
		clear_sic_slot = yes
		activate_advisor = SIA_thawan_thamrongnawasawat_sic
	}
	else = { #Plaek is Parliamentarian
		set_capital = { state = 823 } # Nakhon Ratchasima - Royalist
		set_cosmetic_tag = SIA_Royalist
		start_civil_war = {
			### basics ###
			set_cosmetic_tag = SIA_Parliament
			ruling_party = paternal_autocrat
			ideology = authoritarian_democrat
			size = 0.6
			navy_ratio = 0

			### states ###
			capital = 289
			states = { 289 724 749 824 825 831 }

			### country leader ###
			keep_political_leader = yes
			keep_political_party_members = yes
			event_target:SIA_pridi_phanomyong_target = {
				set_nationality = PREV
			}
			if = {
				limit = { has_character = SIA_pridi_phanomyong }
				SIA_pridi_phanomyong = {
					if = {
						limit = { has_ideology = authoritarian_democrat_subtype }
						promote_character = yes
					}
					else = {
						add_country_leader_role = {
							country_leader = {
								desc = SIA_pridi_phanomyong_leader_desc
								ideology = authoritarian_democrat_subtype
							}
							promote_leader = yes
						}
					}
				}
			}

			### unit leaders ###
			keep_unit_leaders_trigger = {
				has_character_flag = SIA_royalist
			}

			### effects ###
			copy_popularities_of_PREV = yes
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.20
			}
			SIA_add_government_generals = yes
			SIA_add_neutral_generals = yes
			SIA_add_parliamentarian_generals = yes
			add_ideas = SIA_SiaCW_div_limit_bonus
			load_oob = "SIA_Government"
			load_oob = "SIA_Parliamentarians"
			# Parliamentarian Cabinet
			clear_sic_slot = yes
			activate_advisor = SIA_phot_phahonyothin_sic

			every_state = {
				limit = { is_claimed_by = SIA }
				add_claim_by = PREV
			}

			save_global_event_target_as = SIA_civil_war_target
		}
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.20
		}
		set_political_party = { ideology = totalist popularity = 0 }
		set_political_party = { ideology = syndicalist popularity = 0 }
		set_political_party = { ideology = radical_socialist popularity = 0 }
		set_political_party = { ideology = social_democrat popularity = 0 }
		SIA_add_royalist_generals = yes
		load_oob = "SIA_Royalist"
		# Boworadet Cabinet
		clear_sic_slot = yes
		activate_advisor = SIA_boworadet_kridakorn_sic
	}

	set_country_flag = SIA_REBEL
	add_ideas = SIA_SiaCW_div_limit_bonus
	load_oob = "SIA_Seperatist"
	activate_mission = SIR_secure_bangkok
}

#############################
#
# Create Republican Leaders
#
#############################

SIA_create_republican_leaders = {
	hidden_effect = {
		# make sure everyone is in SIA in the first place
		event_target:SIA_supha_sirimanon_target = {
			set_nationality = PREV
		}
		event_target:SIA_pridi_phanomyong_target = {
			set_nationality = PREV
		}
		event_target:SIA_thawan_thamrongnawasawat_target = {
			set_nationality = PREV
		}
		event_target:SIA_pote_sarasin_target = { set_nationality = PREV }
		event_target:SIA_seni_pramoj_target = { set_nationality = PREV }
		if = {
			limit = { has_event_target = SIA_plaek_phibunsongkhram_target }
			event_target:SIA_plaek_phibunsongkhram_target = {
				set_nationality = PREV
			}
		}
		else = {
			event_target:SIA_phao_sriyanond_target = {
				set_nationality = PREV
			}
		}
		event_target:SIA_sarit_thanarat_target = {
			set_nationality = PREV
		}
	}
	if = {
		limit = { has_character = SIA_supha_sirimanon }
		SIA_supha_sirimanon = {
			if = {
				limit = { has_ideology = totalist_subtype }
				promote_character = { ideology = totalist_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = SIA_supha_sirimanon_leader_desc
						ideology = totalist_subtype
						traits = { permanent_revolutionary }
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { has_ideology = syndicalist_subtype }
				promote_character = { ideology = syndicalist_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = SIA_supha_sirimanon_leader_desc
						ideology = syndicalist_subtype
						traits = { permanent_revolutionary }
					}
					promote_leader = yes
				}
			}
		}
	}
	if = {
		limit = { has_character = SIA_pridi_phanomyong }
		SIA_pridi_phanomyong = {
			if = {
				limit = { has_ideology = radical_socialist_subtype }
				promote_character = { ideology = radical_socialist_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = SIA_pridi_phanomyong_victorious_leader_desc
						ideology = radical_socialist_subtype
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { has_ideology = social_democrat_subtype }
				promote_character = { ideology = social_democrat_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = SIA_pridi_phanomyong_victorious_leader_desc
						ideology = social_democrat_subtype
					}
					promote_leader = yes
				}
			}
		}
	}
	if = {
		limit = { has_character = SIA_thawan_thamrongnawasawat }
		SIA_thawan_thamrongnawasawat = {
			if = {
				limit = { has_ideology = social_liberal_subtype }
				promote_character = { ideology = social_liberal_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = SIA_thawan_thamrongnawasawat_leader_desc
						ideology = social_liberal_subtype
					}
					promote_leader = yes
				}
			}
		}
	}
	if = {
		limit = { has_character = SIA_pote_sarasin }
		SIA_pote_sarasin = {
			if = {
				limit = { has_ideology = market_liberal_subtype }
				promote_character = { ideology = market_liberal_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = SIA_pote_sarasin_leader_desc
						ideology = market_liberal_subtype
					}
					promote_leader = yes
				}
			}
		}
	}
	if = {
		limit = { has_character = SIA_seni_pramoj }
		SIA_seni_pramoj = {
			if = {
				limit = { has_ideology = social_conservative_subtype }
				promote_character = { ideology = social_conservative_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = SIA_seni_pramoj_leader_desc
						ideology = social_conservative_subtype
					}
					promote_leader = yes
				}
			}
		}
	}
	if = {
		limit = {
			NOT = {
				has_country_leader = { character = SIA_phao_sriyanond }
				has_country_leader = { character = SIA_sarit_thanarat }
			}
		}
		if = {
			limit = { has_character = SIA_sarit_thanarat }
			SIA_sarit_thanarat = {
				if = {
					limit = { has_ideology = national_populist_subtype }
					promote_character = { ideology = national_populist_subtype }
				}
				else = {
					add_country_leader_role = {
						country_leader = {
							desc = SIA_sarit_thanarat_leader_desc
							ideology = national_populist_subtype
							traits = { SIA_pho_khun_trait }
						}
						promote_leader = yes
					}
				}
			}
		}
		if = {
			limit = { has_event_target = SIA_plaek_phibunsongkhram_target }
			if = {
				limit = { has_character = SIA_plaek_phibunsongkhram }
				SIA_plaek_phibunsongkhram = {
					if = {
						limit = { has_ideology = authoritarian_democrat_subtype }
						promote_character = { ideology = authoritarian_democrat_subtype }
					}
					else = {
						add_country_leader_role = {
							country_leader = {
								desc = SIA_plaek_phibunsongkhram_leader_desc
								ideology = authoritarian_democrat_subtype
								traits = { SIA_iron_marshal_trait }
							}
							promote_leader = yes
						}
					}
					if = {
						limit = { has_ideology = paternal_autocrat_subtype }
						promote_character = { ideology = paternal_autocrat_subtype }
					}
					else = {
						add_country_leader_role = {
							country_leader = {
								desc = SIA_plaek_phibunsongkhram_leader_desc
								ideology = paternal_autocrat_subtype
								traits = { SIA_iron_marshal_trait }
							}
							promote_leader = yes
						}
					}
					if = {
						limit = { has_ideology = national_populist_subtype }
						promote_character = { ideology = national_populist_subtype }
					}
					else = {
						add_country_leader_role = { #need to re-add his original role
							country_leader = {
								desc = SIA_plaek_phibunsongkhram_leader_desc
								ideology = national_populist_subtype
								traits = { SIA_iron_marshal_trait }
							}
							promote_leader = yes
						}
					}
				}
			}
		}
		else = {
			if = {
				limit = { has_character = SIA_phao_sriyanond }
				SIA_phao_sriyanond = {
					if = {
						limit = { has_ideology = authoritarian_democrat_subtype }
						promote_character = { ideology = authoritarian_democrat_subtype }
					}
					else = {
						add_country_leader_role = {
							country_leader = {
								desc = SIA_phao_sriyanond_leader_desc
								ideology = authoritarian_democrat_subtype
								traits = { SIA_prancing_knight_trait }
							}
							promote_leader = yes
						}
					}
					if = {
						limit = { has_ideology = paternal_autocrat_subtype }
						promote_character = { ideology = paternal_autocrat_subtype }
					}
					else = {
						add_country_leader_role = {
							country_leader = {
								desc = SIA_phao_sriyanond_leader_desc
								ideology = paternal_autocrat_subtype
								traits = { SIA_prancing_knight_trait }
							}
							promote_leader = yes
						}
					}
				}
			}
		}
	}
}

#############################
#
# Create Mahidol Leaders
#
#############################

SIA_create_mahidol_leaders = {
	if = { # Rama VII
		limit = { has_event_target = SIA_prajadhipok_target }
		SIA_create_prajadhipok = yes
	}
	else_if = { # Rama VIII
		limit = { has_event_target = SIA_ananda_mahidol_target }
		SIA_create_ananda_mahidol = yes
	}
	else = { # Rama IX - 1946.6.8
		SIA_create_bhumibol_adulyadej = yes
	}
}

SIA_create_prajadhipok = {
	hidden_effect = {
		event_target:SIA_prajadhipok_target = {
			remove_all_country_leader_roles = yes
			set_nationality = PREV
		}
		event_target:SIA_ananda_mahidol_target = {
			remove_all_country_leader_roles = yes
			set_nationality = PREV
		}
		event_target:SIA_bhumibol_adulyadej_target = {
			remove_all_country_leader_roles = yes
			set_nationality = PREV
		}
	}
	if = {
		limit = { has_character = SIA_prajadhipok }
		SIA_prajadhipok = {
			add_country_leader_role = {
				country_leader = {
					desc = SIA_prajadhipok_leader_desc
					ideology = social_democrat_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_prajadhipok_leader_desc
					ideology = social_liberal_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_prajadhipok_leader_desc
					ideology = market_liberal_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_prajadhipok_leader_desc
					ideology = social_conservative_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_prajadhipok_leader_desc
					ideology = authoritarian_democrat_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_prajadhipok_leader_desc
					ideology = paternal_autocrat_subtype
				}
				promote_leader = yes
			}
		}
	}
}

SIA_create_ananda_mahidol = {
	hidden_effect = {
		event_target:SIA_ananda_mahidol_target = {
			remove_all_country_leader_roles = yes
			set_nationality = PREV
		}
		event_target:SIA_bhumibol_adulyadej_target = {
			remove_all_country_leader_roles = yes
			set_nationality = PREV
		}
	}
	if = {
		limit = { has_character = SIA_ananda_mahidol }
		SIA_ananda_mahidol = {
			add_country_leader_role = {
				country_leader = {
					desc = SIA_ananda_mahidol_leader_desc
					ideology = social_democrat_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_ananda_mahidol_leader_desc
					ideology = social_liberal_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_ananda_mahidol_leader_desc
					ideology = market_liberal_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_ananda_mahidol_leader_desc
					ideology = social_conservative_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_ananda_mahidol_leader_desc
					ideology = authoritarian_democrat_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_ananda_mahidol_leader_desc
					ideology = paternal_autocrat_subtype
				}
				promote_leader = yes
			}
		}
	}
}

SIA_create_bhumibol_adulyadej = {
	hidden_effect = {
		event_target:SIA_bhumibol_adulyadej_target = {
			remove_all_country_leader_roles = yes
			set_nationality = PREV
		}
	}
	if = {
		limit = { has_character = SIA_bhumibol_adulyadej }
		SIA_bhumibol_adulyadej = {
			add_country_leader_role = {
				country_leader = {
					desc = SIA_bhumibol_adulyadej_leader_desc
					ideology = social_democrat_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_bhumibol_adulyadej_leader_desc
					ideology = social_liberal_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_bhumibol_adulyadej_leader_desc
					ideology = market_liberal_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_bhumibol_adulyadej_leader_desc
					ideology = social_conservative_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_bhumibol_adulyadej_leader_desc
					ideology = authoritarian_democrat_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_bhumibol_adulyadej_leader_desc
					ideology = paternal_autocrat_subtype
				}
				promote_leader = yes
			}
		}
	}
}

#############################
#
# Create Chakrabongse Leaders
#
#############################

SIA_create_chakrabongse_leaders = {
	hidden_effect = {
		event_target:SIA_chula_chakrabongse_target = { # Chakrabongse Line of Succession
			remove_all_country_leader_roles = yes
			set_nationality = PREV
		}
	}
	if = {
		limit = { has_character = SIA_chula_chakrabongse }
		SIA_chula_chakrabongse = {
			add_country_leader_role = {
				country_leader = {
					desc = SIA_chula_chakrabongse_leader_desc
					ideology = social_democrat_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_chula_chakrabongse_leader_desc
					ideology = social_liberal_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_chula_chakrabongse_leader_desc
					ideology = market_liberal_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_chula_chakrabongse_leader_desc
					ideology = social_conservative_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_chula_chakrabongse_leader_desc
					ideology = authoritarian_democrat_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_chula_chakrabongse_leader_desc
					ideology = paternal_autocrat_subtype
				}
				promote_leader = yes
			}
		}
	}
}

#############################
#
# Create Paribatra Leaders
#
#############################

SIA_create_paribatra_leaders = {
	if = { # Paribatra Sukhumbhand
		limit = { has_event_target = SIA_paribatra_sukhumbhand_target }
		SIA_create_paribatra_sukhumbhand = yes
	}
	else_if = { # Chumbhotbongs Paribatra
		limit = { has_event_target = SIA_chumbhotbongs_paribatra_target }
		SIA_create_chumbhotbongs_paribatra = yes
	}
	else = { # Sukhumbhinanda -  1959.9.14
		SIA_create_sukhumabhininda = yes
	}
}

SIA_create_paribatra_sukhumbhand = {
	hidden_effect = {
		event_target:SIA_paribatra_sukhumbhand_target = {
			remove_all_country_leader_roles = yes
			set_nationality = PREV
		}
		event_target:SIA_chumbhotbongs_paribatra_target = {
			remove_all_country_leader_roles = yes
			set_nationality = PREV
		}
		event_target:SIA_sukhumabhinanda_target = {
			remove_all_country_leader_roles = yes
			set_nationality = PREV
		}
	}
	if = {
		limit = { has_character = SIA_paribatra_sukhumbhand }
		SIA_paribatra_sukhumbhand = {
			add_country_leader_role = {
				country_leader = {
					desc = SIA_paribatra_sukhumbhand_leader_desc
					ideology = social_democrat_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_paribatra_sukhumbhand_leader_desc
					ideology = social_liberal_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_paribatra_sukhumbhand_leader_desc
					ideology = market_liberal_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_paribatra_sukhumbhand_leader_desc
					ideology = social_conservative_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_paribatra_sukhumbhand_leader_desc
					ideology = authoritarian_democrat_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_paribatra_sukhumbhand_leader_desc
					ideology = paternal_autocrat_subtype
				}
				promote_leader = yes
			}
		}
	}
}

SIA_create_chumbhotbongs_paribatra = {
	hidden_effect = {
		event_target:SIA_chumbhotbongs_paribatra_target = {
			remove_all_country_leader_roles = yes
			set_nationality = PREV
		}
		event_target:SIA_sukhumabhinanda_target = {
			remove_all_country_leader_roles = yes
			set_nationality = PREV
		}
	}
	if = {
		limit = { has_character = SIA_chumbhotbongs_paribatra }
		SIA_chumbhotbongs_paribatra = {
			add_country_leader_role = {
				country_leader = {
					desc = SIA_chumbhotbongs_paribatra_leader_desc
					ideology = social_democrat_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_chumbhotbongs_paribatra_leader_desc
					ideology = social_liberal_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_chumbhotbongs_paribatra_leader_desc
					ideology = market_liberal_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_chumbhotbongs_paribatra_leader_desc
					ideology = social_conservative_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_chumbhotbongs_paribatra_leader_desc
					ideology = authoritarian_democrat_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_chumbhotbongs_paribatra_leader_desc
					ideology = paternal_autocrat_subtype
				}
				promote_leader = yes
			}
		}
	}
}

SIA_create_sukhumabhininda = {
	hidden_effect = {
		event_target:SIA_sukhumabhinanda_target = {
			remove_all_country_leader_roles = yes
			set_nationality = PREV
		}
	}
	if = {
		limit = { has_character = SIA_sukhumabhinanda }
		SIA_sukhumabhinanda = {
			add_country_leader_role = {
				country_leader = {
					desc = SIA_sukhumabhinanda_leader_desc
					ideology = social_democrat_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_sukhumabhinanda_leader_desc
					ideology = social_liberal_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_sukhumabhinanda_leader_desc
					ideology = market_liberal_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_sukhumabhinanda_leader_desc
					ideology = social_conservative_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_sukhumabhinanda_leader_desc
					ideology = authoritarian_democrat_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = SIA_sukhumabhinanda_leader_desc
					ideology = paternal_autocrat_subtype
				}
				promote_leader = yes
			}
		}
	}
}

#################################
#
# Abolish/Reinstall Royal Titles
#
#################################

SIA_remove_royal_titles = {
	custom_effect_tooltip = SIA_remove_title_tt
	hidden_effect = {
		### Country Leaders ###
		event_target:SIA_pridi_phanomyong_target = {
			set_character_name = SIA_pridi_phanomyong
		}
		event_target:SIA_plaek_phibunsongkhram_target = {
			set_character_name = SIA_plaek_phibunsongkhram
		}

		### Field Marshal
		event_target:SIA_boworadet_kridakorn_target = {
			set_character_name = SIA_boworadet_kridakorn
		}
		event_target:SIA_jarun_seriroengrit_target = {
			set_character_name = SIA_jarun_seriroengrit
		}

		### General
		event_target:SIA_phot_phahonyothin_target = { # Phahonphonpayuhasena
			set_character_name = SIA_phot_phahonyothin
		}
		event_target:SIA_din_tharab_target = { # Srisitthisongkhram
			set_character_name = SIA_din_tharab
		}
		event_target:SIA_sala_emasiri_target = { # Rithhi-arkaney
			set_character_name = SIA_sala_emasiri
		}
		event_target:SIA_wan_chuthin_target = { # Prasartpitthayayuth
			set_character_name = SIA_wan_chuthin
		}
		event_target:SIA_phin_choonhavan_target = { # Chumnanyutthasart
			set_character_name = SIA_phin_choonhavan
		}
		event_target:SIA_thep_panthumasaen_target = { # Songsuradet
			set_character_name = SIA_thep_panthumasaen
		}
		event_target:SIA_adul_adulyadejchrat_target = { # Adulyadejchrat
			set_character_name = SIA_adul_adulyadejchrat
		}
		event_target:SIA_pichit_kriengsakpichit_target = { # Kriengsakpichit
			set_character_name = SIA_pichit_kriengsakpichit
		}
		event_target:SIA_karj_karjsongkhram_target = { # Karjsongkhram
			set_character_name = SIA_karj_karjsongkhram
		}
		event_target:SIA_mangkorn_promyothee_target = { # Promyothee
			set_character_name = SIA_mangkorn_promyothee
		}

		### Admiral
		event_target:SIA_sindhu_kamolnawin_target = { # Sinthusongkhramchai
			set_character_name = SIA_sindhu_kamolnawin
		}
		event_target:SIA_thawan_thamrongnawasawat_target = { # Thamrongnawasawat
			set_character_name = SIA_thawan_thamrongnawasawat
		}
		event_target:SIA_thongdee_suwanprueng_target = { # Witchitchollatee
			set_character_name = SIA_thongdee_suwanprueng
		}
		event_target:SIA_bunchai_sawathasuk_target = { # Wicharnjakkich
			set_character_name = SIA_bunchai_sawathasuk
		}
		event_target:SIA_mongkol_mongkolnawin_target = { # Mongkolnavin
			set_character_name = SIA_mongkol_mongkolnawin
		}
		event_target:SIA_prayoon_yutthasartkosol_target = { # Yutthasartkosol
			set_character_name = SIA_prayoon_yutthasartkosol
		}

		### Air Chief
		event_target:SIA_boonjeam_komolmit_target = {
			set_character_name = SIA_boonjeam_komolmit
		}
		event_target:SIA_long_sinsuk_target = {
			set_character_name = SIA_long_sinsuk
		}
		event_target:SIA_munee_mahasantana_target = {
			set_character_name = SIA_munee_mahasantana
		}
		event_target:SIA_sunee_suwanprateep_target = {
			set_character_name = SIA_sunee_suwanprateep
		}
		event_target:SIA_thip_ketuthat_target = {
			set_character_name = SIA_thip_ketuthat
		}

		### Advisors
		# SIC
		event_target:SIA_kon_hutasingha_target = {
			set_character_name = SIA_kon_hutasingha
		}
		# Political
		event_target:SIA_wan_waithayakon_target = {
			set_character_name = SIA_wan_waithayakon
		}
		event_target:SIA_wichit_wichitwathakan_target = {
			set_character_name = SIA_wichit_wichitwathakan
		}
		# Research
		event_target:SIA_jira_wichitsongkhram_target = {
			set_character_name = SIA_jira_wichitsongkhram
		}
		# Economic
		event_target:SIA_wisuth_tonwanik_target = {
			set_character_name = SIA_wisuth_tonwanik
		}
		# Construction
		event_target:SIA_jerm_arwuth_target = {
			set_character_name = SIA_jerm_arwuth
		}
		event_target:SIA_narisara_nuwattiwong_target = {
			set_character_name = SIA_narisara_nuwattiwong
		}
		event_target:SIA_purachatra_jayakara_target = {
			set_character_name = SIA_purachatra_jayakara
		}
		# Other
		event_target:SIA_bung_suphachalasai_target = {
			set_character_name = SIA_bung_suphachalasai
		}
		event_target:SIA_pijarn_dullalampha_target = {
			set_character_name = SIA_pijarn_dullalampha
		}
	}
}

SIA_reinstall_royal_titles = {
	custom_effect_tooltip = SIA_reinstall_title_tt
	hidden_effect = {
		### Country Leaders ###
		event_target:SIA_pridi_phanomyong_target = {
			set_character_name = SIA_pridi_phanomyong_royal
		}
		event_target:SIA_plaek_phibunsongkhram_target = {
			set_character_name = SIA_plaek_phibunsongkhram_royal
		}

		### Field Marshal
		event_target:SIA_boworadet_kridakorn_target = { # Boworadet
			set_character_name = SIA_boworadet_kridakorn_royal
		}
		event_target:SIA_jarun_seriroengrit_target = { # Seriroengrit
			set_character_name = SIA_jarun_seriroengrit_royal
		}

		### General
		event_target:SIA_phot_phahonyothin_target = { # Phahonphonpayuhasena
			set_character_name = SIA_phot_phahonyothin_royal
		}
		event_target:SIA_din_tharab_target = { # Srisitthisongkhram
			set_character_name = SIA_din_tharab_royal
		}
		event_target:SIA_sala_emasiri_target = { # Rithhi-arkaney
			set_character_name = SIA_sala_emasiri_royal
		}
		event_target:SIA_wan_chuthin_target = { # Prasartpitthayayuth
			set_character_name = SIA_wan_chuthin_royal
		}
		event_target:SIA_phin_choonhavan_target = { # Chumnanyutthasart
			set_character_name = SIA_phin_choonhavan_royal
		}
		event_target:SIA_thep_panthumasaen_target = { # Songsuradet
			set_character_name = SIA_thep_panthumasaen_royal
		}
		event_target:SIA_adul_adulyadejchrat_target = { # Adulyadejchrat
			set_character_name = SIA_adul_adulyadejchrat_royal
		}
		event_target:SIA_pichit_kriengsakpichit_target = { # Kriengsakpichit
			set_character_name = SIA_pichit_kriengsakpichit_royal
		}
		event_target:SIA_karj_karjsongkhram_target = { # Karjsongkhram
			set_character_name = SIA_karj_karjsongkhram_royal
		}
		event_target:SIA_mangkorn_promyothee_target = { # Promyothee
			set_character_name = SIA_mangkorn_promyothee_royal
		}

		### Admiral
		event_target:SIA_sindhu_kamolnawin_target = { # Sinthusongkhramchai
			set_character_name = SIA_sindhu_kamolnawin_royal
		}
		event_target:SIA_thawan_thamrongnawasawat_target = { # Thamrongnawasawat
			set_character_name = SIA_thawan_thamrongnawasawat_royal
		}
		event_target:SIA_thongdee_suwanprueng_target = { # Witchitchollatee
			set_character_name = SIA_thongdee_suwanprueng_royal
		}
		event_target:SIA_bunchai_sawathasuk_target = { # Wicharnjakkich
			set_character_name = SIA_bunchai_sawathasuk_royal
		}
		event_target:SIA_mongkol_mongkolnawin_target = { # Mongkolnawin
			set_character_name = SIA_mongkol_mongkolnawin_royal
		}
		event_target:SIA_prayoon_yutthasartkosol_target = { # Yutthasartkosol
			set_character_name = SIA_prayoon_yutthasartkosol_royal
		}

		### Air Chief
		event_target:SIA_boonjeam_komolmit_target = {
			set_character_name = SIA_boonjeam_komolmit_royal
		}
		event_target:SIA_long_sinsuk_target = {
			set_character_name = SIA_long_sinsuk_royal
		}
		event_target:SIA_munee_mahasantana_target = {
			set_character_name = SIA_munee_mahasantana_royal
		}
		event_target:SIA_sunee_suwanprateep_target = {
			set_character_name = SIA_sunee_suwanprateep_royal
		}
		event_target:SIA_thip_ketuthat_target = {
			set_character_name = SIA_thip_ketuthat_royal
		}

		### Advisors
		# SIC
		event_target:SIA_kon_hutasingha_target = {
			set_character_name = SIA_kon_hutasingha_royal
		}
		# Political
		event_target:SIA_wan_waithayakon_target = {
			set_character_name = SIA_wan_waithayakon_royal
		}
		event_target:SIA_wichit_wichitwathakan_target = {
			set_character_name = SIA_wichit_wichitwathakan_royal
		}
		# Research
		event_target:SIA_jira_wichitsongkhram_target = {
			set_character_name = SIA_jira_wichitsongkhram_royal
		}
		# Economic
		event_target:SIA_wisuth_tonwanik_target = {
			set_character_name = SIA_wisuth_tonwanik_royal
		}
		# Construction
		event_target:SIA_narisara_nuwattiwong_target = {
			set_character_name = SIA_narisara_nuwattiwong_royal
		}
		event_target:SIA_purachatra_jayakara_target = {
			set_character_name = SIA_purachatra_jayakara_royal
		}
		# Other
		event_target:SIA_jerm_arwuth_target = {
			set_character_name = SIA_jerm_arwuth_royal
		}
		event_target:SIA_bung_suphachalasai_target = {
			set_character_name = SIA_bung_suphachalasai_royal
		}
		event_target:SIA_pijarn_dullalampha_target = {
			set_character_name = SIA_pijarn_dullalampha_royal
		}
	}
}

################################
#
# Royal/Republican Guard Switch
#
################################

SIA_repub_template = {
	delete_unit_template_and_units = {
		division_template = "Korngpon Taharn Rarb Raksa Pra-ong"
		disband = yes
	}
	division_template = {
		name = "Korngpon Taharn Rarb Luang" # Ceremonial Guard
		division_names_group = SIA_REPUB_INF_01
		is_locked = yes
		regiments = {
			infantry = { x = 0 y = 0 }
			infantry = { x = 0 y = 1 }
			infantry = { x = 0 y = 2 }
			infantry = { x = 1 y = 0 }
			infantry = { x = 1 y = 1 }
			infantry = { x = 1 y = 2 }
			infantry = { x = 2 y = 0 }
			infantry = { x = 2 y = 1 }
			infantry = { x = 2 y = 2 }
		}
		support = {
			engineer = { x = 0 y = 0 }
			artillery = { x = 0 y = 1 }
		}
	}
	random_owned_state = {
		prioritize = { 289 }
		create_unit = {
			division = "name = \"Korngpon Thi 1 'Pokpak-Sataranarath'\" division_template = \"Korngpon Taharn Rarb Luang\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
			owner = SIA
		}
		create_unit = {
			division = "name = \"Korngpon Taharn Rarb Thi 2 'Ratthapithi'\" division_template = \"Korngpon Taharn Rarb Luang\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
			owner = SIA
		}
	}
}

SIA_royal_template = {
	delete_unit_template_and_units = {
		division_template = "Korngpon Taharn Rarb Luang"
		disband = yes
	}
	division_template = {
		name = "Korngpon Taharn Rarb Raksa Pra-ong" # King's Guard Unit
		division_names_group = SIA_ROYAL_INF_01
		is_locked = yes
		regiments = {
			infantry = { x = 0 y = 0 }
			infantry = { x = 0 y = 1 }
			infantry = { x = 0 y = 2 }
			infantry = { x = 1 y = 0 }
			infantry = { x = 1 y = 1 }
			infantry = { x = 1 y = 2 }
			infantry = { x = 2 y = 0 }
			infantry = { x = 2 y = 1 }
			infantry = { x = 2 y = 2 }
		}
		support = {
			engineer = { x = 0 y = 0 }
			artillery = { x = 0 y = 1 }
		}
	}
	random_owned_state = {
		prioritize = { 289 }
		create_unit = {
			division = "name = \"Korngpon Thi 1 'Raksa Pra-ong'\" division_template = \"Korngpon Taharn Rarb Raksa Pra-ong\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
			owner = SIA
		}
		create_unit = {
			division = "name = \"Korngpon Taharn Rarb Thi 2 'Raksa Pra-ong'\" division_template = \"Korngpon Taharn Rarb Raksa Pra-ong\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
			owner = SIA
		}
	}
}

##################################
#
# Modern Siamese Nation Idea Swap
#
##################################

SIA_MSN_conversion = {
	## Remove Previous Tier if Applicable
	if = {
		limit = { has_idea = SIA_SocDem_3 }
		remove_ideas = SIA_SocDem_3
	}
	else_if = {
		limit = { has_idea = SIA_SocCon_3 }
		remove_ideas = SIA_SocCon_3
	}
	else_if = {
		limit = { has_idea = SIA_Liberal_3 }
		remove_ideas = SIA_Liberal_3
	}

	## Add New MSN
	if = {
		limit = {
			has_country_flag = SIA_PRIDI_PANOMYONG_ELECTED_ELECTED
			has_completed_focus = SIA_statewelfare
		}
		add_ideas = SIA_MSN_SocDem_idea
	}
	else_if = {
		limit = {
			has_country_flag = SIA_SENI_PRAMOJ_ELECTED
			has_completed_focus = SIA_adevotedmonarchy
		}
		add_ideas = SIA_MSN_SocCon_idea
	}
	else_if = {
		limit = {
			has_country_flag = SIA_PHRAYA_PHAHON_ELECTED
			has_completed_focus = SIA_progressivemeasures
		}
		add_ideas = SIA_MSN_Liberal_idea
	}
	else = {
		add_ideas = SIA_MSN_idea
	}
}

###################
#
# Decisions Enabler
#
###################

SIA_Min_Transport_Decisions_Unlocked = {
	effect_tooltip = {
		activate_targeted_decision = { decision = SIA_north_road_1 target = SIA }
		activate_targeted_decision = { decision = SIA_isan_road_1 target = SIA }
		activate_targeted_decision = { decision = SIA_east_road_2 target = SIA }
		activate_targeted_decision = { decision = SIA_pakt_road_1 target = SIA }
	}
	hidden_effect = {
		activate_targeted_decision = { decision = SIA_north_road_1 target = SIA }
		activate_targeted_decision = { decision = SIA_north_road_2 target = SIA }
		activate_targeted_decision = { decision = SIA_north_road_3 target = SIA }
		activate_targeted_decision = { decision = SIA_north_road_4 target = SIA }
		activate_targeted_decision = { decision = SIA_isan_road_1 target = SIA }
		activate_targeted_decision = { decision = SIA_isan_road_2 target = SIA }
		activate_targeted_decision = { decision = SIA_isan_road_3 target = SIA }
		activate_targeted_decision = { decision = SIA_east_road_2 target = SIA }
		activate_targeted_decision = { decision = SIA_east_road_3 target = SIA }
		activate_targeted_decision = { decision = SIA_pakt_road_1 target = SIA }
		activate_targeted_decision = { decision = SIA_pakt_road_2 target = SIA }
		activate_targeted_decision = { decision = SIA_pakt_road_3 target = SIA }
	}
}

