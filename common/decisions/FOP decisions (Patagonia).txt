###########################
# Patagonia decisions
###########################
# By WordZero, Fort
###########################

FOP_industrial_planning_scheme_decisions = {
	FOP_progreso_stage_1_supply = {			# Supply hub near ARG border and infra
		icon = GFX_decision_generic_prepare_civil_war
		allowed = { always = no } 			# Activated by previous decision
		visible = {
			owns_state = 512
		}

		ai_will_do = {
			factor = 10
		}

		cost = 0

		modifier = {
			political_power_gain = -0.20
			consumer_goods_factor = 0.10
		}

		days_remove = 120
		fire_only_once = yes

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_progreso_stage_1_supply"
			512 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = supply_node
					level = 1
					instant_build = yes
					province = 13305
				}
			}
			activate_targeted_decision = { target = 512 decision = FOP_progreso_stage_2_state_cat }
			activate_targeted_decision = { target = 1029 decision = FOP_progreso_stage_2_state_cat }
		}
	}
	FOP_progreso_stage_1_railway = {			# Railway to CHL and some trains
		icon = GFX_decision_train
		allowed = { always = no } 			# Activated by previous decision
		visible = {
			owns_state = 512
		}

		ai_will_do = {
			factor = 10
		}

		cost = 0

		modifier = {
			political_power_gain = -0.20
			consumer_goods_factor = 0.10
		}

		days_remove = 120
		fire_only_once = yes

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_progreso_stage_1_railway"
			build_railway = {
				path = { 10953 12349 13305 13222 11005 8161 5118 5169 }
			}
			add_equipment_to_stockpile = {
				type = train_equipment
				amount = 15
			}
		}
	}
	FOP_progreso_stage_2_state_cat = {
		icon = GFX_decision_animal_husbandry
		allowed = { always = no } 			# Activated by previous decision
		visible = {
			owns_state = FROM
		}

		ai_will_do = {
			factor = 10
		}

		cost = 0

		modifier = {
			political_power_gain = -0.10
			consumer_goods_factor = 0.10
		}

		days_remove = 120
		fire_only_once = yes
		state_target = yes

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_progreso_south_build_slots_1"
			FROM = {
				increase_state_category_by_one_level = yes
			}
			activate_targeted_decision = { target = FROM decision = FOP_progreso_stage_3_infra }
		}
	}
	FOP_progreso_stage_3_infra = {
		icon = generic_construction
		allowed = { always = no } 			# Activated by previous decision
		visible = {
			owns_state = FROM
		}

		ai_will_do = {
			factor = 10
		}

		cost = 0

		modifier = {
			political_power_gain = -0.15
			consumer_goods_factor = 0.10
		}

		days_remove = 140
		fire_only_once = yes
		state_target = yes

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_progreso_south_build_slots_1"
			FROM = {
				increase_state_category_by_one_level = yes
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
}
FOP_estados_socialistas_de_america_latina_decisions = {
	FOP_invite_syndie_country = {
		icon = generic_decision

		available = {
			if = {
				limit = { has_war = yes }
				any_enemy_country = { has_war_with = FROM }
			}
			else = {
				has_war = no
			}
		}

		visible = {
			is_faction_leader = yes
			FROM = {
				exists = yes
				has_socialist_government = yes
				is_in_faction = no
				is_subject = no
				NOT = { has_war_with = ROOT }
			}
		}

		fire_only_once = yes
		cost = 0

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				FROM = {
					has_war = yes
					NOT = {
						any_enemy_country = { has_war_with = ROOT }
					}
				}
			}
		}

		targets = { BOL BRA CHL COL ECU PAR PRU URG VEN }
		target_root_trigger = {
			is_faction_leader = yes
		}
		target_trigger = {
			FROM = {
				has_socialist_government = yes
				is_in_faction = no
				is_subject = no
				NOT = { has_war_with = ROOT }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FOP_invite_syndie_country target: [From.GetName]"
			FROM = { country_event = fop.22 }
		}
	}
}
FOP_falkland_coring_and_development_decisions = {
	FOP_begin_population_swapping_dec = {
		icon = eng_blackshirt_march
		allowed = { always = no } 			# Activated by focus FOP_the_revolution_successful
		available = {
			FOP_has_administrative_chaos = no
		}

		cost = 25
		days_remove = 150
		fire_only_once = yes

		modifier = {
			political_power_gain = -0.05
			consumer_goods_factor = 0.02
		}

		ai_will_do = {
			factor = 10
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_begin_population_swapping_dec"
			add_state_core = 299
			add_state_core = 720
			activate_targeted_decision = { target = 299 decision = FOP_falkland_road_dec }
			activate_targeted_decision = { target = 299 decision = FOP_naval_bases_dec }
		}
	}
	FOP_falkland_road_dec = {
		icon = generic_construction
		allowed = { always = no } 			# Activated by previous decision
		cost = 0
		days_remove = 70
		fire_only_once = yes
		state_target = yes

		modifier = {
			political_power_gain = -0.05
			consumer_goods_factor = 0.02
		}

		ai_will_do = {
			factor = 10
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_falkland_road_dec target: [From.GetName]"
			FROM = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			activate_targeted_decision = { target = 299 decision = ARG_dockyards_dec }
		}
	}
	FOP_naval_bases_dec = {
		icon = generic_naval
		allowed = { always = no } 			# Activated by previous decision
		cost = 0
		days_remove = 140
		fire_only_once = yes
		state_target = yes

		modifier = {
			political_power_gain = -0.05
			consumer_goods_factor = 0.02
		}

		ai_will_do = {
			factor = 10
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_naval_bases_dec target: [From.GetName]"
			FROM = {
				add_building_construction = {
					type = naval_base
					level = 3
					province = 12960
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 1
					province = 12960
					instant_build = yes
				}
			}
		}
	}
}
FOP_immigration_decisions = {
	FOP_Attract_Immigrants_Small = {
		name = FOP_Attract_Immigrants_decision
		icon = generic_political_discourse
		allowed = { always = no }				# Activated by effect FOP_increase_popular_support
		fire_only_once = no
		days_re_enable = 365
		cost = 10

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FOP_Attract_Immigrants_Small"
			add_to_variable = { var = fop_im_factor value = 5 }
			custom_effect_tooltip = IMMI_5
		}

		ai_will_do = { factor = 5 }
	}
	FOP_Attract_Immigrants_Medium = {
		name = FOP_Attract_Immigrants_decision
		icon = generic_political_discourse
		allowed = { always = no }				# Activated by effect FOP_increase_popular_support
		fire_only_once = no
		days_re_enable = 365
		cost = 20

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FOP_Attract_Immigrants_Medium"
			add_to_variable = { var = fop_im_factor value = 10 }
			custom_effect_tooltip = IMMI_10
		}

		ai_will_do = { factor = 5 }
	}
	FOP_Attract_Immigrants_Big = {
		name = FOP_Attract_Immigrants_decision
		icon = generic_political_discourse
		allowed = { always = no }				# Activated by effect FOP_increase_popular_support
		fire_only_once = no
		days_re_enable = 365
		cost = 40

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FOP_Attract_Immigrants_Big"
			add_to_variable = { var = fop_im_factor value = 20 }
			custom_effect_tooltip = IMMI_20
		}

		ai_will_do = { factor = 5 }
	}
}
FOP_resource_exploitation_decisions = {
	FOP_steel_extraction_1 = {
		icon = steel
		allowed = { always = no }				# Activated by focus FOP_exploiting_resources
		available = { has_manpower > 250 }
		visible = { owns_state = FROM }

		modifier = {
			political_power_gain = -0.05
			consumer_goods_factor = 0.05
		}

		cost = 25
		days_remove = 56
		fire_only_once = yes
		state_target = yes

		ai_will_do = {
			factor = 10
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FOP_steel_extraction_1 target: [From.GetName]"
			add_manpower = -250
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_steel_extraction_1 target: [From.GetName]"
			FROM = {
				add_resource = {
					type = steel
					amount = 2
				}
			}
			add_manpower = 150
			activate_targeted_decision = { target = 512 decision = FOP_steel_extraction_2 }
		}
	}
	FOP_steel_extraction_2 = {
		icon = steel
		allowed = { always = no }				# Activated by decision FOP_steel_extraction_1
		available = { has_manpower > 250 }
		visible = { owns_state = FROM }

		modifier = {
			political_power_gain = -0.05
			consumer_goods_factor = 0.05
		}

		cost = 25
		days_remove = 56
		fire_only_once = yes
		state_target = yes

		ai_will_do = {
			factor = 10
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FOP_steel_extraction_2 target: [From.GetName]"
			add_manpower = -250
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_steel_extraction_2 target: [From.GetName]"
			set_country_flag = FOP_steel_extraction_2_completed
			FROM = {
				add_resource = {
					type = steel
					amount = 4
				}
			}
			add_manpower = 150
		}
	}
	FOP_oil_extraction_1 = {
		icon = oil
		allowed = { always = no }				# Activated by focus FOP_exploiting_resources
		available = { has_manpower > 250 }
		visible = { owns_state = FROM }

		modifier = {
			political_power_gain = -0.05
			consumer_goods_factor = 0.05
		}

		cost = 30
		days_remove = 56
		fire_only_once = yes
		state_target = yes

		ai_will_do = {
			factor = 10
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FOP_oil_extraction_1 target: [From.GetName]"
			add_manpower = -250
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_oil_extraction_1 target: [From.GetName]"
			1029 = {
				add_resource = {
					type = oil
					amount = 6
				}
			}
			add_manpower = 150
			activate_targeted_decision = { target = 1029 decision = FOP_oil_extraction_2 }
		}
	}
	FOP_oil_extraction_2 = {
		icon = oil
		allowed = { always = no }				# Activated by decision FOP_oil_extraction_1
		available = { has_manpower > 250 }
		visible = { owns_state = FROM }

		modifier = {
			political_power_gain = -0.05
			consumer_goods_factor = 0.05
		}

		cost = 30
		days_remove = 56
		fire_only_once = yes
		state_target = yes

		ai_will_do = {
			factor = 10
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FOP_oil_extraction_2 target: [From.GetName]"
			add_manpower = -250
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_oil_extraction_2 target: [From.GetName]"
			set_country_flag = FOP_oil_extraction_2_completed
			1029 = {
				add_resource = {
					type = oil
					amount = 6
				}
			}
			add_manpower = 150
		}
	}
	FOP_combined_resource_exploitation = {
		icon = generic_construction
		allowed = { always = no }				# Activated by focus FOP_exploiting_resources
		available = {
			has_country_flag = FOP_steel_extraction_2_completed
			has_country_flag = FOP_oil_extraction_2_completed
			has_manpower > 500
		}

		visible = {
			owns_state = 512
			owns_state = 1029
		}

		modifier = {
			political_power_gain = -0.05
			consumer_goods_factor = 0.05
		}

		cost = 40
		days_remove = 50
		fire_only_once = yes

		ai_will_do = {
			factor = 10
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FOP_combined_resource_exploitation"
			add_manpower = -500
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_combined_resource_exploitation"
			512 = {
				add_resource = {
					type = steel
					amount = 4
				}
			}
			1029 = {
				add_resource = {
					type = oil
					amount = 6
				}
			}
			add_manpower = 200
		}
	}
}

### Repairing the Crises ###
FOP_anti_syndie_rebellion_decisions = {
	FOP_anti_syndie_rebellion_1 = {
		icon = eng_propaganda_campaigns
		allowed = { always = no }				# Activated by focus FOP_the_first_national_trade_union_congress
		custom_cost_text = FOP_anti_syndie_rebellion_cost
		custom_cost_trigger = {
			has_manpower > 10000
			has_war_support > 0.05
		}

		days_remove = 90
		fire_only_once = yes

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FOP_anti_syndie_rebellion_1"
			hidden_effect = {
				add_manpower = -10000
				add_war_support = -0.05
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_anti_syndie_rebellion_1"
			FOP_increase_popular_support = yes
		}
	}
	FOP_anti_syndie_rebellion_2 = {
		icon = generic_political_discourse
		allowed = { always = no }				# Activated by focus FOP_the_first_national_trade_union_congress
		custom_cost_text = FOP_anti_syndie_rebellion_cost
		custom_cost_trigger = {
			has_manpower > 10000
			has_war_support > 0.05
		}

		days_remove = 90
		fire_only_once = yes

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FOP_anti_syndie_rebellion_2"
			hidden_effect = {
				add_manpower = -10000
				add_war_support = -0.05
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_anti_syndie_rebellion_2"
			FOP_increase_popular_support = yes
		}
	}
	FOP_anti_syndie_rebellion_3 = {
		icon = generic_civil_support
		allowed = { always = no }				# Activated by focus FOP_the_first_national_trade_union_congress
		custom_cost_text = FOP_anti_syndie_rebellion_cost
		custom_cost_trigger = {
			has_manpower > 10000
			has_war_support > 0.05
		}

		days_remove = 90
		fire_only_once = yes

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FOP_anti_syndie_rebellion_3"
			hidden_effect = {
				add_manpower = -10000
				add_war_support = -0.05
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_anti_syndie_rebellion_3"
			FOP_increase_popular_support = yes
		}
	}
	FOP_anti_syndie_rebellion_4 = {
		icon = generic_army_support
		allowed = { always = no }				# Activated by focus FOP_the_first_national_trade_union_congress
		custom_cost_text = FOP_anti_syndie_rebellion_cost
		custom_cost_trigger = {
			has_manpower > 10000
			has_war_support > 0.05
		}

		days_remove = 90
		fire_only_once = yes

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FOP_anti_syndie_rebellion_4"
			hidden_effect = {
				add_manpower = -10000
				add_war_support = -0.05
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_anti_syndie_rebellion_4"
			FOP_increase_popular_support = yes
		}
	}
}
FOP_economic_crisis_decisions = {
	FOP_economic_crisis_1 = {
		icon = generic_operation
		allowed = { always = no }				# Activated by focus FOP_the_first_national_trade_union_congress
		custom_cost_text = FOP_economic_crisis_cost
		custom_cost_trigger = {
			if = {
				limit = { has_dlc = "Waking the Tiger" }
				num_of_civilian_factories_available_for_projects > 4
			}
		}

		days_remove = 90
		fire_only_once = yes

		modifier = {
			civilian_factory_use = 5
		}

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FOP_economic_crisis_1"
			FOP_add_non_dlc_costs = yes
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_economic_crisis_1"
			FOP_repair_industry = yes
		}
	}
	FOP_economic_crisis_2 = {
		icon = generic_construction
		allowed = { always = no }				# Activated by focus FOP_the_first_national_trade_union_congress
		custom_cost_text = FOP_economic_crisis_cost
		custom_cost_trigger = {
			if = {
				limit = { has_dlc = "Waking the Tiger" }
				num_of_civilian_factories_available_for_projects > 4
			}
		}

		days_remove = 90
		fire_only_once = yes

		modifier = {
			civilian_factory_use = 5
		}

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FOP_economic_crisis_2"
			FOP_add_non_dlc_costs = yes
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_economic_crisis_2"
			FOP_repair_industry = yes
		}
	}
	FOP_economic_crisis_3 = {
		icon = generic_industry
		allowed = { always = no }				# Activated by focus FOP_the_first_national_trade_union_congress
		custom_cost_text = FOP_economic_crisis_cost
		custom_cost_trigger = {
			if = {
				limit = { has_dlc = "Waking the Tiger" }
				num_of_civilian_factories_available_for_projects > 4
			}
		}

		days_remove = 90
		fire_only_once = yes

		modifier = {
			civilian_factory_use = 5
		}

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FOP_economic_crisis_3"
			FOP_add_non_dlc_costs = yes
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_economic_crisis_3"
			FOP_repair_industry = yes
		}
	}
	FOP_economic_crisis_4 = {
		icon = generic_agriculture
		allowed = { always = no }				# Activated by focus FOP_the_first_national_trade_union_congress
		custom_cost_text = FOP_economic_crisis_cost
		custom_cost_trigger = {
			if = {
				limit = { has_dlc = "Waking the Tiger" }
				num_of_civilian_factories_available_for_projects > 4
			}
		}

		days_remove = 90
		fire_only_once = yes

		modifier = {
			civilian_factory_use = 5
		}

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FOP_economic_crisis_4"
			FOP_add_non_dlc_costs = yes
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_economic_crisis_4"
			FOP_repair_industry = yes
		}
	}
}
FOP_administrative_chaos_decisions = {
	FOP_integrating_the_north1 = {
		icon = generic_civil_support
		allowed = { always = no }				# Activated by focus FOP_expand_the_bureacracy_to_the_north
		cost = 40
		days_remove = 95
		fire_only_once = yes

		ai_will_do = {
			factor = 1000
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_integrating_the_north1"
			FOP_reduce_administrative_chaos = yes
		}
	}
	FOP_integrating_the_north2 = {
		icon = eng_trade_unions_support
		allowed = { always = no }				# Activated by focus FOP_expand_the_bureacracy_to_the_north
		cost = 40
		days_remove = 95
		fire_only_once = yes

		ai_will_do = {
			factor = 1000
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_integrating_the_north2"
			FOP_reduce_administrative_chaos = yes
		}
	}
	FOP_integrating_the_north3 = {
		icon = generic_construction
		allowed = { always = no }				# Activated by focus FOP_expand_the_bureacracy_to_the_north
		cost = 40
		days_remove = 95
		fire_only_once = yes

		ai_will_do = {
			factor = 1000
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_integrating_the_north3"
			FOP_reduce_administrative_chaos = yes
		}
	}
	FOP_integrating_the_north4 = {
		icon = eng_trade_unions_demand
		allowed = { always = no }				# Activated by focus FOP_expand_the_bureacracy_to_the_north
		cost = 40
		days_remove = 95
		fire_only_once = yes

		ai_will_do = {
			factor = 1000
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_integrating_the_north4"
			FOP_reduce_administrative_chaos = yes
		}
	}
}

#################### Andesian Formation Decisions ####################

FOP_Andesian_formation_decisions = {
	FOP_attack_country = {
		icon = generic_ignite_civil_war

		available = {
			FOP_has_economic_fallout = no
			FOP_has_resistance_to_socialism = no
		}

		cancel_trigger = {
			OR = {
				NOT = { is_neighbor_of = FROM }
				NOT = {
					can_declare_war_on = FROM
					AND = {
						is_in_faction_with = FROM
						NOT = { has_subject = FROM }
					}
				}
			}
		}

		targets = { COL VEN ECU PRU BOL CHL PAR URG }
		target_root_trigger = {
			is_ai = no
			OR = {
				NOT = { country_exists = FRA }
				NOT = { country_exists = GER }
			}
		}
		target_trigger = {
			is_neighbor_of = FROM
			OR = {
				can_declare_war_on = FROM
				AND = {
					is_in_faction_with = FROM
					NOT = { has_subject = FROM }
				}
			}
		}

		cost = 0
		days_remove = 30
		fire_only_once = yes
		war_with_target_on_remove = yes

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				ROOT_is_threatened = yes
			}
			modifier = {
				factor = 0
				FROM = { is_stronger_than_ROOT_and_not_vulnerable = yes }
			}
			modifier = {
				factor = 0
				FROM = { overlord_is_stronger_than_ROOT_and_not_vulnerable = yes }
			}
			modifier = {
				factor = 0
				FROM = { faction_leader_is_stronger_than_ROOT_and_not_vulnerable = yes }
			}
			modifier = {
				factor = 0
				FROM = { guarantor_is_stronger_than_ROOT_and_not_vulnerable = yes }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FOP_attack_country target: [From.GetName]"
			set_country_flag = { flag = imminent_war days = 35 value = 1 }
			if = {
				limit = {
					is_faction_leader = yes
					is_in_faction_with = FROM
				}
				remove_from_faction = FROM
			}
			FROM = { country_event = kr.political.30 } #warning event
			setup_decision_attack_AI = yes
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_attack_country target: [From.GetName]"
			clear_decision_attack_AI = yes
			if = {
				limit = {
					is_in_faction_with = FROM
					is_faction_leader = no
				}
				set_temp_variable = { andesia_crisis_tag = FROM }
				faction_leader = { custom_effect_tooltip = FOP_INT_can_back_the_target_tt }
				hidden_effect = {
					FROM = { save_event_target_as = andesia_crisis_tag }
					faction_leader = { country_event = fop.223 }
				}
			}
			else = {
				if = {
					limit = {
						is_faction_leader = yes
						is_in_faction_with = FROM
					}
					remove_from_faction = FROM
				}
				declare_war_on = {
					target = FROM
					type = annex_everything
				}
			}
		}
	}

	FOP_integrate_country = {
		icon = eng_trade_unions_support

		available = {
			FOP_has_economic_fallout = no
			FOP_has_resistance_to_socialism = no
			received_expeditionary_forces = { sender = FROM value < 1 }
		}

		visible = {
			has_subject = FROM
			OR = {
				NOT = { country_exists = FRA }
				NOT = { country_exists = GER }
			}
		}

		targets = { COL VEN ECU PRU BOL CHL PAR URG }
		target_root_trigger = {
			is_ai = no
			OR = {
				NOT = { country_exists = FRA }
				NOT = { country_exists = GER }
			}
		}
		target_trigger = {
			FROM = { is_subject_of = ROOT }
		}

		cost = 0
		fire_only_once = yes

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FOP_integrate_country target: [From.GetName]"
			hidden_effect = {
				FROM = {
					every_owned_state = {
						limit = {
							is_claim_or_core_of_PREV = yes
							is_claim_or_core_of_ROOT = no
						}
						add_claim_by = ROOT
						set_state_flag = FOP_andesian_claim
					}
				}
			}
			annex_country = {
				target = FROM
				transfer_troops = no
			}
		}
	}

	FOP_declare_Andesia = {
		icon = generic_nationalism

		available = {
			has_war = no
			custom_trigger_tooltip = {
				tooltip = FOP_weltkrieg_is_over
				OR = {
					NOT = { country_exists = FRA }
					NOT = { country_exists = GER }
				}
			}
			owns_state = 279
			owns_state = 300
			owns_state = 301
			owns_state = 302
			owns_state = 303
			owns_state = 305
			owns_state = 306
			owns_state = 307
		}

		cost = 0
		fire_only_once = yes

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FOP_declare_Andesia"
			set_cosmetic_tag = FOP_AND
			add_timed_idea = {
				idea = FOP_resistance_to_andesia
				days = 3650
			}
			hidden_effect = {
				every_state = {
					limit = {
						is_on_continent = south_america
						is_claim_or_core_of_ROOT = no
						NOT = {
							is_core_of = WIF
							is_core_of = BRA
							is_core_of = SUR
						}
					}
					set_variable = { ambition_area_@ROOT = 1 }
					add_claim_by = ROOT
					set_state_flag = FOP_andesian_claim
				}
			}
		}
	}
}

### Coring Decisions
FOP_core_Argentina_decisions = {
	FOP_Integration_Large = {
		name = FOP_Integration
		icon = eng_trade_unions_support
		allowed = { always = no }				# Activated by focus FOP_expand_the_bureacracy_to_the_north
		available = {
			FOP_has_administrative_chaos = no
			controls_state = FROM
		}

		visible = {
			owns_state = FROM
		}

		state_target = yes
		cost = 75
		days_remove = 50
		on_map_mode = map_only
		fire_only_once = yes

		ai_will_do = {
			factor = 1000
			modifier = {
				add = FROM.state_strategic_value
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_Integration_Large target: [From.GetName]"
			add_state_core = FROM
		}
	}
	FOP_Integration_Medium = {
		name = FOP_Integration
		icon = eng_trade_unions_support
		allowed = { always = no }				# Activated by focus FOP_expand_the_bureacracy_to_the_north
		available = {
			FOP_has_administrative_chaos = no
			controls_state = FROM
		}

		visible = {
			owns_state = FROM
		}

		state_target = yes
		cost = 50
		days_remove = 50
		on_map_mode = map_only
		fire_only_once = yes

		ai_will_do = {
			factor = 1000
			modifier = {
				add = FROM.state_strategic_value
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_Integration_Medium target: [From.GetName]"
			add_state_core = FROM
		}
	}
	FOP_Integration_Small = {
		name = FOP_Integration
		icon = eng_trade_unions_support
		allowed = { always = no }				# Activated by focus FOP_expand_the_bureacracy_to_the_north
		available = {
			FOP_has_administrative_chaos = no
			controls_state = FROM
		}

		visible = {
			owns_state = FROM
		}

		state_target = yes
		cost = 25
		days_remove = 50
		on_map_mode = map_only
		fire_only_once = yes

		ai_will_do = {
			factor = 1000
			modifier = {
				add = FROM.state_strategic_value
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_Integration_Small target: [From.GetName]"
			add_state_core = FROM
		}
	}
}

####################### Strike Reactionaries Decisions #############################
FOP_strike_reactionaries_decisions = {
	FOP_strike_reactionary_country = {
		icon = generic_ignite_civil_war

		visible = {
			can_declare_war_on = FROM
			FROM = { has_socialist_government = no }
			NOT = { has_completed_focus = FOP_the_socialist_party_moderates }
		}

		targets = { BRA URG PAR CHL }
		target_root_trigger = {
			has_completed_focus = FOP_the_first_national_trade_union_congress
			NOT = { has_completed_focus = FOP_the_socialist_party_moderates }
			FOP_has_economic_fallout = no
			FOP_has_resistance_to_socialism = no
		}
		target_trigger = {
			can_declare_war_on = FROM
			FROM = { has_socialist_government = no }
		}

		cost = 40
		days_remove = 30
		fire_only_once = yes
		cancel_if_not_visible = yes

		ai_will_do = {
			factor = 50
			modifier = {
				factor = 0
				ROOT_is_threatened = yes
			}
			modifier = {
				factor = 0
				FROM = { is_stronger_than_ROOT_and_not_vulnerable = yes }
			}
			modifier = {
				factor = 0
				FROM = { overlord_is_stronger_than_ROOT_and_not_vulnerable = yes }
			}
			modifier = {
				factor = 0
				FROM = { faction_leader_is_stronger_than_ROOT_and_not_vulnerable = yes }
			}
			modifier = {
				factor = 0
				FROM = { guarantor_is_stronger_than_ROOT_and_not_vulnerable = yes }
			}
		}
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancelled FOP_strike_reactionary_country target: [From.GetName]"
			add_political_power = 40
			clr_country_flag = imminent_war
			clear_decision_attack_AI = yes
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FOP_strike_reactionary_country target: [From.GetName]"
			set_country_flag = { flag = imminent_war days = 35 value = 1 }
			FROM = { country_event = kr.political.30 } #warning event
			setup_decision_attack_AI = yes
			hidden_effect = {
				BRA = { country_event = urg.64 }
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_strike_reactionary_country target: [From.GetName]"
			clear_decision_attack_AI = yes
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
			if = {
				limit = { FROM = { tag = BRA } }
				URG = { country_event = { id = urg.16 days = 10 random = 20 } } #fire wank event for URG about not being at war while the world burns
			}
		}
	}
}

### Infrastructure Decisions
FOP_infrastructure_decisions = { #The Trains shall run on time
	FOP_nationalize_british_rails = {
		icon = eng_trade_unions_demand
		allowed = { always = no }				# Activated by focus FOP_rural_development
		cost = 0
		days_remove = 120
		fire_only_once = yes

		modifier = {
			political_power_gain = -0.05
			consumer_goods_factor = 0.05
			production_speed_infrastructure_factor = -0.10
		}

		ai_will_do = {
			factor = 50
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_nationalize_british_rails"
			if = {
				limit = { has_idea = FOP_nationalised_foreign_rails1 }
				swap_ideas = {
					remove_idea = FOP_nationalised_foreign_rails1
					add_idea = FOP_nationalised_foreign_rails2
				}
			}
			else = {
				add_ideas = FOP_nationalised_foreign_rails1
			}
		}
	}
	FOP_nationalize_german_rails = {
		icon = eng_trade_unions_demand
		allowed = { always = no }				# Activated by focus FOP_rural_development
		cost = 0
		days_remove = 120
		fire_only_once = yes

		modifier = {
			political_power_gain = -0.05
			consumer_goods_factor = 0.05
			production_speed_infrastructure_factor = -0.10
		}

		ai_will_do = {
			factor = 50
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_nationalize_german_rails"
			if = {
				limit = { has_idea = FOP_nationalised_foreign_rails1 }
				swap_ideas = {
					remove_idea = FOP_nationalised_foreign_rails1
					add_idea = FOP_nationalised_foreign_rails2
				}
			}
			else = {
				add_ideas = FOP_nationalised_foreign_rails1
			}
		}
	}
	FOP_Develop_Rails = {
		icon = GFX_decision_train
		allowed = { always = no }				# Activated by focus FOP_rural_development
		available = {
			controls_state = FROM
			if = {
				limit = { has_dlc = "Waking the Tiger" }
				num_of_civilian_factories_available_for_projects > 1
			}
			if = {
				limit = {
					FROM = {
						OR = {
							state = 902 #Cordoba
							state = 511 #Mendoza
							state = 449 #La Pampa
							state = 510 #La Mesopotamia
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = FOP_developed_rails_buenos_aires
					278 = { has_state_flag = FOP_developed_rails }
				}
			}
			else_if = {
				limit = {
					FROM = {
						OR = {
							state = 509 #Santiago del Estero
							state = 904 #Rioja
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = FOP_developed_rails_cordoba
					902 = { has_state_flag = FOP_developed_rails }
				}
			}
			else_if = {
				limit = {
					FROM = {
						OR = {
							state = 901 #Chaco Austral
							state = 903 #Jujuy
							state = 508 #Tucuman
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = FOP_developed_rails_santiago_del_estero
					509 = { has_state_flag = FOP_developed_rails }
				}
			}
			else_if = {
				limit = {
					FROM = {
						OR = {
							state = 579 #Neuquen
							state = 512 #Chubut
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = FOP_developed_rails_la_pampa
					449 = { has_state_flag = FOP_developed_rails }
				}
			}
			else_if = {
				limit = {
					FROM = { state = 1074 } #Misiones
				}
				custom_trigger_tooltip = {
					tooltip = FOP_developed_rails_entre_rios
					510 = { has_state_flag = FOP_developed_rails }
				}
			}
			else_if = {
				limit = {
					FROM = { state = 1029 } #Santa Cruz
				}
				custom_trigger_tooltip = {
					tooltip = FOP_developed_rails_chubut
					512 = { has_state_flag = FOP_developed_rails }
				}
			}
		}

		visible = {
			owns_state = FROM
		}

		state_target = yes
		custom_cost_text = FOP_develop_rails_cost
		custom_cost_trigger = {
			has_manpower > 1000
		}

		days_remove = 90
		fire_only_once = yes
		on_map_mode = map_only

		modifier = {
			civilian_factory_use = 2
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FOP_Develop_Rails target: [From.GetName]"
			FOP_add_non_dlc_costs = yes
			hidden_effect = { add_manpower = -1000 }
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_Develop_Rails target: [From.GetName]"
			add_manpower = 800
			FROM = {
				set_state_flag = FOP_developed_rails
				increase_state_category_by_one_level = yes
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
}

### Industrial Decisions
FOP_industrial_expansion_decisions = {
	FOP_civs_for_state = {
		icon = GFX_decision_factories
		allowed = { always = no }				# Activated by focus FOP_urban_development
		available = {
			controls_state = FROM
		}

		visible = {
			owns_state = FROM
			NOT = { has_variable = FROM.FOP_industrial_expansion }
			has_completed_focus = FOP_urban_development
			FOP_has_economic_fallout = no
			FOP_has_resistance_to_socialism = no
		}

		on_map_mode = map_and_decisions_view
		cost = 40
		days_remove = 120
		fire_only_once = yes

		state_target = yes

		cancel_trigger = {
			NOT = { controls_state = FROM }
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancelled FOP_civs_for_state target: [From.GetName]"
			clear_variable = FROM.FOP_industrial_expansion
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FOP_civs_for_state target: [From.GetName]"
			set_variable = { FROM.FOP_industrial_expansion = 1 }
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_civs_for_state target: [From.GetName]"
			FROM = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}

		ai_will_do = {
			factor = 750
		}
	}
	FOP_socialist_civs_for_state = {
		icon = GFX_decision_generic_factory
		allowed = { always = no }				# Activated by effect FOP_initialize_development_scheme_decisions
		available = {
			controls_state = FROM
		}

		visible = {
			owns_state = FROM
			NOT = { has_variable = FROM.FOP_economic_plan_expansion }
			FOP_has_economic_fallout = no
			FOP_has_resistance_to_socialism = no
		}

		on_map_mode = map_and_decisions_view
		cost = 40
		days_remove = 120
		fire_only_once = yes

		state_target = yes

		cancel_trigger = {
			NOT = { controls_state = FROM }
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancelled FOP_socialist_civs_for_state target: [From.GetName]"
			clear_variable = FROM.FOP_economic_plan_expansion
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FOP_socialist_civs_for_state target: [From.GetName]"
			set_variable = { FROM.FOP_economic_plan_expansion = 1 }
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_socialist_civs_for_state target: [From.GetName]"
			if = {
				limit = {
					OR = {
						has_completed_focus = FOP_socialist_development_scheme
						has_completed_focus = FOP_moderate_anarchist_development_scheme
					}
				}
				if = {
					limit = {
						has_completed_focus = FOP_moderate_anarchist_development_scheme
						FROM = {
							OR = {
								state = 278 #Buenos Aires
								state = 512 #Chubut
								state = 1029 #Santa Cruz
							}
						}
					}
					FROM = {
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
						add_building_construction = {
							type = dockyard
							level = 1
							instant_build = yes
						}
					}
				}
				else = {
					FROM = {
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					OR = {
						has_completed_focus = FOP_radical_anarchist_development_scheme
						has_completed_focus = FOP_communist_development_scheme
					}
				}
				if = {
					limit = {
						has_completed_focus = FOP_communist_development_scheme
						FROM = {
							OR = {
								state = 278 #Buenos Aires
								state = 512 #Chubut
								state = 1029 #Santa Cruz
							}
						}
					}
					FROM = {
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
						add_building_construction = {
							type = dockyard
							level = 1
							instant_build = yes
						}
					}
				}
				else = {
					FROM = {
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
				}
			}
		}

		ai_will_do = {
			factor = 750
		}
	}
}

FOP_sabotage_decisions_category = {
	FOP_sabotage_decision = {
		icon = generic_operation
		allowed = { always = no }				# Activated by focus FOP_strike_the_railroads
		available = {
			NOT = { has_country_flag = FOP_sabotage_ongoing }
		}

		visible = {
			FROM = { is_owned_and_controlled_by = ARG }
			NOT = { has_war_with = ARG }
		}

		cost = 0
		days_remove = 35
		fire_only_once = yes
		fixed_random_seed = no
		on_map_mode = map_only

		state_target = yes
		ai_will_do = {
			factor = 50
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FOP_sabotage_decision target: [From.GetName]"
			set_country_flag = { flag = FOP_sabotage_ongoing days = 35 value = 1 }
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_sabotage_decision target: [From.GetName]"
			random_list = {
				80 = {
					modifier = {
						add = -75
						FROM = { state = 278 } #Buenos Aires
					}
					FROM = { set_state_flag = FOP_sabotage_successful }
					country_event = fop.350
					add_to_variable = { FOP_sabotaged_states = 1 }
				}
				20 = {
					country_event = fop.351
				}
			}
		}
	}
	FOP_resistance_decision = {
		icon = generic_operation
		allowed = { always = no }				# Activated by focus FOP_infiltrator_cells
		available = {
			NOT = { has_country_flag = FOP_resistance_ongoing }
		}

		visible = {
			FROM = { is_owned_and_controlled_by = ARG }
			NOT = { has_war_with = ARG }
		}

		cost = 0
		days_remove = 35
		fire_only_once = yes
		fixed_random_seed = no
		on_map_mode = map_only
		state_target = yes

		ai_will_do = {
			factor = 50
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FOP_resistance_decision target: [From.GetName]"
			set_country_flag = { flag = FOP_resistance_ongoing days = 35 value = 1 }
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_resistance_decision target: [From.GetName]"
			random_list = {
				80 = {
					modifier = {
						add = -75
						FROM = { state = 278 } #Buenos Aires
					}
					FROM = { set_state_flag = FOP_resistance_successful }
					country_event = fop.353
					add_to_variable = { FOP_resistance_states = 1 }
				}
				20 = {
					country_event = fop.354
				}
			}
		}
	}
	FOP_enact_sabotage = {
		icon = generic_operation
		allowed = { always = no }				# Activated by focus FOP_infiltrating_the_north
		available = {
			custom_trigger_tooltip = {
				tooltip = FOP_sabotage_success_tooltip
				check_variable = { FOP_sabotaged_states > 0 }
			}
		}

		visible = {
			has_war_with = FROM
		}

		cost = 0
		fire_only_once = yes

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FOP_enact_sabotage target: [From.GetName]"
			FROM = {
				country_event = fop.352
				every_owned_state = {
					limit = { has_state_flag = FOP_sabotage_successful }
					add_dynamic_modifier = {
						modifier = FOP_sabotage_modifier
						days = 35
					}
					clr_state_flag = FOP_sabotage_successful
				}
			}
		}
	}
	FOP_call_rebels = {
		icon = generic_operation
		allowed = { always = no }				# Activated by focus FOP_infiltrating_the_north
		available = {
			custom_trigger_tooltip = {
				tooltip = FOP_resistance_success_tooltip
				check_variable = { FOP_resistance_states > 0 }
			}
		}

		visible = {
			has_war_with = FROM
		}

		cost = 0
		fire_only_once = yes

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision FOP_call_rebels target: [From.GetName]"
			FROM = {
				country_event = fop.355
				effect_tooltip = {
					every_owned_state = {
						limit = { has_state_flag = FOP_resistance_successful }
						add_dynamic_modifier = {
							modifier = FOP_resistance_modifier
							days = 30
						}
					}
				}

			}
		}
	}
}

