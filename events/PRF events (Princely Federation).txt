###########################
# Princely Federation Events
###########################
# By Rylock
###########################

add_namespace = prf

### FLAVOR EVENTS

# Introduction Event
country_event = {
	id = prf.0
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.0 FROM = [From.GetName]" }
	title = prf.0.t
	desc = prf.0.d
	picture = GFX_report_event_PRF_palace

	is_triggered_only = yes

	option = {
		name = prf.0.a
	}
}

# Silver Jubilee
country_event = {
	id = prf.1
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.1 FROM = [From.GetName]" }
	title = prf.1.t
	desc = prf.1.d
	picture = GFX_report_event_PRF_osman

	is_triggered_only = yes

	trigger = {
		has_government = authoritarian_democrat
	}

	option = {
		name = prf.1.a
		add_stability = 0.05
	}
}

# Temple Entry Proclamation
country_event = {
	id = prf.2
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.2 FROM = [From.GetName]" }
	title = prf.2.t
	desc = prf.2.d
	picture = GFX_report_event_india_protests

	fire_only_once = yes

	trigger = {
		tag = PRF
		date > 1936.11.10
		owns_state = 867 #Travancore
		has_character = TRV_chithira_thirunal_balarama_varma
		NOT = {
			has_government = paternal_autocrat
		}
	}

	option = {
		name = prf.2.a
		add_stability = 0.05
		set_country_flag = PRF_temple_entry_laws
	}
}

# Raja Wadiyar Dies
country_event = {
	id = prf.3
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.3 FROM = [From.GetName]" }
	title = prf.3.t
	desc = prf.3.d
	picture = GFX_report_event_europe_funeral

	fire_only_once = yes

	trigger = {
		OR = {
			tag = PRF
			tag = MYS
		}
		has_character = MYS_krishna_raja_wadiyar_iv
		date > 1940.07.02
	}

	mean_time_to_happen = {
		months = 1
	}

	option = {
		name = prf.3.a
		retire_character = MYS_krishna_raja_wadiyar_iv
		add_stability = -0.06
		if = {
			limit = { tag = MYS }
			MYS_jayachamarajendra_wadiyar = {
				set_character_name = MYS_jayachamarajendra_wadiyar_regnal
				if = {
					limit = { has_ideology = social_conservative_subtype }
					promote_character = { ideology = social_conservative_subtype }
				}
				else = {
					add_country_leader_role = {
						country_leader = {
							desc = MYS_jayachamarajendra_wadiyar_leader_desc
							ideology = social_conservative_subtype
						}
						promote_leader = yes
					}
				}
				if = {
					limit = { has_ideology = authoritarian_democrat_subtype }
					promote_character = { ideology = authoritarian_democrat_subtype }
				}
				else = {
					add_country_leader_role = {
						country_leader = {
							desc = MYS_jayachamarajendra_wadiyar_leader_desc
							ideology = authoritarian_democrat_subtype
						}
						promote_leader = yes
					}
				}
				if = {
					limit = { has_ideology = paternal_autocrat_subtype }
					promote_character = { ideology = paternal_autocrat_subtype }
				}
				else = {
					add_country_leader_role = {
						country_leader = {
							desc = MYS_jayachamarajendra_wadiyar_leader_desc
							ideology = paternal_autocrat_subtype
						}
						promote_leader = yes
					}
				}
			}
		}
		else = {
			MYS_jayachamarajendra_wadiyar = {
				set_character_name = MYS_jayachamarajendra_wadiyar_regnal
				if = {
					limit = { has_ideology = social_conservative_subtype }
					promote_character = { ideology = social_conservative_subtype }
				}
				else = {
					add_country_leader_role = {
						country_leader = {
							desc = MYS_jayachamarajendra_wadiyar_leader_desc
							ideology = social_conservative_subtype
						}
						promote_leader = yes
					}
				}
				add_advisor_role = {
					advisor = {
						slot = second_in_command
						idea_token = MYS_jayachamarajendra_wadiyar_sic
						traits = { KR_naive_optimist_sic second_in_command_trait }
						cost = 0
						removal_cost = -1
					}
					activate = yes
				}
			}
		}
	}
}

# State of Maharashtra proposed
country_event = {
	id = prf.4
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.4 FROM = [From.GetName]" }
	title = prf.4.t
	desc = prf.4.d
	picture = GFX_report_event_PRF_princes

	fire_only_once = yes

	trigger = {
		tag = PRF
		has_war = no
		owns_state = 429 #Bombay
		date > 1938.9.1
	}

	mean_time_to_happen = {
		days = 30
	}

	option = {
		name = prf.4.a #It is done! Proclaim Maharashtra a united Federal State!
		ai_chance = {
			base = 80
		}
		add_stability = 0.05
		429 = {
			set_state_name = "Maharashtra"
			set_province_name = {
				id = 1349
				name = "Mumbai"
			}
		}
	}
	option = {
		name = prf.4.b #Keep the Maratha districts divided
		ai_chance = {
			base = 20
		}
		add_stability = -0.05
	}
}

# The Fifth Andra Mahasabha
country_event = {
	id = prf.5
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.5 FROM = [From.GetName]" }
	title = prf.5.t
	desc = prf.5.d
	picture = GFX_report_event_india_protests

	fire_only_once = yes

	trigger = {
		tag = PRF
		date > 1938.1.1
		427 = { is_owned_and_controlled_by = ROOT } #Hyderabad
	}

	mean_time_to_happen = {
		months = 3
	}

	option = {
		name = prf.5.a #Initiate a crackdown on these liberal demagogues!
		trigger = {
			NOT = { has_government = social_liberal }
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				has_game_rule = { rule = PRF_path option = PRF_PATH_FREE_MARLIB }
			}
		}
		effect_tooltip = { retire_character = HYD_madapati_hanumantha_rao }
		hidden_effect = {
			HYD_madapati_hanumantha_rao = { set_nationality = HYD }
			HYD = {
				HYD_madapati_hanumantha_rao = {
					if = {
						limit = { is_character_slot = second_in_command }
						remove_advisor_role = { slot = second_in_command }
					}
					if = {
						limit = { has_ideology = radical_socialist_subtype }
						promote_character = { ideology = radical_socialist_subtype }
					}
					else = {
						add_country_leader_role = {
							country_leader = { ideology = radical_socialist_subtype }
							promote_leader = yes
						}
					}
				}
			}
		}
		add_stability = -0.05
		reverse_add_opinion_modifier = {
			target = HND
			modifier = KR_hates_govt
		}
		reverse_add_opinion_modifier = {
			target = RAJ
			modifier = KR_disapproves_of_govt
		}
	}
	option = {
		name = prf.5.b #Let these pitiful intellectuals have their petty meetings
		ai_chance = {
			base = 20
		}
		add_stability = -0.10
		add_popularity = {
			ideology = market_liberal
			popularity = 0.10
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
	}
}

# Expanding the Temple Entry Laws
country_event = {
	id = prf.6
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.6 FROM = [From.GetName]" }
	title = prf.6.t
	desc = prf.6.d
	picture = GFX_report_event_india_protests

	fire_only_once = yes

	trigger = {
		tag = PRF
		date > 1937.8.1
		has_war = no
		owns_state = 427 #Hyderabad
		owns_state = 867 #Travancore
		has_country_flag = PRF_temple_entry_laws
		has_character = TRV_chithira_thirunal_balarama_varma
		OR = {
			has_completed_focus = PRF_liberal_prince
			has_completed_focus = PRF_new_india
		}
	}

	mean_time_to_happen = {
		months = 3
	}

	option = {
		name = prf.6.a #Formulate federal legal protection for the depressed castes
		ai_chance = {
			base = 25
		}
		add_stability = -0.05
		add_popularity = {
			ideology = market_liberal
			popularity = 0.10
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.10
		}
	}
	option = {
		name = prf.6.b #Encourage social reform, but leave it to the various states
		ai_chance = {
			base = 45
		}
		add_stability = 0.02
		add_popularity = {
			ideology = market_liberal
			popularity = 0.05
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
	}
	option = {
		name = prf.6.c #Who cares about those dirty dalits?
		ai_chance = {
			base = 35
			modifier = {
				factor = 2
				has_government = paternal_autocrat
			}
		}
		add_stability = -0.10
		add_popularity = {
			ideology = market_liberal
			popularity = -0.05
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = -0.05
		}
	}
}

# Incorporating a puppet Madras
country_event = {
	id = prf.7
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.7 FROM = [From.GetName]" }
	title = prf.7.t
	desc = prf.7.d
	picture = GFX_report_event_PRF_palace

	fire_only_once = yes

	trigger = {
		tag = PRF
		has_war = no
		owns_state = 427 #Hyderabad
		any_neighbor_country = {
			tag = MDR
		}
		MDR = {
			is_ai = yes
			has_war = no
			OR = {
				is_subject = no
				is_subject_of = PRF
			}
		}
		OR = {
			has_completed_focus = PRF_kaiser_i_hind
			has_completed_focus = PRF_liberal_prince
			has_completed_focus = PRF_new_india
		}
		NOT = { has_country_flag = PRF_gave_autonomy }
	}

	mean_time_to_happen = {
		months = 3
	}

	option = {
		name = prf.7.a #Madras must ascend to direct princely rule. India demands it!
		ai_chance = {
			base = 70
		}
		add_political_power = 25
		reverse_add_opinion_modifier = {
			target = RAJ
			modifier = KR_hates_govt
		}
		reverse_add_opinion_modifier = {
			target = HND
			modifier = KR_hates_govt
		}
		reverse_add_opinion_modifier = {
			target = MDR
			modifier = KR_outraged
		}
		every_state = {
			limit = {
				is_core_of = MDR
				NOT = {
					is_core_of = PRF
				}
				NOT = {
					is_claimed_by = PRF
				}
			}
			PRF = {
				add_state_claim = PREV
			}
		}
		MDR = {
			country_event = {
				id = prf.8
				days = 1
			}
		}
	}
	option = {
		name = prf.7.b #Demand that they install a princely government!
		trigger = {
			MDR = {
				NOT = {
					has_government = authoritarian_democrat
					has_government = paternal_autocrat
				}
			}
			OR = {
				has_government = authoritarian_democrat
				has_government = paternal_autocrat
			}
		}
		ai_chance = {
			base = 20
		}
		reverse_add_opinion_modifier = {
			target = RAJ
			modifier = KR_disapproves_of_govt
		}
		reverse_add_opinion_modifier = {
			target = HND
			modifier = KR_disapproves_of_govt
		}
		reverse_add_opinion_modifier = {
			target = MDR
			modifier = KR_hates_govt
		}
		MDR = {
			country_event = {
				id = prf.10
				days = 1
			}
		}
	}
	option = {
		name = prf.7.c #Let's not antagonize any more Tamils
		ai_chance = {
			base = 0
		}
		add_political_power = -50
		reverse_add_opinion_modifier = {
			target = MDR
			modifier = KR_approves_of_govt
		}
	}
}

# Madras responds to annexation demand
country_event = {
	id = prf.8
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.8 FROM = [From.GetName]" }
	title = prf.8.t
	desc = prf.8.d
	picture = GFX_report_event_PRF_palace

	is_triggered_only = yes

	trigger = {
		NOT = {
			has_war_with = FROM
		}
	}

	option = {
		name = prf.8.a #The princely menace must be extinguished, to war!
		ai_chance = {
			base = 80
		}
		if = {
			limit = {
				is_subject_of = FROM
			}
			FROM = {
				end_puppet = MDR
			}
		}
		add_political_power = 100
		add_state_core = 423
		custom_effect_tooltip = MDR_receive_two_regiments
		hidden_effect = {
			load_oob = MDR_WAR1
			load_oob = MDR_WAR2
		}
		FROM = {
			declare_war_on = {
				target = ROOT
				type = annex_everything
			}
		}
	}
	option = {
		name = prf.8.b #Give in, we cannot oppose the might of the princes
		ai_chance = {
			base = 20
			modifier = {
				factor = 4
				strength_ratio = {
					tag = FROM
					ratio < 0.2
				}
			}
		}
		add_political_power = -400
		PRF = {
			country_event = prf.9
		}
	}
}

# Madras has submitted to annexation
country_event = {
	id = prf.9
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.9 FROM = [From.GetName]" }
	title = prf.9.t
	desc = prf.9.d
	picture = GFX_report_event_PRF_palace

	is_triggered_only = yes

	option = {
		name = prf.9.a
		add_political_power = 25
		MDR = {
			MDR_satyawant_mallanna_shrinagesh = { set_nationality = ROOT }
		}
		annex_country = {
			target = MDR
			transfer_troops = yes
		}
		every_state = {
			limit = {
				is_core_of = MDR
				NOT = {
					is_core_of = PRF
				}
			}
			PRF = {
				add_state_core = PREV
			}
		}
	}
}

# Madras responds to demand for princely government
country_event = {
	id = prf.10
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.10 FROM = [From.GetName]" }
	title = prf.10.t
	desc = prf.10.d
	picture = GFX_report_event_PRF_palace

	is_triggered_only = yes

	trigger = {
		NOT = {
			has_war_with = FROM
		}
	}

	option = {
		name = prf.8.a #The princely menace must be extinguished, to war!
		ai_chance = {
			base = 60
		}
		if = {
			limit = {
				is_subject_of = FROM
			}
			FROM = {
				end_puppet = MDR
			}
		}
		add_political_power = 100
		add_state_core = 423
		custom_effect_tooltip = MDR_receive_two_regiments
		hidden_effect = {
			load_oob = MDR_WAR1
			load_oob = MDR_WAR2
		}
		FROM = {
			declare_war_on = {
				target = ROOT
				type = annex_everything
			}
		}
	}
	option = {
		name = prf.8.b #Give in, we cannot oppose the might of the princes
		ai_chance = {
			base = 40
			modifier = {
				factor = 4
				strength_ratio = {
					tag = FROM
					ratio < 0.2
				}
			}
		}
		add_political_power = -200
		if = {
			limit = {
				is_subject = no
			}
			MDR = {
				if = {
					limit = { has_country_flag = JAP_economic_sphere_member }
					custom_effect_tooltip = JAP_withdraws_from_sphere
					hidden_effect = { country_event = japfor.404 }
				}
			}
			PRF = {
				puppet = MDR
			}
		}
		if = {
			limit = {
				FROM = {
					has_government = paternal_autocrat
				}
			}
			set_politics = {
				ruling_party = paternal_autocrat
			}
			else = {
				set_politics = {
					ruling_party = authoritarian_democrat
				}
			}
		}
		PRF = {
			country_event = prf.11
		}
	}
}

# Madras has submitted to demand for a princely government
country_event = {
	id = prf.11
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.11 FROM = [From.GetName]" }
	title = prf.11.t
	desc = prf.11.d
	picture = GFX_report_event_PRF_palace

	is_triggered_only = yes

	option = {
		name = prf.11.a
		add_political_power = 25
	}
}

# Other Election Events
country_event = {
	id = prf.20
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.20 FROM = [From.GetName]" }
	title = prf.20.t
	desc = prf.20.d
	picture = GFX_report_event_election_vote

	is_triggered_only = yes

	trigger = {
		has_democratic_government = yes
	}

	option = {
		name = prf.20.a #Krishna Wadiyar IV of Mysore
		trigger = {
			has_character = MYS_krishna_raja_wadiyar_iv
		}

		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = PRF_path option = PRF_PATH_FREE_SOCCON }
					has_game_rule = { rule = PRF_path option = PRF_PATH_FREE_MARLIB }
					has_game_rule = { rule = PRF_path option = PRF_PATH_PRINCES_SOCCON }
					has_game_rule = { rule = PRF_path option = PRF_PATH_PRINCES_AUTDEM2 }
				}
			}
		}

		hidden_effect = {
			HYD_osman_ali_khan = {
				if = {
					limit = { has_ideology = authoritarian_democrat_subtype }
					promote_character = { ideology = authoritarian_democrat_subtype }
				}
				else = {
					add_country_leader_role = {
						country_leader = {
							desc = HYD_osman_ali_khan_leader_desc
							ideology = authoritarian_democrat_subtype
						}
						promote_leader = yes
					}
				}
			}
		}
		set_politics = {
			ruling_party = authoritarian_democrat
			elections_allowed = yes
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.1
		}
		clear_sic_slot = yes
		activate_advisor = MYS_krishna_raja_wadiyar_iv_sic
	}
	option = {
		name = prf.20.i #Jayachamarajendra Raja Wadiyar V
		trigger = {
			NOT = { has_character = MYS_krishna_raja_wadiyar_iv }
			has_character = MYS_jayachamarajendra_wadiyar
		}

		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = PRF_path option = PRF_PATH_FREE_SOCCON }
					has_game_rule = { rule = PRF_path option = PRF_PATH_FREE_MARLIB }
					has_game_rule = { rule = PRF_path option = PRF_PATH_PRINCES_SOCCON }
					has_game_rule = { rule = PRF_path option = PRF_PATH_PRINCES_AUTDEM2 }
				}
			}
		}

		hidden_effect = {
			HYD_osman_ali_khan = {
				if = {
					limit = { has_ideology = authoritarian_democrat_subtype }
					promote_character = { ideology = authoritarian_democrat_subtype }
				}
				else = {
					add_country_leader_role = {
						country_leader = {
							desc = HYD_osman_ali_khan_leader_desc
							ideology = authoritarian_democrat_subtype
						}
						promote_leader = yes
					}
				}
			}
		}
		set_politics = {
			ruling_party = authoritarian_democrat
			elections_allowed = yes
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.1
		}
		clear_sic_slot = yes
		activate_advisor = MYS_jayachamarajendra_wadiyar_sic
	}
	option = {
		name = prf.20.b #Chithira Varma of Travancore
		trigger = {
			has_character = TRV_chithira_thirunal_balarama_varma
		}

		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = PRF_path option = PRF_PATH_FREE_AUTDEM }
					AND = {
						has_game_rule = { rule = PRF_path option = PRF_PATH_FREE_SOCCON }
						has_country_flag = PRF_free_elections
					}
					has_game_rule = { rule = PRF_path option = PRF_PATH_FREE_MARLIB }
					has_game_rule = { rule = PRF_path option = PRF_PATH_PRINCES_AUTDEM }
					has_game_rule = { rule = PRF_path option = PRF_PATH_PRINCES_AUTDEM2 }
				}
			}
		}

		hidden_effect = {
			HYD_osman_ali_khan = {
				if = {
					limit = { has_ideology = social_conservative_subtype }
					promote_character = { ideology = social_conservative_subtype }
				}
				else = {
					add_country_leader_role = {
						country_leader = {
							desc = HYD_osman_ali_khan_leader_desc
							ideology = social_conservative_subtype
						}
						promote_leader = yes
					}
				}
			}
		}
		set_politics = {
			ruling_party = social_conservative
			elections_allowed = yes
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.1
		}
		clear_sic_slot = yes
		activate_advisor = TRV_chithira_thirunal_balarama_varma_sic
	}
	option = {
		name = prf.20.c #Rajaram III of Kolhapur

		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = PRF_path option = PRF_PATH_FREE_SOCCON }
					has_game_rule = { rule = PRF_path option = PRF_PATH_FREE_MARLIB }
					has_game_rule = { rule = PRF_path option = PRF_PATH_PRINCES_AUTDEM }
					has_game_rule = { rule = PRF_path option = PRF_PATH_PRINCES_SOCCON }
				}
			}
		}

		trigger = {
			has_character = PRF_rajaram_iii_of_kolhapur
			date < 1944.1.1
		}
		hidden_effect = {
			HYD_osman_ali_khan = {
				if = {
					limit = { has_ideology = authoritarian_democrat_subtype }
					promote_character = { ideology = authoritarian_democrat_subtype }
				}
				else = {
					add_country_leader_role = {
						country_leader = {
							desc = HYD_osman_ali_khan_leader_desc
							ideology = authoritarian_democrat_subtype
						}
						promote_leader = yes
					}
				}
			}
		}
		set_politics = {
			ruling_party = authoritarian_democrat
			elections_allowed = yes
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.1
		}
		clear_sic_slot = yes
		activate_advisor = PRF_rajaram_iii_of_kolhapur_sic
	}
	option = {
		name = prf.20.e #Akbar Hydari

		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = PRF_path option = PRF_PATH_FREE_AUTDEM }
					has_game_rule = { rule = PRF_path option = PRF_PATH_FREE_MARLIB }
				}
			}
		}

		trigger = {
			has_country_flag = PRF_free_elections
			has_character = PRF_akbar_hydari
		}
		hidden_effect = {
			HYD_osman_ali_khan = {
				if = {
					limit = { has_ideology = social_conservative_subtype }
					promote_character = { ideology = social_conservative_subtype }
				}
				else = {
					add_country_leader_role = {
						country_leader = {
							desc = HYD_osman_ali_khan_leader_desc
							ideology = social_conservative_subtype
						}
						promote_leader = yes
					}
				}
			}
		}
		set_politics = {
			ruling_party = social_conservative
			elections_allowed = yes
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.1
		}
		clear_sic_slot = yes
		activate_advisor = PRF_akbar_hydari_sic
	}
	option = {
		name = prf.20.f #Madapati Rao

		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = PRF_path option = PRF_PATH_FREE_AUTDEM }
					has_game_rule = { rule = PRF_path option = PRF_PATH_FREE_SOCCON }
				}
			}
		}

		trigger = {
			has_country_flag = PRF_free_elections
			has_character = HYD_madapati_hanumantha_rao
		}
		hidden_effect = {
			HYD_osman_ali_khan = {
				if = {
					limit = { has_ideology = market_liberal_subtype }
					promote_character = { ideology = market_liberal_subtype }
				}
				else = {
					add_country_leader_role = {
						country_leader = {
							desc = HYD_osman_ali_khan_leader_desc
							ideology = market_liberal_subtype
						}
						promote_leader = yes
					}
				}
			}
		}
		set_politics = {
			ruling_party = market_liberal
			elections_allowed = yes
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.1
		}
		clear_sic_slot = yes
		activate_advisor = HYD_madapati_hanumantha_rao_sic
	}
	option = {
		name = prf.20.g #Mirza Muhammad Ismail
		trigger = {
			has_country_flag = PRF_free_elections
			has_character = PRF_mirza_muhammad_ismail
			OR = {
				NOT = { has_character = HYD_madapati_hanumantha_rao }
				date > 1945.1.1
			}
		}

		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = PRF_path option = PRF_PATH_FREE_AUTDEM }
					has_game_rule = { rule = PRF_path option = PRF_PATH_FREE_SOCCON }
				}
			}
		}

		hidden_effect = {
			HYD_osman_ali_khan = {
				if = {
					limit = { has_ideology = market_liberal_subtype }
					promote_character = { ideology = market_liberal_subtype }
				}
				else = {
					add_country_leader_role = {
						country_leader = {
							desc = HYD_osman_ali_khan_leader_desc
							ideology = market_liberal_subtype
						}
						promote_leader = yes
					}
				}
			}
		}
		set_politics = {
			ruling_party = market_liberal
			elections_allowed = yes
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.1
		}
		clear_sic_slot = yes
		activate_advisor = PRF_mirza_muhammad_ismail_sic
	}
	option = {
		name = prf.20.h #Nawab Fazal Nawaz Jung Bahadur
		trigger = {
			OR = {
				NOT = { has_character = TRV_chithira_thirunal_balarama_varma }
				date > 1944.6.1
			}
		}

		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = PRF_path option = PRF_PATH_FREE_AUTDEM }
					has_game_rule = { rule = PRF_path option = PRF_PATH_FREE_MARLIB }
					has_game_rule = { rule = PRF_path option = PRF_PATH_PRINCES_AUTDEM }
					has_game_rule = { rule = PRF_path option = PRF_PATH_PRINCES_AUTDEM2 }
				}
			}
		}

		hidden_effect = {
			HYD_osman_ali_khan = {
				if = {
					limit = { has_ideology = social_conservative_subtype }
					promote_character = { ideology = social_conservative_subtype }
				}
				else = {
					add_country_leader_role = {
						country_leader = {
							desc = HYD_osman_ali_khan_leader_desc
							ideology = social_conservative_subtype
						}
						promote_leader = yes
					}
				}
			}
		}
		set_politics = {
			ruling_party = social_conservative
			elections_allowed = yes
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.1
		}
		clear_sic_slot = yes
		activate_advisor = PRF_nawab_fazal_nawaz_jung_bahadur_sic
	}
	option = {
		name = prf.20.j #Krushna Chandra Gajapati
		trigger = {
			OR = {
				NOT = {
					has_character = MYS_krishna_raja_wadiyar_iv
					has_character = MYS_jayachamarajendra_wadiyar
				}
				date > 1944.1.1
			}
		}

		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = PRF_path option = PRF_PATH_FREE_SOCCON }
					has_game_rule = { rule = PRF_path option = PRF_PATH_FREE_MARLIB }
					has_game_rule = { rule = PRF_path option = PRF_PATH_PRINCES_SOCCON }
				}
			}
		}

		hidden_effect = {
			HYD_osman_ali_khan = {
				if = {
					limit = { has_ideology = authoritarian_democrat_subtype }
					promote_character = { ideology = authoritarian_democrat_subtype }
				}
				else = {
					add_country_leader_role = {
						country_leader = {
							desc = HYD_osman_ali_khan_leader_desc
							ideology = authoritarian_democrat_subtype
						}
						promote_leader = yes
					}
				}
			}
		}
		set_politics = {
			ruling_party = authoritarian_democrat
			elections_allowed = yes
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.1
		}
		clear_sic_slot = yes
		activate_advisor = PRF_krushna_chandra_gajapati_sic
	}
}

### POLITICAL FOCUS EVENTS

# Osman meets with the Council of Princes
country_event = {
	id = prf.100
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.100 FROM = [From.GetName]" }
	title = prf.100.t
	desc = prf.100.d
	picture = GFX_report_event_PRF_osman

	is_triggered_only = yes

	option = {
		name = prf.100.a
	}
}

# Osman refuses the council's proposed reforms
country_event = {
	id = prf.101
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.101 FROM = [From.GetName]" }
	title = prf.101.t
	desc = prf.101.d
	picture = GFX_report_event_PRF_osman

	is_triggered_only = yes

	option = {
		name = prf.101.a
		add_political_power = -100
		add_stability = -0.10
		swap_ideas = {
			remove_idea = PRF_rule_of_princes_1
			add_idea = PRF_rule_of_princes_3
		}
	}
}

# The Council of Princes is dissolved
country_event = {
	id = prf.102
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.102 FROM = [From.GetName]" }
	title = prf.102.t
	desc = prf.102.d
	picture = GFX_report_event_PRF_palace

	is_triggered_only = yes

	option = {
		name = prf.102.a
		add_stability = -0.10
		add_political_power = -100
		set_politics = {
			ruling_party = paternal_autocrat
			elections_allowed = no
		}
		hidden_effect = {
			HYD_osman_ali_khan = {
				if = {
					limit = { has_ideology = paternal_autocrat_subtype }
					promote_character = { ideology = paternal_autocrat_subtype }
				}
				else = {
					add_country_leader_role = {
						country_leader = {
							desc = HYD_osman_ali_khan_leader_desc
							ideology = paternal_autocrat_subtype
						}
						promote_leader = yes
					}
				}
			}
		}
		PRF_council_of_princes = {
			remove_trait = {
				slot = second_in_command
				trait = KR_gun_salute_legislature_sic
			}
			add_trait = {
				slot = second_in_command
				trait = KR_dissolved_legislature_sic
			}
		}
	}
}

# Osman appoints a new diwan
country_event = {
	id = prf.103
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.103 FROM = [From.GetName]" }
	title = prf.103.t
	desc = prf.103.d
	picture = GFX_report_event_PRF_palace

	is_triggered_only = yes

	option = {
		name = prf.103.a #Akbar Hydari, the Sadar-i-Azam of Hyderabad, shall head the government!
		ai_chance = {
			base = 45
		}
		add_political_power = -20
		hidden_effect = { retire_character = PRF_council_of_princes }
		activate_advisor = PRF_akbar_hydari_sic
	}
	option = {
		name = prf.103.b #Krushna Chandra Gajapati shall enfore princely obedience!
		ai_chance = {
			base = 35
		}
		add_political_power = 20
		hidden_effect = { retire_character = PRF_council_of_princes }
		activate_advisor = PRF_krushna_chandra_gajapati_sic
	}
	option = {
		name = prf.103.c #I've no need for lapdogs, I shall rule alone!
		ai_chance = {
			base = 20
		}
		add_political_power = -50
	}
}

# Osman claims the title of Kaisar-i-Hind
news_event = {
	id = prf.104
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.104 FROM = [From.GetName]" }
	title = prf.104.t
	desc = prf.104.d
	picture = GFX_news_event_PRF_nizam

	is_triggered_only = yes

	option = {
		name = prf.104.a
		trigger = {
			tag = RAJ
		}
		add_stability = -0.10
		add_opinion_modifier = {
			target = PRF
			modifier = KR_outraged
		}
	}
	option = {
		name = prf.104.b
		trigger = {
			tag = HND
		}
		add_stability = -0.10
		add_opinion_modifier = {
			target = PRF
			modifier = KR_outraged
		}
	}
}

# News that Osman has dissolved the Council of Princes
country_event = {
	id = prf.106
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.106 FROM = [From.GetName]" }
	title = prf.106.t
	desc = prf.106.d
	picture = GFX_report_event_PRF_osman

	is_triggered_only = yes

	option = {
		name = prf.106.a
	}
}

# Osman agrees to the council's proposed reforms
country_event = {
	id = prf.107
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.107 FROM = [From.GetName]" }
	title = prf.107.t
	desc = prf.107.d
	picture = GFX_report_event_PRF_osman

	is_triggered_only = yes

	option = {
		name = prf.107.a
		add_political_power = 100
	}
}

# Free elections for the national diwan
country_event = {
	id = prf.108
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.108 FROM = [From.GetName]" }
	title = prf.108.t
	desc = prf.108.d
	picture = GFX_report_event_PRF_palace

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			PRF_council_of_princes = { retire = yes }
		}
	}

	option = {
		name = prf.108.a #Krishna Wadiyar IV of Mysore, the wise Hindu ruler!
		trigger = {
			has_character = MYS_krishna_raja_wadiyar_iv
		}
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = PRF_path option = PRF_PATH_FREE_SOCCON }
					has_game_rule = { rule = PRF_path option = PRF_PATH_FREE_MARLIB }
				}
			}
		}
		add_political_power = 40
		meta_effect = {
			text = {
				set_politics = {
					ruling_party = authoritarian_democrat
					last_election = "[CURRENT_DATE]"
					election_frequency = 48
					elections_allowed = yes
				}
			}
			CURRENT_DATE = "[?global.date.GetDateStringNoHour]"
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.3
		}
		clear_sic_slot = yes
		activate_advisor = MYS_krishna_raja_wadiyar_iv_sic
	}
	option = {
		name = prf.108.b #Chithira Varma of Travancore, the popular progressive!
		trigger = {
			has_character = TRV_chithira_thirunal_balarama_varma
		}
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = PRF_path option = PRF_PATH_FREE_AUTDEM }
					has_game_rule = { rule = PRF_path option = PRF_PATH_FREE_MARLIB }
				}
			}
		}
		add_political_power = -40
		hidden_effect = {
			HYD_osman_ali_khan = {
				if = {
					limit = { has_ideology = social_conservative_subtype }
					promote_character = { ideology = social_conservative_subtype }
				}
				else = {
					add_country_leader_role = {
						country_leader = {
							desc = HYD_osman_ali_khan_leader_desc
							ideology = social_conservative_subtype
						}
						promote_leader = yes
					}
				}
			}
		}
		meta_effect = {
			text = {
				set_politics = {
					ruling_party = social_conservative
					last_election = "[CURRENT_DATE]"
					election_frequency = 48
					elections_allowed = yes
				}
			}
			CURRENT_DATE = "[?global.date.GetDateStringNoHour]"
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.3
		}
		clear_sic_slot = yes
		activate_advisor = TRV_chithira_thirunal_balarama_varma_sic
	}
	option = {
		name = prf.108.c #Rajaram III of Kolhapur is a martial giant!
		trigger = {
			NOT = { has_character = MYS_krishna_raja_wadiyar_iv }
		}
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = PRF_path option = PRF_PATH_FREE_SOCCON }
					has_game_rule = { rule = PRF_path option = PRF_PATH_FREE_MARLIB }
				}
			}
		}
		add_political_power = -20
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.3
		}
		meta_effect = {
			text = {
				set_politics = {
					ruling_party = authoritarian_democrat
					last_election = "[CURRENT_DATE]"
					election_frequency = 48
					elections_allowed = yes
				}
			}
			CURRENT_DATE = "[?global.date.GetDateStringNoHour]"
		}
		clear_sic_slot = yes
		activate_advisor = PRF_rajaram_iii_of_kolhapur_sic
	}
	option = {
		name = prf.108.e #Akbar Hydari, the hardened public servant!
		trigger = {
			NOT = { has_character = TRV_chithira_thirunal_balarama_varma }
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = PRF_path option = PRF_PATH_FREE_AUTDEM }
					has_game_rule = { rule = PRF_path option = PRF_PATH_FREE_MARLIB }
				}
			}
		}
		add_political_power = -100
		hidden_effect = {
			HYD_osman_ali_khan = {
				if = {
					limit = { has_ideology = social_conservative_subtype }
					promote_character = { ideology = social_conservative_subtype }
				}
				else = {
					add_country_leader_role = {
						country_leader = {
							desc = HYD_osman_ali_khan_leader_desc
							ideology = social_conservative_subtype
						}
						promote_leader = yes
					}
				}
			}
		}
		meta_effect = {
			text = {
				set_politics = {
					ruling_party = social_conservative
					last_election = "[CURRENT_DATE]"
					election_frequency = 48
					elections_allowed = yes
				}
			}
			CURRENT_DATE = "[?global.date.GetDateStringNoHour]"
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.3
		}
		clear_sic_slot = yes
		activate_advisor = PRF_akbar_hydari_sic
	}
	option = {
		name = prf.108.f #The liberal Madapati Rao shall emancipate our people!
		trigger = {
			has_character = HYD_madapati_hanumantha_rao
		}
		ai_chance = {
			base = 30
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = PRF_path option = PRF_PATH_FREE_AUTDEM }
					has_game_rule = { rule = PRF_path option = PRF_PATH_FREE_SOCCON }
				}
			}
		}
		add_political_power = 20
		hidden_effect = {
			HYD_osman_ali_khan = {
				if = {
					limit = { has_ideology = market_liberal_subtype }
					promote_character = { ideology = market_liberal_subtype }
				}
				else = {
					add_country_leader_role = {
						country_leader = {
							desc = HYD_osman_ali_khan_leader_desc
							ideology = market_liberal_subtype
						}
						promote_leader = yes
					}
				}
			}
		}
		meta_effect = {
			text = {
				set_politics = {
					ruling_party = market_liberal
					last_election = "[CURRENT_DATE]"
					election_frequency = 48
					elections_allowed = yes
				}
			}
			CURRENT_DATE = "[?global.date.GetDateStringNoHour]"
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.3
		}
		clear_sic_slot = yes
		activate_advisor = HYD_madapati_hanumantha_rao_sic
	}
}

# The princes elect their national diwan
country_event = {
	id = prf.109
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.109 FROM = [From.GetName]" }
	title = prf.109.t
	desc = prf.109.d
	picture = GFX_report_event_PRF_palace

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			PRF_council_of_princes = { retire = yes }
		}
	}

	option = {
		name = prf.108.a #Krishna Wadiyar IV of Mysore, the wise Hindu ruler!
		trigger = {
			has_character = MYS_krishna_raja_wadiyar_iv
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = PRF_path option = PRF_PATH_PRINCES_SOCCON }
					has_game_rule = { rule = PRF_path option = PRF_PATH_PRINCES_AUTDEM2 }
				}
			}
		}
		add_political_power = 40
		meta_effect = {
			text = {
				set_politics = {
					ruling_party = authoritarian_democrat
					last_election = "[CURRENT_DATE]"
					election_frequency = 48
					elections_allowed = yes
				}
			}
			CURRENT_DATE = "[?global.date.GetDateStringNoHour]"
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.3
		}
		clear_sic_slot = yes
		activate_advisor = MYS_krishna_raja_wadiyar_iv_sic

	}
	option = {
		name = prf.108.b #Chithira Varma of Travancore, the popular progressive!
		trigger = {
			has_character = TRV_chithira_thirunal_balarama_varma
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = PRF_path option = PRF_PATH_PRINCES_AUTDEM }
					has_game_rule = { rule = PRF_path option = PRF_PATH_PRINCES_AUTDEM2 }
				}
			}
		}
		add_political_power = -40
		hidden_effect = {
			HYD_osman_ali_khan = {
				if = {
					limit = { has_ideology = social_conservative_subtype }
					promote_character = { ideology = social_conservative_subtype }
				}
				else = {
					add_country_leader_role = {
						country_leader = {
							desc = HYD_osman_ali_khan_leader_desc
							ideology = social_conservative_subtype
						}
						promote_leader = yes
					}
				}
			}
		}
		meta_effect = {
			text = {
				set_politics = {
					ruling_party = social_conservative
					last_election = "[CURRENT_DATE]"
					election_frequency = 48
					elections_allowed = yes
				}
			}
			CURRENT_DATE = "[?global.date.GetDateStringNoHour]"
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.3
		}
		clear_sic_slot = yes
		activate_advisor = TRV_chithira_thirunal_balarama_varma_sic
	}
	option = {
		name = prf.109.c #Rajaram III of Kolhapur is a martial giant!
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = PRF_path option = PRF_PATH_PRINCES_AUTDEM }
					has_game_rule = { rule = PRF_path option = PRF_PATH_PRINCES_SOCCON }
				}
			}
		}
		add_political_power = -20
		meta_effect = {
			text = {
				set_politics = {
					ruling_party = authoritarian_democrat
					last_election = "[CURRENT_DATE]"
					election_frequency = 48
					elections_allowed = yes
				}
			}
			CURRENT_DATE = "[?global.date.GetDateStringNoHour]"
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.3
		}
		clear_sic_slot = yes
		activate_advisor = PRF_rajaram_iii_of_kolhapur_sic
	}
}

# Princes contribute more to the Federation's defense
country_event = {
	id = prf.110
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.110 FROM = [From.GetName]" }
	title = prf.110.t
	desc = prf.110.d
	picture = GFX_report_event_indian_soldiers

	is_triggered_only = yes

	option = {
		name = prf.110.a
		if = {
			limit = {
				owns_state = 425
			}
			custom_effect_tooltip = PRF_receive_mysore_force
			hidden_effect = {
				load_oob = MYS_WAR
			}
		}
		if = {
			limit = {
				owns_state = 867
			}
			custom_effect_tooltip = PRF_receive_trv_force
			hidden_effect = {
				load_oob = TRV_WAR
			}
		}
	}
}

### CIVIL WAR EVENTS

# Mysore begins the civil war
country_event = {
	id = prf.120
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.120 FROM = [From.GetName]" }
	title = prf.120.t
	picture = GFX_report_event_PRF_war

	desc = {
		text = prf.120.d
		trigger = {
			NOT = { has_character = MYS_krishna_raja_wadiyar_iv }
		}
	}
	desc = {
		text = prf.120.d.son
		trigger = {
			has_character = MYS_krishna_raja_wadiyar_iv
		}
	}

	fire_only_once = yes

	trigger = {
		tag = PRF
		has_government = paternal_autocrat
		owns_state = 425
		has_war = no
		NOT = {
			has_completed_focus = PRF_kaiser_i_hind
			has_completed_focus = PRF_liberal_prince
		}
	}

	mean_time_to_happen = {
		months = 2
		modifier = {
			factor = 0.5
			focus_progress = {
				focus = PRF_appoint_diwan
				progress > 0.25
			}
		}
		modifier = {
			factor = 0.5
			focus_progress = {
				focus = PRF_appoint_diwan
				progress > 0.5
			}
		}
		modifier = {
			factor = 0.5
			has_completed_focus = PRF_appoint_diwan
		}
	}

	option = {
		name = prf.120.a
		set_country_flag = PRF_mysore_revolt
		add_popularity = {
			ideology = paternal_autocrat
			popularity = -0.1
		}
		if = {
			limit = { has_subject = MDR }
			set_autonomy = {
				target = MDR
				autonomy_state = autonomy_free
			}
		}
		every_character = {
			limit = { has_character_flag = MYS_character }
			set_nationality = MYS
		}
		425 = {
			add_core_of = MYS
			transfer_state_to = MYS
		}
		1034 = {
			if = {
				limit = { is_owned_and_controlled_by = ROOT } #Malabar
				add_core_of = MYS
				transfer_state_to = MYS
			}
		}
		effect_tooltip = {
			declare_war_on = {
				target = MYS
				type = annex_everything
			}
		}
		hidden_effect = { MYS = { country_event = prf.121 } }
	}
}

# Mysore set-up event
country_event = {
	id = prf.121
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.121 FROM = [From.GetName]" }

	hidden = yes

	is_triggered_only = yes

	option = {
		FROM = { ROOT = { transfer_technology_without_doctrines = yes } }
		add_political_power = 200
		load_oob = MYS_WAR
		MYS_jayachamarajendra_wadiyar = {
			if = {
				limit = { is_character_slot = second_in_command }
				remove_advisor_role = { slot = second_in_command }
			}
			if = {
				limit = { has_ideology = social_conservative_subtype }
				promote_character = { ideology = social_conservative_subtype }
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = MYS_jayachamarajendra_wadiyar_leader_desc
						ideology = social_conservative_subtype
					}
					promote_leader = yes
				}
			}
			add_country_leader_role = {
				country_leader = {
					desc = MYS_jayachamarajendra_wadiyar_leader_desc
					ideology = authoritarian_democrat_subtype
				}
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = {
					desc = MYS_jayachamarajendra_wadiyar_leader_desc
					ideology = paternal_autocrat_subtype
				}
				promote_leader = yes
			}
		}
		if = {
			limit = { has_character = MYS_krishna_raja_wadiyar_iv }
			MYS_krishna_raja_wadiyar_iv = {
				if = {
					limit = { is_character_slot = second_in_command }
					remove_advisor_role = { slot = second_in_command }
				}
				if = {
					limit = { has_ideology = social_conservative_subtype }
					promote_character = { ideology = social_conservative_subtype }
				}
				else = {
					add_country_leader_role = {
						country_leader = {
							desc = MYS_krishna_raja_wadiyar_iv_leader_desc
							ideology = social_conservative_subtype
						}
						promote_leader = yes
					}
				}
				add_country_leader_role = {
					country_leader = {
						desc = MYS_krishna_raja_wadiyar_iv_leader_desc
						ideology = authoritarian_democrat_subtype
					}
					promote_leader = yes
				}
				add_country_leader_role = {
					country_leader = {
						desc = MYS_krishna_raja_wadiyar_iv_leader_desc
						ideology = paternal_autocrat_subtype
					}
					promote_leader = yes
				}
				remove_trait = { trait = politically_connected }
				add_trait = { trait = inspirational_leader }
				promote_leader = yes
			}
		}
		else = {
			MYS_jayachamarajendra_wadiyar = {
				add_trait = { trait = inspirational_leader }
				promote_leader = yes
			}
		}
		if = {
			limit = { country_exists = MDR }
			MDR = {
				country_event = { id = prf.124 days = 5 }
			}
		}
		FROM = {
			country_event = { id = prf.122 days = 3 }
			declare_war_on = {
				target = ROOT
				type = annex_everything
			}
		}
	}
}

# Travancore joins the Mysore revolt
country_event = {
	id = prf.122
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.122 FROM = [From.GetName]" }
	title = prf.122.t
	desc = prf.122.d
	picture = GFX_report_event_PRF_war

	is_triggered_only = yes

	trigger = {
		tag = PRF
		has_war_with = MYS
		owns_state = 867
	}

	option = {
		name = prf.122.a
		every_character = {
			limit = { has_character_flag = TRV_character }
			set_nationality = TRV
		}
		867 = {
			add_core_of = TRV
			transfer_state_to = TRV
		}
		effect_tooltip = {
			declare_war_on = {
				target = TRV
				type = annex_everything
			}
		}
		hidden_effect = { TRV = { country_event = prf.123 } }
	}
}

# Travancore set-up event
country_event = {
	id = prf.123
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.123 FROM = [From.GetName]" }

	hidden = yes

	is_triggered_only = yes

	option = {
		FROM = { ROOT = { transfer_technology_without_doctrines = yes } }
		add_political_power = 200
		load_oob = TRV_WAR
		TRV_chithira_thirunal_balarama_varma = {
			if = {
				limit = { is_character_slot = second_in_command }
				remove_advisor_role = { slot = second_in_command }
			}
			add_country_leader_role = {
				country_leader = { ideology = paternal_autocrat_subtype }
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = { ideology = authoritarian_democrat_subtype }
				promote_leader = yes
			}
			add_country_leader_role = {
				country_leader = { ideology = social_conservative_subtype }
				promote_leader = yes
			}
			promote_leader = yes
		}
		give_military_access = MYS
		MYS = { give_military_access = TRV }
		FROM = {
			declare_war_on = {
				target = ROOT
				type = annex_everything
			}
		}
	}
}

# Madras considers joining the revolt
country_event = {
	id = prf.124
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.124 FROM = [From.GetName]" }
	title = prf.124.t
	desc = prf.124.d
	picture = GFX_report_event_PRF_war

	is_triggered_only = yes

	trigger = {
		tag = MDR
		PRF = {
			has_war_with = MYS
		}
		has_war = no
	}

	option = {
		name = prf.124.a #Let us claim all of the former Madras Presidency!
		ai_chance = {
			base = 35
			modifier = {
				factor = 0
				has_country_leader = { character = MDR_periyar_ramasamy }
			}
		}
		add_political_power = 200
		add_state_core = 423 #Madurai
		add_state_core = 424 #Madras
		custom_effect_tooltip = MDR_receive_one_regiment
		hidden_effect = {
			load_oob = MDR_WAR1
		}
		add_to_war = {
			targeted_alliance = MYS
			enemy = PRF
		}
		hidden_effect = {
			PRF = {
				country_event = {
					id = prf.125
					hours = 3
				}
			}
		}
	}
	option = {
		name = prf.124.b #Our Republic shall be anchored on Cape Comorin!
		ai_chance = {
			base = 15
			modifier = {
				factor = 0
				has_country_leader = { character = MDR_periyar_ramasamy }
			}
		}
		add_political_power = 100
		add_state_core = 423 #Madurai
		add_to_war = {
			targeted_alliance = MYS
			enemy = PRF
		}
		hidden_effect = {
			PRF = {
				country_event = {
					id = prf.125
					hours = 3
				}
			}
		}
	}
	option = {
		name = prf.124.c #We can't risk open war with the Federation...
		ai_chance = {
			base = 0
		}
		add_political_power = -200
	}
	option = {
		name = prf.124.e #Proclaim the state of Dravidia Nadu! Unity for all Dravidians!
		trigger = {
			has_country_leader = { character = MDR_periyar_ramasamy }
		}
		ai_chance = {
			base = 80
		}
		add_political_power = 200
		add_state_core = 423 #Madurai
		add_state_core = 424 #Madras
		add_state_core = 425 #Mysore
		add_state_core = 1034 #Malabar
		add_state_core = 867 #Trivancore
		add_state_claim = 427 #Hyderabad
		add_state_claim = 321 #Goa
		custom_effect_tooltip = MDR_receive_two_regiments
		hidden_effect = {
			load_oob = MDR_WAR1
			load_oob = MDR_WAR2
		}
		set_cosmetic_tag = MDR_DRAV
		add_to_war = {
			targeted_alliance = MYS
			enemy = PRF
		}
		hidden_effect = {
			PRF = {
				country_event = {
					id = prf.125
					hours = 3
				}
			}
		}
	}
}

# Madras has joined the revolt
country_event = {
	id = prf.125
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.125 FROM = [From.GetName]" }
	title = prf.125.t
	desc = prf.125.d
	picture = GFX_report_event_PRF_war

	is_triggered_only = yes

	option = {
		name = prf.125.a
		add_political_power = -100
		add_state_claim = 320
		add_state_claim = 818
		423 = {
			if = {
				limit = { is_owned_and_controlled_by = ROOT }
				set_state_controller_to = FROM
			}
		}
	}
}

# Post-war event for the Federation
country_event = {
	id = prf.126
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.126 FROM = [From.GetName]" }
	title = prf.126.t
	picture = GFX_report_event_PRF_war

	desc = {
		text = prf.126.d.all
		trigger = {
			owns_state = 867 #Travancore
			owns_state = 425 #Mysore
		}
	}
	desc = {
		text = prf.126.d.some
		trigger = {
			OR = {
				owns_state = 867 #Travancore
				owns_state = 425 #Mysore
			}
			OR = {
				NOT = { owns_state = 867 } #Travancore
				NOT = { owns_state = 425 } #Mysore
			}
		}
	}
	desc = {
		text = prf.126.d.none
		trigger = {
			NOT = { owns_state = 867 } #Travancore
			NOT = { owns_state = 425 } #Mysore
		}
	}

	fire_only_once = yes

	trigger = {
		tag = PRF
		has_country_flag = PRF_mysore_revolt
		has_war = no
	}

	mean_time_to_happen = {
		days = 5
	}

	option = {
		name = prf.126.a #Give the disaffected states autonomy within the Federation
		trigger = {
			OR = {
				owns_state = 867 #Travancore
				owns_state = 425 #Mysore
			}
		}
		set_country_flag = PRF_gave_autonomy
		if = {
			limit = {
				owns_state = 867
				owns_state = 425
				owns_state = 320
			}
			add_stability = 0.20
		}
		else = {
			add_stability = 0.10
		}

		if = {
			limit = { owns_state = 867 }
			hidden_effect = {
				remove_state_core = 867
				remove_state_claim = 867
			}
			TRV = {
				transfer_state = 867
				set_politics = {
					ruling_party = paternal_autocrat
				}
			}
			puppet = TRV
		}
		if = {
			limit = { owns_state = 425 }
			hidden_effect = {
				remove_state_core = 425
				remove_state_claim = 425
			}
			MYS = {
				remove_state_core = 1034
				transfer_state = 425
				set_politics = {
					ruling_party = paternal_autocrat
				}
			}
			puppet = MYS
		}
		if = {
			limit = { owns_state = 320 }
			hidden_effect = {
				remove_state_claim = 320
				remove_state_claim = 818
				remove_state_core = 423
			}
			MDR = {
				if = {
					limit = { has_cosmetic_tag = MDR_DRAV }
					drop_cosmetic_tag = yes
				}
				hidden_effect = {
					remove_state_core = 424 #Madras
					remove_state_core = 425 #Mysore
					remove_state_core = 1034 #Malabar
					remove_state_core = 867 #Trivancore
					remove_state_claim = 427 #Hyderabad
					remove_state_claim = 426 #Orissa
					remove_state_claim = 321 #Goa
				}
				transfer_state = 320
				if = {
					limit = {
						PRF = { owns_state = 818 }
					}
					transfer_state = 818
				}
				if = {
					limit = {
						PRF = { owns_state = 423 }
					}
					transfer_state = 423
				}
			}
			puppet = MDR
		}
	}
	option = {
		name = prf.126.b #Incorporate them fully under federal rule
		trigger = {
			OR = {
				owns_state = 867 #Travancore
				owns_state = 425 #Mysore
			}
		}
		add_stability = -0.05
		if = {
			limit = {
				owns_state = 867
				owns_state = 425
				owns_state = 320
			}
			add_political_power = 100
		}
		else = {
			add_political_power = 50
		}

		hidden_effect = {
			remove_state_claim = 867
			remove_state_claim = 425
			remove_state_claim = 1034
			MYS = { remove_state_core = 1034 }
		}
		add_state_core = 867
		add_state_core = 425
		add_state_core = 1034
		if = {
			limit = { owns_state = 320 }
			add_state_core = 320
			add_state_core = 818
			hidden_effect = {
				remove_state_claim = 320
				remove_state_claim = 818
				MDR = {
					remove_state_core = 423 #Madurai
					remove_state_core = 424 #Madras
					remove_state_core = 425 #Mysore
					remove_state_core = 1034 #Malabar
					remove_state_core = 867 #Trivancore
					remove_state_claim = 427 #Hyderabad
					remove_state_claim = 426 #Orissa
					remove_state_claim = 321 #Goa
				}
			}
		}
	}
	option = {
		name = prf.126.c #India is undone, it seems
		trigger = {
			NOT = { owns_state = 867 } #Travancore
			NOT = { owns_state = 425 } #Mysore
		}
		set_politics = {
			ruling_party = authoritarian_democrat
		}
		if = {
			limit = {
				has_idea = PRF_rule_of_princes_2
			}
			swap_ideas = {
				remove_idea = PRF_rule_of_princes_2
				add_idea = PRF_rule_of_princes_1
			}
		}
		if = {
			limit = {
				has_idea = PRF_rule_of_princes_3
			}
			swap_ideas = {
				remove_idea = PRF_rule_of_princes_3
				add_idea = PRF_rule_of_princes_1
			}
		}
		hidden_effect = {
			PRF_council_of_princes = { set_nationality = ROOT }
			clear_sic_slot = yes
			activate_advisor = PRF_council_of_princes_sic
		}
		unlock_national_focus = PRF_reform_council
	}
}

### RAILROAD EVENTS

# Hyderabad-Deccan Railroad - Part 1
country_event = {
	id = prf.140
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.140 FROM = [From.GetName]" }
	title = prf.140.t
	desc = prf.140.d
	picture = GFX_report_event_FNG_railway_construction_2

	is_triggered_only = yes

	option = {
		name = prf.140.a
		add_political_power = 50
	}
}

# Hyderabad-Deccan Railroad - Part 2
country_event = {
	id = prf.141
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.141 FROM = [From.GetName]" }
	title = prf.141.t
	desc = prf.141.d
	picture = GFX_report_event_FNG_railway_construction_2

	is_triggered_only = yes

	option = {
		name = prf.141.a
		add_political_power = 50
	}
}

# Hyderabad-Deccan Railroad - Part 3
country_event = {
	id = prf.142
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.142 FROM = [From.GetName]" }
	title = prf.142.t
	desc = prf.142.d
	picture = GFX_report_event_FNG_railway_construction_2

	is_triggered_only = yes

	option = {
		name = prf.142.a
		add_political_power = 50
	}
}

### WAR EVENTS

# Scheming in the North
country_event = {
	id = prf.145
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.145 FROM = [From.GetName]" }
	title = prf.145.t
	picture = GFX_report_event_PRF_princes

	desc = {
		text = prf.145.d
		trigger = {
			RAJ = {
				controls_state = 428
			}
		}
	}
	desc = {
		text = prf.145.d.kashmir.only
		trigger = {
			RAJ = {
				NOT = {
					controls_state = 428
				}
			}
		}
	}

	is_triggered_only = yes

	option = {
		name = prf.145.a #Hari Singh of Kashmir is a good reactionary, court him!
		ai_chance = {
			base = 45
		}
		custom_effect_tooltip = PRF_kashmir_may_help
		RAJ = {
			set_country_flag = PRF_kashmir
			country_event = {
				id = prf.146
				days = 7
			}
		}
	}
	option = {
		name = prf.145.b #Court both the powerful princes of Baroda and Kashmir!
		trigger = {
			RAJ = {
				controls_state = 428
			}
		}
		ai_chance = {
			base = 55
		}
		custom_effect_tooltip = PRF_kashmir_baroda_may_help
		RAJ = {
			set_country_flag = PRF_kashmir_baroda
			country_event = {
				id = prf.146
				days = 7
			}
		}
	}
	option = {
		name = prf.145.c #Abandon this scheming and declare war!
		ai_chance = {
			base = 0
		}
		reverse_add_opinion_modifier = {
			target = RAJ
			modifier = condemn_aggression
		}
		reverse_add_opinion_modifier = {
			target = CAN
			modifier = condemn_aggression
		}
		declare_war_on = {
			target = RAJ
			type = annex_everything
		}
	}
}

# Delhi has a chance of crushing rebellion before it begins
country_event = {
	id = prf.146
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.146 FROM = [From.GetName]" }
	title = prf.146.t
	picture = GFX_report_event_PRF_princes

	desc = {
		text = prf.146.d.kashmir
		trigger = {
			has_country_flag = PRF_kashmir
		}
	}
	desc = {
		text = prf.146.d.baroda
		trigger = {
			has_country_flag = PRF_kashmir_baroda
		}
	}

	is_triggered_only = yes

	trigger = {
		country_exists = PRF
		NOT = {
			has_war_with = PRF
		}
	}

	option = {
		name = prf.146.a #Rush troops to Kashmir and arrest the Maharaja!
		add_opinion_modifier = {
			target = PRF
			modifier = condemn_aggression
		}
		random_list = {
			60 = {
				add_stability = -0.10
				custom_effect_tooltip = PRF_kashmir_rises
				PRF = {
					country_event = prf.147
				}
			}
			40 = {
				add_stability = 0.10
				PRF = {
					country_event = prf.148
				}
			}
		}
	}
	option = {
		name = prf.146.b #Declare martial law in Baroda and Kashmir and arrest the princes!
		add_opinion_modifier = {
			target = PRF
			modifier = condemn_aggression
		}
		random_list = {
			40 = {
				add_stability = -0.20
				custom_effect_tooltip = PRF_kashmir_baroda_rises
				PRF = {
					country_event = prf.147
				}
			}
			60 = {
				add_stability = 0.10
				PRF = {
					country_event = prf.148
				}
			}
		}
	}
}

# The scheme succeeds - war begins
country_event = {
	id = prf.147
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.147 FROM = [From.GetName]" }
	title = prf.147.t
	desc = prf.147.d
	picture = GFX_report_event_PRF_war

	is_triggered_only = yes

	option = {
		name = prf.147.a
		if = {
			limit = {
				RAJ = {
					has_country_flag = PRF_kashmir
				}
			}
			RAJ = {
				clr_country_flag = PRF_kashmir
			}
			add_political_power = 100
		}
		if = {
			limit = {
				RAJ = {
					has_country_flag = PRF_kashmir_baroda
				}
			}
			add_political_power = 200
		}
		declare_war_on = {
			target = RAJ
			type = annex_everything
		}
		set_state_controller = 441 #Kashmir
		custom_effect_tooltip = PRF_kashmir_forces
		hidden_effect = {
			load_oob = PRF_KASHMIR
		}
		if = {
			limit = {
				RAJ = {
					has_country_flag = PRF_kashmir_baroda
				}
			}
			RAJ = {
				clr_country_flag = PRF_kashmir_baroda
			}
			set_state_controller = 428 #Gujarat
			custom_effect_tooltip = PRF_baroda_forces
			hidden_effect = {
				load_oob = PRF_BARODA
			}
		}
	}
}

# The scheme fails - war begins
country_event = {
	id = prf.148
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.148 FROM = [From.GetName]" }
	title = prf.148.t
	desc = prf.148.d
	picture = GFX_report_event_PRF_war

	is_triggered_only = yes

	option = {
		name = prf.147.a
		RAJ = {
			clr_country_flag = PRF_kashmir
			clr_country_flag = PRF_kashmir_baroda
		}
		add_political_power = -100
		declare_war_on = {
			target = RAJ
			type = annex_everything
		}
	}
}

# Toppling Indian Socialism
country_event = {
	id = prf.149
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.149 FROM = [From.GetName]" }
	title = prf.149.t
	desc = prf.149.d
	picture = GFX_report_event_PRF_palace

	is_triggered_only = yes

	option = {
		name = prf.149.a #Instigate unrest against the collective farms in Orissa!
		ai_chance = {
			base = 100
		}
		HND = {
			country_event = {
				id = prf.150
				days = 7
			}
		}
	}
	option = {
		name = prf.149.b #Enough with this scheming - begin the war!
		ai_chance = {
			base = 0
		}
		reverse_add_opinion_modifier = {
			target = HND
			modifier = condemn_aggression
		}
		declare_war_on = {
			target = HND
			type = annex_everything
		}
	}
}

# The Commune has a chance of crushing rebellion before it begins
country_event = {
	id = prf.150
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.150 FROM = [From.GetName]" }
	title = prf.150.t
	desc = prf.150.d
	picture = GFX_report_event_india_protests

	is_triggered_only = yes

	option = {
		name = prf.150.a
		add_opinion_modifier = {
			target = PRF
			modifier = condemn_aggression
		}
		random_list = {
			50 = {
				add_stability = -0.20
				custom_effect_tooltip = PRF_orissa_rises
				PRF = {
					country_event = prf.151
				}
			}
			50 = {
				add_stability = 0.10
				custom_effect_tooltip = PRF_orissa_crushed
				PRF = {
					country_event = prf.152
				}
			}
		}
	}
}

# The scheme succeeds - war begins
country_event = {
	id = prf.151
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.151 FROM = [From.GetName]" }
	title = prf.151.t
	desc = prf.151.d
	picture = GFX_report_event_india_protests

	is_triggered_only = yes

	option = {
		name = prf.151.a
		add_political_power = 200
		declare_war_on = {
			target = HND
			type = annex_everything
		}
		set_state_controller = 426 #Orissa
		custom_effect_tooltip = PRF_orissa_forces
		hidden_effect = {
			load_oob = PRF_ORISSA
		}
	}
}

# The scheme fails - war begins
country_event = {
	id = prf.152
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.152 FROM = [From.GetName]" }
	title = prf.152.t
	desc = prf.152.d
	picture = GFX_report_event_PRF_war

	is_triggered_only = yes

	option = {
		name = prf.151.a
		add_political_power = -100
		declare_war_on = {
			target = HND
			type = annex_everything
		}
	}
}

# The Princely Federation offers a deal to Delhi
country_event = {
	id = prf.153
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.153 FROM = [From.GetName]" }
	title = prf.153.t
	desc = prf.153.d
	picture = GFX_report_event_PRF_palace

	is_triggered_only = yes

	option = {
		name = prf.153.a #Respond positively to these overtures
		ai_chance = { base = 65 }
		set_country_flag = PRF_unholy_deal_yes
		custom_effect_tooltip = PRF_unholy_deal
		add_opinion_modifier = {
			target = PRF
			modifier = unholy_alliance_opinion
		}
		if = {
			limit = { country_exists = PRF }
			diplomatic_relation = {
				country = PRF
				relation = non_aggression_pact
			}
		}
		PRF = {
			country_event = {
				id = prf.154
				days = 1
			}
		}
	}
	option = {
		name = prf.153.b #Make promises and hedge bets
		ai_chance = { base = 35 }
		set_country_flag = PRF_unholy_deal_maybe
		custom_effect_tooltip = PRF_unholy_deal
		PRF = {
			country_event = {
				id = prf.154
				days = 1
			}
		}
	}
	option = {
		name = prf.153.c #No deals with scheming princes!
		ai_chance = { base = 10 }
		PRF = {
			country_event = {
				id = prf.155
				days = 1
			}
		}
	}
}

# Delhi accepts the deal
country_event = {
	id = prf.154
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.154 FROM = [From.GetName]" }
	title = prf.154.t
	desc = prf.154.d
	picture = GFX_report_event_PRF_palace

	is_triggered_only = yes

	option = {
		name = prf.154.a
		add_opinion_modifier = {
			target = RAJ
			modifier = unholy_alliance_opinion
		}
	}
}

# Delhi refuses the deal
country_event = {
	id = prf.155
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.155 FROM = [From.GetName]" }
	title = prf.155.t
	desc = prf.155.d
	picture = GFX_report_event_PRF_palace

	is_triggered_only = yes

	option = {
		name = prf.155.a
	}
}

# Does Delhi honour the pact once war begins?
country_event = {
	id = prf.156
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.156 FROM = [From.GetName]" }
	title = prf.156.t
	desc = prf.156.d
	picture = GFX_report_event_PRF_palace

	fire_only_once = yes

	trigger = {
		tag = RAJ
		PRF = {
			has_war_with = HND
		}
		OR = {
			has_country_flag = PRF_unholy_deal_yes
			has_country_flag = PRF_unholy_deal_maybe
		}
		NOT = {
			has_war_with = HND
			has_war_with = PRF
			surrender_progress > 0.05
			focus_progress = { focus = RAJ_invadeHND progress > 0 }
			focus_progress = { focus = RAJ_revoltHND progress > 0 }
			focus_progress = { focus = RAJ_invadePRF progress > 0 }
			focus_progress = { focus = RAJ_revoltPRF progress > 0 }
		}
	}

	mean_time_to_happen = {
		days = 3
	}

	option = {
		name = prf.156.a #Honour the pact and attack the Bhartiya Commune!
		ai_chance = {
			base = 60
			modifier = {
				factor = 1.5
				has_country_flag = PRF_unholy_deal_yes
			}
			modifier = {
				factor = 0.5
				has_army_manpower = {
					size < 300000
				}
			}
		}
		clr_country_flag = PRF_unholy_deal_yes
		clr_country_flag = PRF_unholy_deal_maybe
		declare_war_on = {
			target = HND
			type = annex_everything
		}
		add_named_threat = {
			threat = 4
			name = indian_wars_threat
		}
	}
	option = {
		name = prf.156.b #Strike the princes in the back!
		trigger = {
			has_country_flag = PRF_unholy_deal_maybe
		}
		ai_chance = {
			base = 39
			modifier = {
				factor = 0.5
				has_army_manpower = {
					size < 300000
				}
			}
		}
		clr_country_flag = PRF_unholy_deal_maybe
		declare_war_on = {
			target = PRF
			type = annex_everything
		}
		add_named_threat = {
			threat = 4
			name = indian_wars_threat
		}
	}
	option = {
		name = prf.156.c #Let them expend their strength on each other
		ai_chance = {
			base = 1
			modifier = {
				factor = 20
				has_army_manpower = {
					size < 300000
				}
			}
		}
		clr_country_flag = PRF_unholy_deal_yes
		clr_country_flag = PRF_unholy_deal_maybe
		reverse_add_opinion_modifier = {
			target = PRF
			modifier = KR_outraged
		}
	}
}

# Peace event with the Entente
country_event = {
	id = prf.160
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.160 FROM = [From.GetName]" }
	title = prf.160.t
	desc = prf.160.d
	picture = GFX_report_event_PRF_war

	trigger = {
		OR = {
			tag = PRF
			tag = HND
		}
		OR = {
			is_in_faction = no
			is_faction_leader = yes
		}
		has_war_with = RAJ
		controls_state = 439 #Delhi
		surrender_progress < 0.2
		RAJ = {
			is_in_faction = yes
			is_faction_leader = no
			has_capitulated = yes
			NOT = { has_country_flag = RAJ_considering_peace }
		}
	}

	mean_time_to_happen = {
		days = 10
	}

	option = {
		name = prf.160.a #Propose an armistice!
		ai_chance = {
			base = 100
		}
		RAJ = {
			set_country_flag = { flag = RAJ_considering_peace days = 180 value = 1 }
			faction_leader = {
				country_event = prf.161
			}
		}
	}
	option = {
		name = prf.160.b #We shall fight on!
		ai_chance = {
			base = 0
		}
		add_war_support = -0.30
	}
}

# Faction leader considers armistice
country_event = {
	id = prf.161
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.161 FROM = [From.GetName]" }
	title = prf.161.t
	desc = prf.161.d
	picture = GFX_report_event_PRF_war

	is_triggered_only = yes

	option = {
		name = prf.161.a #We have no choice but to accept
		ai_chance = {
			base = 80
		}
		add_political_power = -100
		every_other_country = {
			limit = {
				is_in_faction_with = ROOT
				is_indian_tag = yes
			}
			leave_faction = yes
		}

		# If Goa is in the Entente, annex it
		if = {
			limit = { is_ally_with = 321.owner }
			321 = { transfer_state_to = FROM }
		}

		every_enemy_country = {
			limit = {
				OR = {
					is_indian_tag = yes
					original_tag = NEP
					original_tag = BHU
				}
				is_valid_peace_target = yes
			}
			white_peace_with_ROOT = yes
		}
	}
	option = {
		name = prf.161.b #No! The Delhi Government shall be restored!
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				FROM = { surrender_progress < 0.1 }
			}
			modifier = {
				factor = 0
				any_enemy_country = { is_major = yes }
			}
		}
		FROM = {
			country_event = {
				id = prf.162
				days = 1
			}
		}
	}
}

# Notification
country_event = {
	id = prf.162
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.162 FROM = [From.GetName]" }
	title = prf.162.t
	desc = prf.162.d
	picture = GFX_report_event_PRF_war

	is_triggered_only = yes

	option = {
		name = prf.162.a #Withdraw? Never!
		add_political_power = 100
	}
	option = {
		name = prf.162.b #Aargh - fine. We want this war over with
		ai_chance = { base = 0 }
		FROM = { white_peace_with_ROOT = yes }
	}
}

### POST-WAR EVENTS

# Asks to join a faction
country_event = {
	id = prf.170
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.170 FROM = [From.GetName]" }
	title = prf.170.t
	picture = GFX_report_event_PRF_palace

	desc = {
		text = prf.170.d.germany
		trigger = {
			tag = GER
		}
	}
	desc = {
		text = prf.170.d.japan
		trigger = {
			tag = JAP
		}
	}
	desc = {
		text = prf.170.d.russia
		trigger = {
			tag = RUS
		}
	}

	is_triggered_only = yes

	option = {
		name = prf.170.a #Of course we welcome their alliance!
		add_political_power = 50
		add_to_faction = PRF
		PRF = {
			country_event = {
				id = prf.171
				days = 1
			}
		}
	}
	option = {
		name = prf.170.b #No, I think not
		ai_chance = { base = 0 }
	}
}

# Informed of acceptance
country_event = {
	id = prf.171
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.171 FROM = [From.GetName]" }
	title = prf.171.t
	picture = GFX_report_event_PRF_palace

	desc = {
		text = prf.171.d.germany
		trigger = {
			FROM = {
				tag = GER
			}
		}
	}
	desc = {
		text = prf.171.d.japan
		trigger = {
			FROM = {
				tag = JAP
			}
		}
	}
	desc = {
		text = prf.171.d.russia
		trigger = {
			FROM = {
				tag = RUS
			}
		}
	}

	is_triggered_only = yes

	option = {
		name = prf.171.a
		add_political_power = 50
	}
}

# Dealing with the Commune's officers
country_event = {
	id = prf.172
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.172 FROM = [From.GetName]" }
	title = prf.172.t
	desc = prf.172.d
	picture = GFX_report_event_indian_soldiers

	is_triggered_only = yes

	option = {
		name = prf.172.a #Let the least politically tainted officers have a commission
		add_political_power = 50
		add_stability = -0.05
		add_popularity = {
			ideology = syndicalist
			popularity = 0.05
		}
		HND = {
			every_unit_leader = {
				limit = {
					OR = {
						is_character = HND_mohan_singh
						is_character = HND_naseem_haider
						is_character = HND_lakshmi_swaminathan
					}
				}
				set_nationality = ROOT
			}
		}
	}
	option = {
		name = prf.172.b #These men are beyond redemption, lock them away for ever!
		add_political_power = 100
	}
}

# Dealing with the Delhi's officers
country_event = {
	id = prf.178
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.178 FROM = [From.GetName]" }
	title = prf.178.t
	desc = prf.178.d
	picture = GFX_report_event_indian_soldiers

	is_triggered_only = yes

	option = {
		name = prf.178.a #The Nation needs every single man!
		add_political_power = 50
		add_stability = -0.05
		RAJ = {
			every_unit_leader = {
				limit = {
					OR = {
						is_character = RAJ_digvijaysinhji_ranjitsinhji
						is_character = RAJ_ishar_singh
						is_character = RAJ_mir_dast
						is_character = RAJ_khengarji_iii_sawai_bahadur
					}
				}
				set_nationality = ROOT
			}
		}
	}
	option = {
		name = prf.178.b #We have no need for British lapdogs!
		add_political_power = 100
	}
}

# Dealing with Nepal
country_event = {
	id = prf.187
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.187 FROM = [From.GetName]" }
	title = prf.187.t
	desc = prf.187.d
	picture = GFX_report_event_PRF_palace

	is_triggered_only = yes

	option = {
		name = prf.187.a #Demand the return of the occupied districts!
		ai_chance = {
			base = 60
		}
		NEP = {
			set_country_flag = PRF_demand_return
			add_opinion_modifier = {
				target = ROOT
				modifier = KR_outraged
			}
			country_event = {
				id = prf.188
				days = 3
			}
		}
	}
	option = {
		name = prf.187.b #Claim the districts and press for a friendly government!
		ai_chance = {
			base = 40
		}
		add_political_power = -60
		NEP = {
			set_country_flag = PRF_demand_govt
			add_opinion_modifier = {
				target = ROOT
				modifier = KR_outraged
			}
			country_event = {
				id = prf.188
				days = 3
			}
		}
	}
}

# Nepal decides how to respond
country_event = {
	id = prf.188
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.188 FROM = [From.GetName]" }
	title = prf.188.t
	picture = GFX_report_event_PRF_palace

	desc = {
		text = prf.188.d.return
		trigger = {
			has_country_flag = PRF_demand_return
		}
	}
	desc = {
		text = prf.188.d.govt
		trigger = {
			has_country_flag = PRF_demand_govt
		}
	}

	is_triggered_only = yes

	trigger = {
		any_owned_state = {
			is_controlled_by = NEP
			is_core_of = FROM
		}
		NOT = {
			has_war_with = FROM
		}
	}

	option = {
		name = prf.188.a #We have no choice but to comply
		ai_chance = {
			base = 80
			modifier = {
				factor = 0.8
				has_country_flag = PRF_demand_govt
			}
		}
		add_political_power = -100
		effect_tooltip = {
			every_owned_state = {
				limit = {
					is_controlled_by = NEP
					is_core_of = FROM
				}
				FROM = {
					transfer_state = PREV
				}
			}
		}
		if = {
			limit = {
				has_country_flag = PRF_demand_govt
			}
			effect_tooltip = {
				FROM = {
					puppet = NEP
				}
			}
		}
		FROM = {
			country_event = prf.189
		}
	}
	option = {
		name = prf.188.b #Nepal shall defend her conquests!
		ai_chance = {
			base = 20
			modifier = {
				factor = 1.5
				has_country_flag = PRF_demand_govt
			}
			modifier = {
				factor = 5
				is_in_faction = yes
			}
		}
		clr_country_flag = PRF_demand_return
		clr_country_flag = PRF_demand_govt
		add_political_power = 100
		FROM = {
			country_event = prf.190
		}
	}
}

# Nepal agrees to return the territory
country_event = {
	id = prf.189
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.189 FROM = [From.GetName]" }
	title = prf.189.t
	picture = GFX_report_event_PRF_palace

	desc = {
		text = prf.189.d.return
		trigger = {
			FROM = {
				has_country_flag = PRF_demand_return
			}
		}
	}
	desc = {
		text = prf.189.d.govt
		trigger = {
			FROM = {
				has_country_flag = PRF_demand_govt
			}
		}
	}

	is_triggered_only = yes

	option = {
		name = prf.189.a
		add_political_power = 50
		FROM = {
			every_owned_state = {
				limit = {
					is_controlled_by = NEP
					is_core_of = ROOT
				}
				ROOT = {
					transfer_state = PREV
				}
			}
		}
		if = {
			limit = {
				FROM = {
					has_country_flag = PRF_demand_govt
				}
			}
			puppet = FROM
		}
		FROM = {
			clr_country_flag = PRF_demand_return
			clr_country_flag = PRF_demand_govt
		}
	}
}

# Nepal refuses to return the territory
country_event = {
	id = prf.190
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.190 FROM = [From.GetName]" }
	title = prf.190.t
	desc = prf.190.d
	picture = GFX_report_event_PRF_palace

	is_triggered_only = yes

	option = {
		name = prf.190.a #Then war it is!
		ai_chance = {
			base = 50
		}
		declare_war_on = {
			target = FROM
			type = annex_everything
		}
	}
	option = {
		name = prf.190.b #Maybe another time...
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				FROM = {
					is_in_faction = no
				}
			}
		}
		add_political_power = -100
	}
}

# Demanding a Deccan State rejoin India
country_event = {
	id = prf.191
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.191 FROM = [From.GetName]" }
	title = prf.191.t
	picture = GFX_report_event_PRF_palace

	desc = {
		text = prf.191.d
		trigger = {
			FROM = {
				OR = {
					tag = RAJ
					tag = HND
				}
			}
		}
	}
	desc = {
		text = prf.191.other.d
		trigger = {
			FROM = {
				NOT = {
					tag = RAJ
					tag = HND
				}
			}
		}
	}

	is_triggered_only = yes

	trigger = {
		NOT = {
			has_war_with = FROM
		}
	}

	immediate = {
		hidden_effect = {
			every_core_state = {
				remove_claim_by = FROM
				add_core_of = FROM
			}
		}
	}

	option = {
		name = prf.191.a #We have no choice but to comply
		ai_chance = {
			base = 80
		}
		FROM = {
			country_event = prf.192
		}
	}
	option = {
		name = prf.191.b #Never! Let them come, if they dare!
		ai_chance = {
			base = 20
			modifier = {
				factor = 4
				is_in_faction = yes
			}
			modifier = {
				factor = 0
				is_ally_with = FROM
			}
			modifier = {
				factor = 0
				tag = TRV
				FROM = {
					tag = MYS
				}
			}
			modifier = {
				factor = 0
				tag = MYS
				FROM = {
					tag = TRV
				}
			}
			modifier = {
				factor = 4
				FROM = {
					OR = {
						tag = MYS
						tag = TRV
						tag = MDR
					}
				}
			}
		}
		if = {
			limit = {
				is_subject_of = FROM
			}
			FROM = {
				end_puppet = ROOT
			}
		}
		if = {
			limit = {
				is_in_faction_with = FROM
			}
			random_country = {
				limit = {
					is_in_faction_with = ROOT
					is_faction_leader = yes
				}
				remove_from_faction = ROOT
			}
		}
		add_political_power = 100
		FROM = {
			country_event = prf.193
		}
	}
}

# The Deccan State agrees to rejoin
country_event = {
	id = prf.192
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.192 FROM = [From.GetName]" }
	title = prf.192.t
	desc = prf.192.d
	picture = GFX_report_event_PRF_palace

	is_triggered_only = yes

	option = {
		name = prf.192.a
		add_political_power = 50
		annex_country = {
			target = FROM
			transfer_troops = yes
		}
	}
}

# The Deccan State refuses to rejoin
country_event = {
	id = prf.193
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.193 FROM = [From.GetName]" }
	title = prf.193.t
	desc = prf.193.d
	picture = GFX_report_event_PRF_palace

	is_triggered_only = yes

	option = {
		name = prf.193.a #Is that so?
		create_wargoal = {
			type = annex_everything
			target = FROM
		}
	}
}

# India seizes Ceylon from a Germany at war
country_event = {
	id = prf.194
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.194 FROM = [From.GetName]" }
	title = prf.194.t
	desc = prf.194.d
	picture = GFX_report_event_PRF_war

	is_triggered_only = yes

	option = {
		name = prf.194.a
		if = {
			limit = { 422 = { is_owned_and_controlled_by_ROOT_or_subject = yes } }
			add_state_claim = 422
			FROM = { transfer_state = 422 }
		}
		if = {
			limit = { 733 = { is_owned_and_controlled_by_ROOT_or_subject = yes } }
			add_state_claim = 733
			FROM = { transfer_state = 733 }
		}
		if = {
			limit = { 281 = { is_owned_and_controlled_by_ROOT_or_subject = yes } }
			add_state_claim = 281
			FROM = { transfer_state = 281 }
		}
		add_opinion_modifier = {
			target = FROM
			modifier = KR_outraged
		}
	}
}

# India asks for the return of Ceylon
country_event = {
	id = prf.195
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.195 FROM = [From.GetName]" }
	title = prf.195.t
	desc = prf.195.d
	picture = GFX_report_event_PRF_palace

	is_triggered_only = yes

	option = {
		name = prf.195.a #Hand over the isles to the Indians
		ai_chance = {
			base = 75
		}
		add_political_power = -60
		effect_tooltip = {
			if = {
				limit = { 422 = { is_owned_and_controlled_by_ROOT_or_subject = yes } }
				FROM = { transfer_state = 422 }
			}
			if = {
				limit = { 733 = { is_owned_and_controlled_by_ROOT_or_subject = yes } }
				FROM = { transfer_state = 733 }
			}
			if = {
				limit = { 281 = { is_owned_and_controlled_by_ROOT_or_subject = yes } }
				FROM = { transfer_state = 281 }
			}
		}
		FROM = {
			add_opinion_modifier = {
				target = ROOT
				modifier = KR_approves_of_govt
			}
			country_event = prf.196
		}
	}
	option = {
		name = prf.195.b #No, these naval bases are vital to the Kaiserliche Marine
		ai_chance = {
			base = 25
		}
		FROM = {
			add_opinion_modifier = {
				target = ROOT
				modifier = KR_hates_govt
			}
			country_event = prf.197
		}
	}
}

# Germany has returned Ceylon
country_event = {
	id = prf.196
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.196 FROM = [From.GetName]" }
	title = prf.196.t
	desc = prf.196.d
	picture = GFX_report_event_PRF_princes

	is_triggered_only = yes

	immediate = {
		set_country_flag = CEY_CONQ
	}

	option = {
		name = prf.196.a #Merge the isles into our nation!
		ai_chance = {
			base = 85
		}
		if = {
			limit = {
				422 = {
					OR = {
						is_owned_and_controlled_by = FROM
						owner = {
							is_subject_of = FROM
							controls_state = PREV
						}
					}
				}
			}
			add_state_claim = 422
			transfer_state = 422
		}
		if = {
			limit = {
				733 = {
					OR = {
						is_owned_and_controlled_by = FROM
						owner = {
							is_subject_of = FROM
							controls_state = PREV
						}
					}
				}
			}
			add_state_claim = 733
			transfer_state = 733
		}
		if = {
			limit = {
				281 = {
					OR = {
						is_owned_and_controlled_by = FROM
						owner = {
							is_subject_of = FROM
							controls_state = PREV
						}
					}
				}
			}
			add_state_claim = 281
			transfer_state = 281
		}
		add_political_power = 50
	}
	option = {
		name = prf.196.b #Grant Ceylon wide internal autonomy and incorporate the atolls
		ai_chance = {
			base = 15
		}
		trigger = {
			422 = {
				OR = {
					is_owned_and_controlled_by = FROM
					owner = {
						is_subject_of = FROM
						controls_state = PREV
					}
				}
			}
			NOT = { country_exists = CEY }
		}
		add_political_power = 100
		if = {
			limit = {
				733 = {
					OR = {
						is_owned_and_controlled_by = FROM
						owner = {
							is_subject_of = FROM
							controls_state = PREV
						}
					}
				}
			}
			add_state_claim = 733
			transfer_state = 733
		}
		if = {
			limit = {
				281 = {
					OR = {
						is_owned_and_controlled_by = FROM
						owner = {
							is_subject_of = FROM
							controls_state = PREV
						}
					}
				}
			}
			add_state_claim = 281
			transfer_state = 281
		}
		remove_state_claim = 422
		CEY = {
			transfer_state = 422
			drop_cosmetic_tag = yes
		}
		puppet = CEY
	}
}

# Germany has refused to return Ceylon
country_event = {
	id = prf.197
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.197 FROM = [From.GetName]" }
	title = prf.197.t
	desc = prf.197.d
	picture = GFX_report_event_PRF_palace

	is_triggered_only = yes

	option = {
		name = prf.197.a
		add_opinion_modifier = {
			target = FROM
			modifier = KR_hates_govt
		}
	}
}

# India seizes Goa
country_event = {
	id = prf.198
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.198 FROM = [From.GetName]" }
	title = prf.198.t
	desc = prf.198.d
	picture = GFX_report_event_PRF_war

	is_triggered_only = yes

	option = {
		name = prf.198.a
		set_state_controller = 321 #Goa
		FROM = {
			transfer_state = 321
		}
		add_state_claim = 321
		add_opinion_modifier = {
			target = FROM
			modifier = KR_outraged
		}
	}
}

# Deccan state owns Hyderabad after rest of India united
country_event = {
	id = prf.201
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.201 FROM = [From.GetName]" }
	title = prf.201.t
	desc = prf.201.d
	picture = GFX_report_event_PRF_palace

	fire_only_once = yes

	trigger = {
		OR = {
			tag = MYS
			tag = TRV
			tag = MDR
		}
		has_war = no
		owns_state = 427 #Hyderabad
		NOT = {
			country_exists = PRF
		}
		OR = {
			AND = {
				NOT = {
					country_exists = RAJ
				}
				441 = { is_owned_and_controlled_by = HND } #Calcutta
				439 = { is_owned_and_controlled_by = HND } #Delhi
			}
			AND = {
				NOT = {
					country_exists = HND
				}
				441 = { is_owned_and_controlled_by = RAJ } #Calcutta
				439 = { is_owned_and_controlled_by = RAJ } #Delhi
			}
		}
	}

	mean_time_to_happen = {
		days = 10
	}

	immediate = {
		random_other_country = {
			limit = {
				owns_state = 439
				controls_state = 439
			}
			save_event_target_as = uniter
		}
	}

	option = {
		name = prf.201.a # Offer them Hyderabad, nothing more
		ai_chance = {
			base = 30
		}
		event_target:uniter = {
			country_event = {
				id = prf.202
				days = 1
			}
		}
	}
	option = {
		name = prf.201.b # Submit to their nominal rule
		ai_chance = {
			base = 50
		}
		event_target:uniter = {
			country_event = {
				id = prf.203
				days = 1
			}
		}
	}
	option = {
		name = prf.201.c # We do nothing - let them come and take it
		ai_chance = {
			base = 20
		}
		add_political_power = 100
		event_target:uniter = {
			country_event = {
				id = prf.204
				days = 1
			}
		}
	}
}

# Hyderabad is offered to the winner
country_event = {
	id = prf.202
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.202 FROM = [From.GetName]" }
	title = prf.202.t
	desc = prf.202.d
	picture = GFX_report_event_PRF_palace

	is_triggered_only = yes

	option = {
		name = prf.202.a # We accept their proposal
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.5
				tag = HND
			}
		}
		add_political_power = 100
		transfer_state = 427 #Hyderabad
		if = {
			limit = {
				FROM = {
					owns_state = 893
				}
			}
			transfer_state = 893
		}
		if = {
			limit = {
				country_exists = FROM
			}
			diplomatic_relation = {
				country = FROM
				relation = non_aggression_pact
			}
		}
	}
	option = {
		name = prf.202.b # They rightfully belong under our rule
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.5
				tag = RAJ
			}
			modifier = {
				factor = 0
				has_country_leader = { character = HND_mohandas_karamchand_gandhi }
			}
		}
		FROM = {
			country_event = {
				id = prf.191
				days = 1
			}
		}
	}
}

# Offers submission
country_event = {
	id = prf.203
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.203 FROM = [From.GetName]" }
	title = prf.203.t
	desc = prf.203.d
	picture = GFX_report_event_PRF_palace

	is_triggered_only = yes

	option = {
		name = prf.202.a # We accept their proposal
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.5
				tag = HND
			}
		}
		add_political_power = 100
		transfer_state = 427 #Hyderabad
		if = {
			limit = {
				FROM = {
					owns_state = 893
				}
			}
			transfer_state = 893
		}
		FROM = {
			if = {
				limit = { has_country_flag = JAP_economic_sphere_member }
				custom_effect_tooltip = JAP_withdraws_from_sphere
				hidden_effect = { country_event = japfor.404 }
			}
		}
		puppet = FROM
	}
	option = {
		name = prf.203.b #They will submit to our direct rule, or there will be war
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.5
				tag = RAJ
			}
			modifier = {
				factor = 0
				has_country_leader = { character = HND_mohandas_karamchand_gandhi }
			}
		}
		FROM = {
			country_event = {
				id = prf.191
				days = 1
			}
		}
	}
}

# Refuses to offer anything
country_event = {
	id = prf.204
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.204 FROM = [From.GetName]" }
	title = prf.204.t
	desc = prf.204.d
	picture = GFX_report_event_PRF_palace

	is_triggered_only = yes

	trigger = {
		NOT = {
			has_war_with = FROM
		}
	}

	option = {
		name = prf.204.a
		create_wargoal = {
			type = annex_everything
			target = FROM
		}
	}
}

# Does the south unite after winning civil war?
country_event = {
	id = prf.205
	immediate = { log = "[GetDateText]: [Root.GetName]: event prf.205 FROM = [From.GetName]" }
	title = prf.205.t
	desc = prf.205.d
	picture = GFX_report_event_PRF_palace

	fire_only_once = yes

	trigger = {
		OR = {
			tag = MYS
			tag = TRV
			tag = MDR
		}
		has_war = no
		owns_state = 427 #Hyderabad
		NOT = {
			country_exists = PRF
		}
	}

	mean_time_to_happen = {
		days = 5
	}

	option = {
		name = prf.205.a # Yes, this is vital to our future
		ai_chance = {
			base = 100
		}
		add_political_power = 100
		every_state = {
			limit = {
				is_core_of = PRF
				NOT = {
					is_core_of = ROOT
				}
			}
			add_core_of = ROOT
		}
		every_country = {
			limit = {
				OR = {
					tag = MYS
					tag = TRV
					tag = MDR
				}
				exists = yes
				NOT = {
					owns_state = 427
				}
			}
			country_event = {
				id = prf.191
				days = 5
			}
		}
	}
	option = {
		name = prf.205.b # No, we are fine as we are
		ai_chance = {
			base = 0
		}
		add_political_power = -100
	}
}

# PRF is gone, move its leaders to their home tags (donotlog)
country_event = {
	id = prf.206

	hidden = yes
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		PRF = {
			#################
			### Hyderabad ###
			#################
			every_character = {
				limit = { has_character_flag = HYD_character }
				set_nationality = HYD
			}
			HYD = {
				HYD_osman_ali_khan = {
					set_character_name = HYD_osman_ali_khan
					remove_all_country_leader_roles = yes
					add_country_leader_role = {
						country_leader = {
							desc = HYD_osman_ali_khan_leader_desc
							ideology = paternal_autocrat_subtype
						}
						promote_leader = yes
					}
				}
				HYD_madapati_hanumantha_rao = {
					if = {
						limit = { is_character_slot = second_in_command }
						remove_advisor_role = { slot = second_in_command }
					}
					if = {
						limit = { has_ideology = radical_socialist_subtype }
						promote_character = { ideology = radical_socialist_subtype }
					}
					else = {
						add_country_leader_role = {
							country_leader = { ideology = radical_socialist_subtype }
							promote_leader = yes
						}
					}
				}
			}

			################
			### Pakistan ###
			################
			every_character = {
				limit = { has_character_flag = PAK_character }
				set_nationality = PAK
			}
			PAK = {
				PAK_aga_khan_iii = {
					if = {
						limit = { is_character_slot = political_advisor }
						remove_advisor_role = { slot = political_advisor }
					}
					if = {
						limit = { has_ideology = social_conservative_subtype }
						promote_character = { ideology = social_conservative_subtype }
					}
					else = {
						add_country_leader_role = {
							country_leader = { ideology = social_conservative_subtype }
							promote_leader = yes
						}
					}
				}
			}

			##############
			### Mysore ###
			##############
			every_character = {
				limit = { has_character_flag = MYS_character }
				set_nationality = MYS
			}
			MYS = {
				MYS_jayachamarajendra_wadiyar = {
					if = {
						limit = { is_character_slot = second_in_command }
						remove_advisor_role = { slot = second_in_command }
					}
					if = {
						limit = { has_ideology = social_conservative_subtype }
						promote_character = { ideology = social_conservative_subtype }
					}
					else = {
						add_country_leader_role = {
							country_leader = {
								desc = MYS_jayachamarajendra_wadiyar_leader_desc
								ideology = social_conservative_subtype
							}
							promote_leader = yes
						}
					}
					if = {
						limit = { has_ideology = authoritarian_democrat_subtype }
						promote_character = { ideology = authoritarian_democrat_subtype }
					}
					else = {
						add_country_leader_role = {
							country_leader = {
								desc = MYS_jayachamarajendra_wadiyar_leader_desc
								ideology = authoritarian_democrat_subtype
							}
							promote_leader = yes
						}
					}
					if = {
						limit = { has_ideology = paternal_autocrat_subtype }
						promote_character = { ideology = paternal_autocrat_subtype }
					}
					else = {
						add_country_leader_role = {
							country_leader = {
								desc = MYS_jayachamarajendra_wadiyar_leader_desc
								ideology = paternal_autocrat_subtype
							}
							promote_leader = yes
						}
					}
				}
				if = {
					limit = { has_character = MYS_krishna_raja_wadiyar_iv }
					MYS_krishna_raja_wadiyar_iv = {
						if = {
							limit = { is_character_slot = second_in_command }
							remove_advisor_role = { slot = second_in_command }
						}
						if = {
							limit = { has_ideology = social_conservative_subtype }
							promote_character = { ideology = social_conservative_subtype }
						}
						else = {
							add_country_leader_role = {
								country_leader = {
									desc = MYS_krishna_raja_wadiyar_iv_leader_desc
									ideology = social_conservative_subtype
								}
								promote_leader = yes
							}
						}
						if = {
							limit = { has_ideology = authoritarian_democrat_subtype }
							promote_character = { ideology = authoritarian_democrat_subtype }
						}
						else = {
							add_country_leader_role = {
								country_leader = {
									desc = MYS_krishna_raja_wadiyar_iv_leader_desc
									ideology = authoritarian_democrat_subtype
								}
								promote_leader = yes
							}
						}
						if = {
							limit = { has_ideology = paternal_autocrat_subtype }
							promote_character = { ideology = paternal_autocrat_subtype }
						}
						else = {
							add_country_leader_role = {
								country_leader = {
									desc = MYS_krishna_raja_wadiyar_iv_leader_desc
									ideology = paternal_autocrat_subtype
								}
								promote_leader = yes
							}
						}
						if = {
							limit = { has_trait = politically_connected }
							remove_trait = { trait = inspirational_leader }
						}
						if = {
							limit = { NOT = { has_trait = inspirational_leader } }
							add_trait = { trait = inspirational_leader }
						}
						promote_leader = yes
					}
				}
				else = {
					MYS_jayachamarajendra_wadiyar = {
						if = {
							limit = { NOT = { has_trait = inspirational_leader } }
							add_trait = { trait = inspirational_leader }
						}
						promote_leader = yes
					}
				}
			}

			##################
			### Travancore ###
			##################
			every_character = {
				limit = { has_character_flag = TRV_character }
				set_nationality = TRV
			}
			TRV = {
				TRV_chithira_thirunal_balarama_varma = {
					if = {
						limit = { is_character_slot = second_in_command }
						remove_advisor_role = { slot = second_in_command }
					}
					if = {
						limit = { has_ideology = social_conservative_subtype }
						promote_character = { ideology = social_conservative_subtype }
					}
					else = {
						add_country_leader_role = {
							country_leader = { ideology = social_conservative_subtype }
							promote_leader = yes
						}
					}
					if = {
						limit = { has_ideology = authoritarian_democrat_subtype }
						promote_character = { ideology = authoritarian_democrat_subtype }
					}
					else = {
						add_country_leader_role = {
							country_leader = { ideology = authoritarian_democrat_subtype }
							promote_leader = yes
						}
					}
					if = {
						limit = { has_ideology = paternal_autocrat_subtype }
						promote_character = { ideology = paternal_autocrat_subtype }
					}
					else = {
						add_country_leader_role = {
							country_leader = { ideology = paternal_autocrat_subtype }
							promote_leader = yes
						}
					}
					promote_leader = yes
				}
			}
		}
	}
}
