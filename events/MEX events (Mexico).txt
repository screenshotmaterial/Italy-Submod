###########################
# Mexico Events
###########################

add_namespace = mexico

country_event = { # Start up Event
	id = mexico.1
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.1 FROM = [From.GetName]" }
	title = mexico.1.t
	desc = mexico.1.d

	fire_only_once = yes

	is_triggered_only = yes

	option = {
		name = mexico.1.a
		country_event = {
			id = mexico.300
			days = 1
		}
	}
}
country_event = { # Start up Event
	id = mexico.300
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.300 FROM = [From.GetName]" }
	title = mexico.300.t
	desc = mexico.300.d

	fire_only_once = yes

	is_triggered_only = yes

	option = {
		name = mexico.300.a
	}
}
### assassination attempt on Zapata's life ###
country_event = { # assassination attempt
	id = mexico.2
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.2 FROM = [From.GetName]" }
	title = mexico.2.t
	desc = mexico.2.d

	fire_only_once = yes

	is_triggered_only = yes

	option = { # Zapata lives
		name = mexico.2.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = MEX_post_assassination
						option = MEX_POST_ASSASSINATION_TOTALIST_CALLES
					}
					has_game_rule = {
						rule = MEX_post_assassination
						option = MEX_POST_ASSASSINATION_MILITARY_JUNTA
					}
					has_game_rule = {
						rule = MEX_post_assassination
						option = MEX_POST_ASSASSINATION_MILITARY_DEMOCRACY
					}
					has_game_rule = {
						rule = MEX_post_assassination
						option = MEX_POST_ASSASSINATION_NATIONAL_POPULIST_SINARQUISTA
					}
				}
			}
		}
	}
	option = { # Zapata dies
		name = mexico.2.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = MEX_post_assassination
						option = MEX_POST_ASSASSINATION_ELECTION_TOTALIST
					}
					has_game_rule = {
						rule = MEX_post_assassination
						option = MEX_POST_ASSASSINATION_ELECTION_SYNDICALIST
					}
					has_game_rule = {
						rule = MEX_post_assassination
						option = MEX_POST_ASSASSINATION_ELECTION_RADICAL_SOCIALIST
					}
					has_game_rule = {
						rule = MEX_post_assassination
						option = MEX_POST_ASSASSINATION_ELECTION_SOCIAL_DEMOCRAT
					}
				}
			}
		}
		country_event = { id = mexico.3 days = 1 }
	}
}
country_event = { # Zapata is dead!
	id = mexico.3
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.3 FROM = [From.GetName]" }
	title = mexico.3.t
	desc = mexico.3.d

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = { id = mexico.5 days = 15 }
			country_event = { id = mexico.8 days = 4 }
		}
	}

	immediate = {
		MEX_emiliano_zapata_salazar = { set_character_flag = is_dead }
	}

	option = { # Calles seizes power
		name = mexico.3.a
		ai_chance = {
			base = 33
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = MEX_post_assassination
						option = MEX_POST_ASSASSINATION_MILITARY_JUNTA
					}
					has_game_rule = {
						rule = MEX_post_assassination
						option = MEX_POST_ASSASSINATION_MILITARY_DEMOCRACY
					}
					has_game_rule = {
						rule = MEX_post_assassination
						option = MEX_POST_ASSASSINATION_NATIONAL_POPULIST_SINARQUISTA
					}
				}
			}
		}
		retire_character = MEX_emiliano_zapata_salazar
		set_politics = {
			ruling_party = totalist
			elections_allowed = yes
		}
		complete_national_focus = MEX_establish_maximato
		hidden_effect = {
			news_event = worldnews.453
		}
	}
	option = { # Right Wing Military seizes power
		name = mexico.3.b
		ai_chance = {
			base = 33
			modifier = {
				factor = 0
				has_game_rule = {
					rule = MEX_post_assassination
					option = MEX_POST_ASSASSINATION_TOTALIST_CALLES
				}
			}
		}
		MEX_remove_socialist_generals = yes
		set_politics = {
			ruling_party = paternal_autocrat
			elections_allowed = no
		}
		complete_national_focus = MEX_military_coup
		hidden_effect = {
			country_event = {
				id = mexico.42
				days = 2
			}
			country_event = { id = mexico.63 days = 120 random_days = 90 }
			country_event = { id = mexico.84 days = 150 random_days = 150 }
			news_event = worldnews.454
		}
	}
	option = { # Coalition Government saves democracy
		name = mexico.3.c
		ai_chance = {
			base = 33
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = MEX_post_assassination
						option = MEX_POST_ASSASSINATION_TOTALIST_CALLES
					}
					has_game_rule = {
						rule = MEX_post_assassination
						option = MEX_POST_ASSASSINATION_MILITARY_JUNTA
					}
					has_game_rule = {
						rule = MEX_post_assassination
						option = MEX_POST_ASSASSINATION_MILITARY_DEMOCRACY
					}
					has_game_rule = {
						rule = MEX_post_assassination
						option = MEX_POST_ASSASSINATION_NATIONAL_POPULIST_SINARQUISTA
					}
				}
			}
		}
		retire_character = MEX_emiliano_zapata_salazar
		promote_character = MEX_francisco_pancho_villa
		hidden_effect = {
			news_event = worldnews.455
		}
	}
}
country_event = { # Elections of 1937
	id = mexico.4
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.4 FROM = [From.GetName]" }
	title = mexico.4.t
	desc = { # Zapata is alive
		text = mexico.4.d.zapata_alive
		trigger = {
			has_character = MEX_emiliano_zapata_salazar
		}
	}
	desc = { # Zapata is dead
		text = mexico.4.d.zapata_dead
		trigger = {
			NOT = {
				has_character = MEX_emiliano_zapata_salazar
				has_government = totalist
			}
		}
	}
	desc = { # Zapata is dead
		text = mexico.4.d.zapata_dead_calles
		trigger = {
			NOT = { has_character = MEX_emiliano_zapata_salazar }
			has_government = totalist
		}
	}
	picture = GFX_report_event_election_vote

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		tag = MEX
		date < 1938.1.1
		has_socialist_government = yes
	}

	option = { # Calles
		name = mexico.4.a
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = MEX_post_assassination
						option = MEX_POST_ASSASSINATION_ELECTION_SYNDICALIST
					}
					has_game_rule = {
						rule = MEX_post_assassination
						option = MEX_POST_ASSASSINATION_ELECTION_RADICAL_SOCIALIST
					}
					has_game_rule = {
						rule = MEX_post_assassination
						option = MEX_POST_ASSASSINATION_ELECTION_SOCIAL_DEMOCRAT
					}
				}
			}
		}
		complete_national_focus = MEX_establish_maximato
		add_popularity = {
			ideology = totalist
			popularity = 0.10
		}
		set_politics = {
			ruling_party = totalist
			elections_allowed = yes
		}
	}
	option = { # Toledano
		name = mexico.4.b
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = MEX_post_assassination
						option = MEX_POST_ASSASSINATION_ELECTION_TOTALIST
					}
					has_game_rule = {
						rule = MEX_post_assassination
						option = MEX_POST_ASSASSINATION_ELECTION_RADICAL_SOCIALIST
					}
					has_game_rule = {
						rule = MEX_post_assassination
						option = MEX_POST_ASSASSINATION_ELECTION_SOCIAL_DEMOCRAT
					}
				}
			}
		}
		trigger = {
			NOT = { has_government = totalist }
		}
		complete_national_focus = MEX_republic_survives
		add_popularity = {
			ideology = syndicalist
			popularity = 0.20
		}
		set_politics = {
			ruling_party = syndicalist
			elections_allowed = yes
		}
	}
	option = { # Villa
		name = mexico.4.c
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = MEX_post_assassination
						option = MEX_POST_ASSASSINATION_ELECTION_TOTALIST
					}
					has_game_rule = {
						rule = MEX_post_assassination
						option = MEX_POST_ASSASSINATION_ELECTION_SYNDICALIST
					}
					has_game_rule = {
						rule = MEX_post_assassination
						option = MEX_POST_ASSASSINATION_ELECTION_SOCIAL_DEMOCRAT
					}
				}
			}
		}
		trigger = {
			NOT = { has_government = totalist }
		}
		complete_national_focus = MEX_republic_survives
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.10
		}
		set_politics = {
			ruling_party = radical_socialist
			elections_allowed = yes
		}
		promote_character = MEX_francisco_pancho_villa
	}
	option = { # Rubio
		name = mexico.4.e
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = MEX_post_assassination
						option = MEX_POST_ASSASSINATION_ELECTION_TOTALIST
					}
					has_game_rule = {
						rule = MEX_post_assassination
						option = MEX_POST_ASSASSINATION_ELECTION_SYNDICALIST
					}
					has_game_rule = {
						rule = MEX_post_assassination
						option = MEX_POST_ASSASSINATION_ELECTION_RADICAL_SOCIALIST
					}
				}
			}
		}
		trigger = {
			NOT = { has_government = totalist }
		}
		complete_national_focus = MEX_republic_survives
		add_popularity = {
			ideology = social_democrat
			popularity = 0.20
		}
		set_politics = {
			ruling_party = social_democrat
			elections_allowed = yes
		}
		hidden_effect = {
			country_event = { id = mexico.41 days = 200 random_days = 100 }
		}
	}
}
country_event = { # Finding the Assassin
	id = mexico.5
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.5 FROM = [From.GetName]" }
	title = mexico.5.t
	desc = mexico.5.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		name = mexico.5.a
		hidden_effect = {
			if = {
				limit = { has_socialist_government = yes }
				country_event = { id = mexico.6 days = 5 }
			}
			else = {
				country_event = { id = mexico.7 days = 5 }
			}
		}
	}
}
country_event = { # Assassin cell 'found' - socialist
	id = mexico.6
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.6 FROM = [From.GetName]" }
	title = mexico.6.t
	desc = mexico.6.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		name = mexico.6.a
		add_political_power = 20
	}
}
country_event = { # Assassin cell 'found' - junta
	id = mexico.7
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.7 FROM = [From.GetName]" }
	title = mexico.7.t
	desc = mexico.7.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		name = mexico.7.a
		add_political_power = 20
	}
}
country_event = { # Funeral for Zapata
	id = mexico.8
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.8 FROM = [From.GetName]" }
	title = mexico.8.t
	desc = mexico.8.d
	picture = GFX_report_event_generic_diplomacy2

	trigger = {
		has_socialist_government = yes
	}

	is_triggered_only = yes

	option = {
		name = mexico.8.a
		add_stability = 0.05
	}
}
### Calles Events 10 - 25 ###
country_event = { # Calles Laws
	id = mexico.10
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.10 FROM = [From.GetName]" }
	title = mexico.10.t
	desc = mexico.10.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		name = mexico.10.a
		add_political_power = 20
		hidden_effect = {
			country_event = {
				id = mexico.12
				months = 3
			}
		}
	}
}
country_event = { # Elections of the President
	id = mexico.11
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.11 FROM = [From.GetName]" }
	title = mexico.11.t
	desc = mexico.11.d
	picture = GFX_report_event_election_vote

	is_triggered_only = yes

	trigger = {
		has_government = totalist
		has_completed_focus = MEX_establish_maximato
	}

	option = { # re-elect Calles
		name = mexico.26.a
		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		set_politics = {
			ruling_party = totalist
			elections_allowed = yes
		}
	}
}
country_event = { # Cristero War begins
	id = mexico.12
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.12 FROM = [From.GetName]" }
	title = mexico.12.t
	desc = mexico.12.d
	picture = GFX_report_event_generic_diplomacy2

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		has_government = totalist
		is_subject = no
	}

	option = {
		name = mexico.12.a
		hidden_effect = {
			add_ideas = MEX_cristero_war_idea
			set_variable = {
				MEX_cristero_power = 10
			}
			country_event = mexico.1001
		}
	}
}
country_event = { # Pope informed about Catholic suppression
	id = mexico.13
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.13 FROM = [From.GetName]" }
	title = mexico.13.t
	desc = mexico.13.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = { # send supplies
		name = mexico.13.a
		ai_chance = {
			base = 33
		}
		hidden_effect = {
			add_to_variable = {
				var = MEX.MEX_cristero_power
				value = 1
			}
		}
		custom_effect_tooltip = MEX_cristero_add_1
	}
	option = { # Send supplies and embargo Mexico
		name = mexico.13.b
		ai_chance = {
			base = 33
		}
		hidden_effect = {
			add_to_variable = {
				var = MEX.MEX_cristero_power
				value = 3
			}
		}
		add_opinion_modifier = {
			target = MEX
			modifier = embargo
		}
		custom_effect_tooltip = MEX_cristero_add_3
	}
	option = { # do not send supplies
		name = mexico.13.c
		ai_chance = {
			base = 33
		}
		hidden_effect = {
			subtract_from_variable = {
				var = MEX.MEX_cristero_power
				value = 1
			}
		}
		custom_effect_tooltip = MEX_cristero_subtract_1
	}
}

country_event = { # Cristero War - clashes throughout the country
	id = mexico.14
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.14 FROM = [From.GetName]" }
	title = mexico.14.t
	desc = mexico.14.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		name = mexico.14.a
		add_manpower = -100
		add_stability = -0.01
	}
}

country_event = { # Cristero War - factory sabotaged
	id = mexico.15
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.15 FROM = [From.GetName]" }
	title = mexico.15.t
	desc = mexico.15.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		name = mexico.15.a
		add_stability = -0.01
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
				non_damaged_building_level = { building = industrial_complex level > 0 }
			}
			damage_building = {
				type = industrial_complex
				damage = 1.0
			}
		}
	}
}
country_event = { # Cristero War - arms factory sabotaged
	id = mexico.16
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.16 FROM = [From.GetName]" }
	title = mexico.16.t
	desc = mexico.16.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		name = mexico.16.a
		add_stability = -0.01
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
				non_damaged_building_level = { building = arms_factory level > 0 }
			}
			damage_building = {
				type = arms_factory
				damage = 1.0
			}
		}
	}
}
country_event = { # Cristero War - Railways attacked
	id = mexico.17
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.17 FROM = [From.GetName]" }
	title = mexico.17.t
	desc = mexico.17.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		name = mexico.17.a
		add_stability = -0.01
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
				non_damaged_building_level = { building = infrastructure level > 1 }
			}
			damage_building = {
				type = infrastructure
				damage = 2.0
			}
		}
	}
}
country_event = { # Cristero War - Battle of Tepatitlán
	id = mexico.18
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.18 FROM = [From.GetName]" }
	title = mexico.18.t
	desc = mexico.18.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = { # Cristero Victory
		name = mexico.18.a
		hidden_effect = {
			add_to_variable = {
				var = MEX_cristero_power
				value = 1
			}
		}
		add_manpower = -200
		custom_effect_tooltip = MEX_cristero_add_1
	}

	option = { # Cristero defeate
		name = mexico.18.b
		hidden_effect = {
			subtract_from_variable = {
				var = MEX_cristero_power
				value = 1
			}
		}
		add_manpower = -500
		custom_effect_tooltip = MEX_cristero_subtract_1
	}
}
country_event = { # Cristero War - Battle of El Fresnal
	id = mexico.19
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.19 FROM = [From.GetName]" }
	title = mexico.19.t
	desc = mexico.19.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = { # Cristero Victory
		name = mexico.19.a
		hidden_effect = {
			add_to_variable = {
				var = MEX_cristero_power
				value = 1
			}
		}
		add_manpower = -200
		custom_effect_tooltip = MEX_cristero_add_1
	}
	option = { # Cristero defeate
		name = mexico.19.b
		hidden_effect = {
			subtract_from_variable = {
				var = MEX_cristero_power
				value = 1
			}
		}
		add_manpower = -500
		custom_effect_tooltip = MEX_cristero_subtract_1
	}
}
country_event = { # Cristero War - Battle of Manzanillo
	id = mexico.20
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.20 FROM = [From.GetName]" }
	title = mexico.20.t
	desc = mexico.20.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		name = mexico.20.a
		hidden_effect = {
			add_to_variable = {
				var = MEX_cristero_power
				value = 1
			}
		}
		add_manpower = -200
		custom_effect_tooltip = MEX_cristero_add_1
	}
	option = {
		name = mexico.20.b
		hidden_effect = {
			subtract_from_variable = {
				var = MEX_cristero_power
				value = 1
			}
		}
		add_manpower = -500
		custom_effect_tooltip = MEX_cristero_subtract_1
	}
}
country_event = { # Cristero War - more battles
	id = mexico.21
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.21 FROM = [From.GetName]" }
	title = mexico.21.t
	desc = mexico.21.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = { # Mexican victory
		name = mexico.21.a
		add_manpower = -100
		hidden_effect = {
			subtract_from_variable = {
				var = MEX_cristero_power
				value = 1
			}
		}
		set_country_flag = { flag = MEX_cristero_attack days = 90 value = 1 }
		add_stability = -0.01
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
				non_damaged_building_level = { building = infrastructure level > 1 }
			}
			damage_building = {
				type = infrastructure
				damage = 2.0
			}
		}
		custom_effect_tooltip = MEX_cristero_subtract_1
	}
	option = { # Cristero Victory
		name = mexico.21.b
		add_manpower = -100
		hidden_effect = {
			add_to_variable = {
				var = MEX_cristero_power
				value = 1
			}
		}
		set_country_flag = { flag = MEX_cristero_attack days = 90 value = 1 }
		add_stability = -0.05
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
				non_damaged_building_level = { building = infrastructure level > 1 }
			}
			damage_building = {
				type = infrastructure
				damage = 2.0
			}
		}
		custom_effect_tooltip = MEX_cristero_add_1
	}
}
country_event = { # Cristero War ends
	id = mexico.22
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.22 FROM = [From.GetName]" }

	title = {
		text = mexico.22.t.defeat
		trigger = {
			check_variable = { MEX_cristero_power > 25 }
		}
	}
	title = {
		text = mexico.22.t.victory
		trigger = {
			check_variable = { MEX_cristero_power < 1 }
		}
	}

	desc = {
		text = mexico.22.d.defeat
		trigger = {
			check_variable = { MEX_cristero_power > 25 }
		}
	}
	desc = {
		text = mexico.22.d.victory
		trigger = {
			check_variable = { MEX_cristero_power < 1 }
		}
	}
	picture = GFX_report_event_generic_diplomacy2

	trigger = {
		has_idea = MEX_cristero_war_idea
		OR = {
			check_variable = { MEX_cristero_power > 25 }
			check_variable = { MEX_cristero_power < 1 }
		}
	}

	is_triggered_only = yes
	fire_only_once = yes

	option = { # Become Auth Dem
		name = mexico.22.a
		trigger = {
			check_variable = { MEX_cristero_power > 25 }
		}
		remove_ideas = MEX_cristero_war_idea
		clear_variable = MEX_cristero_power
		add_war_support = 0.05
		add_stability = 0.1
		army_experience = 25
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.1
		}
		set_politics = {
			ruling_party = authoritarian_democrat
			elections_allowed = yes
		}
		MEX_remove_socialist_generals = yes
		hidden_effect = {
			country_event = { id = mexico.63 days = 120 random_days = 90 }
		}
		set_country_flag = MEX_democracy_restored_flag
	}

	option = { # Become Nat-Pop
		name = mexico.22.b
		trigger = {
			check_variable = { MEX_cristero_power > 25 }
		}
		remove_ideas = MEX_cristero_war_idea
		clear_variable = MEX_cristero_power
		add_war_support = 0.05
		add_stability = 0.1
		army_experience = 25
		add_popularity = {
			ideology = national_populist
			popularity = 0.1
		}
		set_politics = {
			ruling_party = national_populist
			elections_allowed = no
		}
		MEX_remove_socialist_generals = yes
		hidden_effect = {
			remove_targeted_decision = { target = THIS decision = MEX_join_entente }
			country_event = { id = mexico.63 days = 120 random_days = 90 }
			country_event = {
				id = mexico.100
				days = 60
				random_days = 300
			}
		}
	}

	option = {
		name = mexico.22.c
		trigger = {
			check_variable = { MEX_cristero_power < 1 }
		}
		remove_ideas = MEX_cristero_war_idea
		clear_variable = MEX_cristero_power
		add_war_support = 0.05
		add_stability = 0.1
		army_experience = 25
	}
}

country_event = { # Calles is dead!
	id = mexico.24
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.24 FROM = [From.GetName]" }
	title = mexico.24.t
	desc = {
		text = mexico.24.d_1
		trigger = {
			has_government = totalist
		}
	}
	desc = {
		text = mexico.24.d_2
		trigger = {
			NOT = { has_government = totalist }
		}
	}

	is_triggered_only = yes

	immediate = {
		MEX_plutarco_elias_calles = { set_character_flag = is_dead }
	}

	option = { # Cardenas takes over
		name = mexico.24.a
		if = {
			limit = { has_character = MEX_plutarco_elias_calles }
			retire_character = MEX_plutarco_elias_calles
		}
		promote_character = MEX_lazaro_cardenas_del_rio
		hidden_effect = {
			country_event = { id = mexico.25 days = 4 }
		}
	}
	option = { # Emilio Portes Gil
		name = mexico.24.b
		if = {
			limit = { has_character = MEX_plutarco_elias_calles }
			retire_character = MEX_plutarco_elias_calles
		}
		promote_character = MEX_emilio_candido_portes_gil
	}
	option = { # Abelardo L. Rodríguez
		name = mexico.24.c
		trigger = {
			has_character = MEX_abelardo_rodriguez_lujan
		}
		if = {
			limit = { has_character = MEX_plutarco_elias_calles }
			retire_character = MEX_plutarco_elias_calles
		}
		promote_character = MEX_abelardo_rodriguez_lujan
	}
}

country_event = { # Cardenas and the Maximato
	id = mexico.25
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.25 FROM = [From.GetName]" }
	title = mexico.25.t
	desc = mexico.25.d

	trigger = {
		has_country_leader = { character = MEX_lazaro_cardenas_del_rio }
	}

	is_triggered_only = yes

	option = { # Cardenas supports the Maximato
		name = mexico.25.a
		ai_chance = { base = 30 }
		add_stability = 0.1
	}

	option = { # Cardenas turns against the Maximato
		name = mexico.25.b
		ai_chance = { base = 70 }
		add_political_power = 100
		add_stability = -0.05
		remove_country_leader_role = {
			character = MEX_lazaro_cardenas_del_rio
			ideology = totalist_subtype
		}
		promote_character = MEX_emilio_candido_portes_gil
		add_country_leader_role = {
			character = MEX_lazaro_cardenas_del_rio
			country_leader = {
				desc = MEX_lazaro_cardenas_del_rio_leader_desc
				ideology = social_democrat_subtype
			}
			promote_leader = yes
		}
		set_politics = {
			ruling_party = social_democrat
			elections_allowed = yes
		}
		hidden_effect = {
			country_event = { id = mexico.41 days = 200 random_days = 100 }
		}
	}
}
### Democracy Events 26 - 41 ###
country_event = { # Elections of 1942
	id = mexico.26
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.26 FROM = [From.GetName]" }
	title = mexico.26.t
	desc = mexico.26.d

	picture = GFX_report_event_election_vote

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		date > 1938.1.1
		date < 1943.1.1
		OR = {
			has_government = radical_socialist
			has_government = syndicalist
			has_elected_government = yes
		}
	}

	option = { # Syndicalist
		name = mexico.26.a
		trigger = {
			OR = {
				has_socialist_government = yes
				is_subject = no
			}
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.10
		}
		set_politics = {
			ruling_party = syndicalist
			elections_allowed = yes
		}
		promote_character = MEX_fidel_velazquez_sanchez
	}
	option = { # Radical Socialist
		name = mexico.26.b
		trigger = {
			OR = {
				has_socialist_government = yes
				is_subject = no
			}
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.10
		}
		set_politics = {
			ruling_party = radical_socialist
			elections_allowed = yes
		}
		promote_character = MEX_antonio_irineo_vilarreal_gonzalez
	}
	option = { # Social Democrat
		name = mexico.26.c
		add_popularity = {
			ideology = social_democrat
			popularity = 0.10
		}
		hidden_effect = {
			country_event = { id = mexico.41 days = 200 random_days = 100 }
		}
		set_politics = {
			ruling_party = social_democrat
			elections_allowed = yes
		}
		promote_character = MEX_manuel_avila_camacho
	}
}
country_event = { # Elections of 1947
	id = mexico.27
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.27 FROM = [From.GetName]" }
	title = mexico.27.t
	desc = mexico.27.d

	picture = GFX_report_event_election_vote

	is_triggered_only = yes

	trigger = {
		date > 1943.1.1
		OR = {
			has_government = radical_socialist
			has_government = syndicalist
			has_elected_government = yes
		}
	}

	option = { # Syndicalist
		name = mexico.27.a
		trigger = {
			OR = {
				has_socialist_government = yes
				is_subject = no
			}
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.10
		}
		set_politics = {
			ruling_party = syndicalist
			elections_allowed = yes
		}
		promote_character = MEX_rosendo_salazar_alamo
	}
	option = { # Radical Socialist
		name = mexico.27.b
		trigger = {
			OR = {
				has_socialist_government = yes
				is_subject = no
			}
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.10
		}
		set_politics = {
			ruling_party = radical_socialist
			elections_allowed = yes
		}
		promote_character = MEX_ruben_jaramillo_menez
	}
	option = { # Social Democrat
		name = mexico.27.c
		add_popularity = {
			ideology = social_democrat
			popularity = 0.10
		}
		hidden_effect = {
			country_event = { id = mexico.41 days = 200 random_days = 100 }
		}
		set_politics = {
			ruling_party = social_democrat
			elections_allowed = yes
		}
		promote_character = MEX_miguel_aleman_valdes
	}
}
country_event = { # Academy of the Mayan Language founded
	id = mexico.28
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.28 FROM = [From.GetName]" }
	title = mexico.28.t
	desc = mexico.28.d

	is_triggered_only = yes

	trigger = {
		has_socialist_government = yes
	}

	option = { #
		name = mexico.28.a
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
	}
}
country_event = { # Mexican Muralism
	id = mexico.29
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.29 FROM = [From.GetName]" }
	title = mexico.29.t
	desc = mexico.29.d

	is_triggered_only = yes

	trigger = {
		has_socialist_government = yes
	}

	option = { #
		name = mexico.29.a
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
	}
}
country_event = { # Popular Graphic Workshop
	id = mexico.30
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.30 FROM = [From.GetName]" }
	title = mexico.30.t
	desc = mexico.30.d

	is_triggered_only = yes

	trigger = {
		has_socialist_government = yes
	}

	option = { #
		name = mexico.30.a
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
	}
}
country_event = { # Monument to the Revolution
	id = mexico.31
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.31 FROM = [From.GetName]" }
	title = mexico.31.t
	desc = mexico.31.d

	is_triggered_only = yes

	trigger = {
		has_socialist_government = yes
	}

	option = { #
		name = mexico.31.a
		add_political_power = 50
		set_temp_variable = { ideology_change_var = 0.05 }
		change_ruling_party_popularity = yes
	}
}
country_event = { # National Parks
	id = mexico.32
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.32 FROM = [From.GetName]" }
	title = mexico.32.t
	desc = mexico.32.d

	is_triggered_only = yes

	trigger = {
		has_socialist_government = yes
	}

	option = { #
		name = mexico.32.a
		add_stability = 0.01
	}
}
country_event = { # Regeneración
	id = mexico.33
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.33 FROM = [From.GetName]" }
	title = mexico.33.t
	desc = mexico.33.d

	is_triggered_only = yes

	trigger = {
		has_socialist_government = yes
	}

	option = { #
		name = mexico.33.a
		add_popularity = {
			ideology = syndicalist
			popularity = 0.05
		}
	}
}
country_event = { # Frente Unico Pro Derechos de la Mujer
	id = mexico.34
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.34 FROM = [From.GetName]" }
	title = mexico.34.t
	desc = mexico.34.d

	is_triggered_only = yes

	trigger = {
		has_socialist_government = yes
	}

	option = { #
		name = mexico.34.a
		add_political_power = 15
	}
}
country_event = { # Women's Suffrage
	id = mexico.35
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.35 FROM = [From.GetName]" }
	title = mexico.35.t
	desc = mexico.35.d

	is_triggered_only = yes

	trigger = {
		has_socialist_government = yes
	}

	option = { #
		name = mexico.35.a
		add_political_power = -30
		add_stability = 0.03
	}
	option = { #
		name = mexico.35.b
		add_political_power = 30
		add_stability = -0.03
	}
}
country_event = { # Mexican Anarchist Federation
	id = mexico.36
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.36 FROM = [From.GetName]" }
	title = mexico.36.t
	desc = mexico.36.d

	is_triggered_only = yes

	trigger = {
		has_socialist_government = yes
	}

	option = { #
		name = mexico.36.a
		add_popularity = {
			ideology = syndicalist
			popularity = 0.05
		}
	}
}
country_event = { # Mexico Nationalizes Oil Industry(USA)
	id = mexico.37
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.37 FROM = [From.GetName]" }
	title = mexico.37.t
	desc = mexico.37.d

	is_triggered_only = yes

	option = { #  Embargo Mexico
		name = mexico.37.a
		add_opinion_modifier = {
			target = MEX
			modifier = embargo
		}
	}
}
country_event = { # America tries to embargo us
	id = mexico.38
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.38 FROM = [From.GetName]" }
	title = mexico.38.t
	desc = mexico.38.d

	is_triggered_only = yes

	option = { #
		name = mexico.38.a
		add_opinion_modifier = {
			target = USA
			modifier = KR_disapproves_of_govt
		}
	}
}
country_event = { # Oil wages?
	id = mexico.39
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.39 FROM = [From.GetName]" }
	title = mexico.39.t
	desc = mexico.39.d

	is_triggered_only = yes

	option = { # raise wages
		name = mexico.39.a
	}

	option = { # don't raise wages
		name = mexico.39.b
	}
}
country_event = { # The Assault on the Lands
	id = mexico.40
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.40 FROM = [From.GetName]" }
	title = mexico.40.t
	desc = mexico.40.d

	trigger = {
		has_socialist_government = yes
	}

	is_triggered_only = yes

	option = { #
		name = mexico.40.a
		add_political_power = 5
	}
}
country_event = { # Dealing with Business Cartels
	id = mexico.41
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.41 FROM = [From.GetName]" }
	title = mexico.41.t
	desc = mexico.41.d

	trigger = {
		has_government = social_democrat
	}

	is_triggered_only = yes

	option = { #
		name = mexico.41.a
		add_political_power = 5
	}
}
### The Campesinos War Coup 42 - 60###
country_event = { # Campesinos War begins
	id = mexico.42
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.42 FROM = [From.GetName]" }
	title = mexico.42.t
	desc = mexico.42.d
	picture = GFX_report_event_generic_diplomacy2

	trigger = {
		has_socialist_government = no
		is_subject = no
	}

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = mexico.42.a
		hidden_effect = {
			add_ideas = MEX_campesinos_war_idea
			set_variable = { MEX_campesinos_power = 10 }
			activate_mission = MEX_campesinos_raid_mission
			country_event = {
				id = mexico.43
				days = 70
				random = 10
			}
		}
	}
}
country_event = { # The Sinarquista offer
	id = mexico.43
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.43 FROM = [From.GetName]" }
	title = mexico.43.t
	desc = mexico.43.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	trigger = {
		has_idea = MEX_campesinos_war_idea
	}

	option = { # accept offer
		name = mexico.43.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = MEX_post_assassination
						option = MEX_POST_ASSASSINATION_MILITARY_JUNTA
					}
					has_game_rule = {
						rule = MEX_post_assassination
						option = MEX_POST_ASSASSINATION_MILITARY_DEMOCRACY
					}
				}
			}
		}
		set_country_flag = MEX_junta_goldshirt_alliance
		add_popularity = {
			ideology = national_populist
			popularity = 0.05
		}
		hidden_effect = {
			country_event = {
				id = mexico.44
				days = 5
			}
		}
	}
	option = { # reject offer
		name = mexico.43.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_game_rule = {
					rule = MEX_post_assassination
					option = MEX_POST_ASSASSINATION_NATIONAL_POPULIST_SINARQUISTA
				}
			}
		}
		add_popularity = {
			ideology = national_populist
			popularity = -0.05
		}
	}
}
country_event = { # Sinarquista support
	id = mexico.44
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.44 FROM = [From.GetName]" }
	title = mexico.44.t
	desc = mexico.44.d
	picture = GFX_report_event_generic_diplomacy2

	trigger = {
		has_idea = MEX_campesinos_war_idea
		has_country_flag = MEX_junta_goldshirt_alliance
	}

	is_triggered_only = yes

	option = {
		name = mexico.44.a
		custom_effect_tooltip = MEX_campesinos_subtract_5
		add_popularity = {
			ideology = national_populist
			popularity = 0.05
		}
		hidden_effect = {
			subtract_from_variable = {
				var = MEX_campesinos_power
				value = 5
			}
			country_event = {
				id = mexico.45
				days = 40
				random = 10
			}
		}
	}
}
country_event = { # Sinarquista Coup
	id = mexico.45
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.45 FROM = [From.GetName]" }
	title = mexico.45.t
	desc = mexico.45.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	trigger = {
		has_country_flag = MEX_junta_goldshirt_alliance
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	option = {
		name = mexico.45.a
		add_popularity = {
			ideology = national_populist
			popularity = 0.05
		}
		set_politics = {
			ruling_party = national_populist
			elections_allowed = no
		}
		clear_all_relations = yes
		hidden_effect = {
			remove_targeted_decision = { target = THIS decision = MEX_join_entente }
			country_event = {
				id = mexico.100
				days = 60
				random_days = 300
			}
		}
	}
}
country_event = { # Restore Democracy?
	id = mexico.46
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.46 FROM = [From.GetName]" }
	title = mexico.46.t
	desc = mexico.46.d
	picture = GFX_report_event_generic_diplomacy2

	trigger = {
		has_government = paternal_autocrat
		is_subject = no
	}

	fire_only_once = yes
	is_triggered_only = yes

	option = { # Restore Democracy
		name = mexico.46.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_game_rule = {
					rule = MEX_post_assassination
					option = MEX_POST_ASSASSINATION_MILITARY_JUNTA
				}
			}
		}
		set_country_flag = MEX_democracy_restored_flag
		hidden_effect = {
		#	subtract_from_variable = {
		#		var = MEX_campesinos_power
		#		value = 5
		#	}
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.3
		}
		set_politics = {
			ruling_party = authoritarian_democrat
			election_frequency = 60
			elections_allowed = yes
		}
		#custom_effect_tooltip = MEX_campesinos_subtract_5
	}
	option = { # Junta Holds on
		name = mexico.46.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_game_rule = {
					rule = MEX_post_assassination
					option = MEX_POST_ASSASSINATION_MILITARY_DEMOCRACY
				}
			}
		}
		set_country_flag = MEX_junta_holds_on_flag
		#hidden_effect = {
		#	add_to_variable = {
		#		var = MEX_campesinos_power
		#		value = 5
		#	}
		#}
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.3
		}
		#custom_effect_tooltip = MEX_campesinos_add_5
	}
}
country_event = { # Campesinos War - clashes throughout the country
	id = mexico.47
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.47 FROM = [From.GetName]" }
	title = mexico.47.t
	desc = mexico.47.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		name = mexico.47.a
		add_manpower = -100
		add_stability = -0.01
	}
}
country_event = { # Campesinos War - factory sabotaged
	id = mexico.48
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.48 FROM = [From.GetName]" }
	title = mexico.48.t
	desc = mexico.48.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		name = mexico.48.a
		set_country_flag = { flag = MEX_campesinos_attack days = 90 value = 1 }
		add_stability = -0.01
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
				non_damaged_building_level = { building = industrial_complex level > 0 }
			}
			damage_building = {
				type = industrial_complex
				damage = 1.0
			}
		}
	}
}
country_event = { # Campesinos War - arms factory sabotaged
	id = mexico.49
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.49 FROM = [From.GetName]" }
	title = mexico.49.t
	desc = mexico.49.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		name = mexico.49.a
		set_country_flag = { flag = MEX_campesinos_attack days = 90 value = 1 }
		add_stability = -0.01
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
				non_damaged_building_level = { building = arms_factory level > 0 }
			}
			damage_building = {
				type = arms_factory
				damage = 1.0
			}
		}
	}
}
country_event = { # Campesinos War - Railways attacked
	id = mexico.50
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.50 FROM = [From.GetName]" }
	title = mexico.50.t
	desc = mexico.50.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		name = mexico.50.a
		set_country_flag = { flag = MEX_campesinos_attack days = 90 value = 1 }
		add_stability = -0.01
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
				non_damaged_building_level = { building = infrastructure level > 1 }
			}
			damage_building = {
				type = infrastructure
				damage = 2.0
			}
		}
	}
}
country_event = { # Campesinos War - Battle of Guadalajara
	id = mexico.51
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.51 FROM = [From.GetName]" }
	title = mexico.51.t
	desc = mexico.51.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = { # Cristero Defeat
		name = mexico.51.a
		hidden_effect = {
			subtract_from_variable = {
				var = MEX_campesinos_power
				value = 1
			}
		}
		add_manpower = -150
		custom_effect_tooltip = MEX_campesinos_subtract_1
	}

	option = { # Cristero Victory
		name = mexico.51.b
		hidden_effect = {
			add_to_variable = {
				var = MEX_campesinos_power
				value = 1
			}
		}
		add_manpower = -100
		custom_effect_tooltip = MEX_campesinos_add_1
	}
}
country_event = { # Campesinos War - Battle of Celaya
	id = mexico.52
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.52 FROM = [From.GetName]" }
	title = mexico.52.t
	desc = mexico.52.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = { # Cristero Victory
		name = mexico.52.a
		hidden_effect = {
			add_to_variable = {
				var = MEX_campesinos_power
				value = 1
			}
		}
		add_manpower = -100
		custom_effect_tooltip = MEX_campesinos_add_1
	}

	option = { # Cristero defeat
		name = mexico.52.b
		hidden_effect = {
			subtract_from_variable = {
				var = MEX_campesinos_power
				value = 1
			}
		}
		add_manpower = -150
		custom_effect_tooltip = MEX_campesinos_subtract_1
	}
}
country_event = { # Campesinos War - more battles
	id = mexico.58
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.58 FROM = [From.GetName]" }
	title = mexico.58.t
	desc = mexico.58.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = { # Mexican victory
		name = mexico.58.a
		add_manpower = -100
		hidden_effect = {
			subtract_from_variable = {
				var = MEX_campesinos_power
				value = 1
			}
		}
		set_country_flag = { flag = MEX_campesinos_attack days = 90 value = 1 }
		add_stability = -0.01
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
				non_damaged_building_level = { building = infrastructure level > 1 }
			}
			damage_building = {
				type = infrastructure
				damage = 2.0
			}
		}
		custom_effect_tooltip = MEX_campesinos_subtract_1
	}
	option = { # Cristero Victory
		name = mexico.58.b
		add_manpower = -100
		hidden_effect = {
			add_to_variable = {
				var = MEX_campesinos_power
				value = 1
			}
		}
		set_country_flag = { flag = MEX_campesinos_attack days = 90 value = 1 }
		add_stability = -0.05
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
				non_damaged_building_level = { building = infrastructure level > 1 }
			}
			damage_building = {
				type = infrastructure
				damage = 2.0
			}
		}
		custom_effect_tooltip = MEX_campesinos_add_1
	}
}
country_event = { # Campesino War Ends
	id = mexico.59
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.59 FROM = [From.GetName]" }

	title = {
		text = mexico.59.t.defeat
		trigger = {
			check_variable = { MEX_campesinos_power > 25 }
		}
	}
	title = {
		text = mexico.59.t.victory
		trigger = {
			check_variable = { MEX_campesinos_power < 1 }
		}
	}

	desc = {
		text = mexico.59.d.defeat
		trigger = {
			check_variable = { MEX_campesinos_power > 25 }
		}
	}
	desc = {
		text = mexico.59.d.victory
		trigger = {
			check_variable = { MEX_campesinos_power < 1 }
		}
	}

	picture = GFX_report_event_generic_diplomacy2

	trigger = {
		has_idea = MEX_campesinos_war_idea
		OR = {
			check_variable = { MEX_campesinos_power < 1 }
			check_variable = { MEX_campesinos_power > 25 }
		}
	}

	fire_only_once = yes
	is_triggered_only = yes

	option = { # Become radical socialist
		name = mexico.59.a
		trigger = {
			check_variable = { MEX_campesinos_power > 25 }
		}
		remove_ideas = MEX_campesinos_war_idea
		clear_variable = MEX_campesinos_power
		add_war_support = 0.05
		add_stability = 0.1
		army_experience = 25
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.1
		}
		set_politics = {
			ruling_party = radical_socialist
			elections_allowed = yes
		}
		MEX_add_socialist_generals = yes
	}

	option = {
		name = mexico.59.b
		trigger = {
			check_variable = { MEX_campesinos_power < 1 }
		}
		remove_ideas = MEX_campesinos_war_idea
		clear_variable = MEX_campesinos_power
		hidden_effect = {
			country_event = { id = mexico.46 days = 7 }
		}
		add_war_support = 0.05
		add_stability = 0.1
		army_experience = 25
	}
}

### Military Junta 61 - 80 ###
country_event = { # New Constitution
	id = mexico.61
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.61 FROM = [From.GetName]" }
	title = mexico.61.t
	desc = mexico.61.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		name = mexico.61.a
	}
}
country_event = { # Revolution's Legacy
	id = mexico.62
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.62 FROM = [From.GetName]" }
	title = mexico.62.t
	desc = mexico.62.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = { # Condemn just the legacy of Zapata
		name = mexico.62.a
		ai_chance = {
			base = 80
		}
	}
	option = { # Condemn the whole revolution
		name = mexico.62.b
		ai_chance = {
			base = 20
		}
	}
}
country_event = { # anti-Zapata laws
	id = mexico.63
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.63 FROM = [From.GetName]" }
	title = mexico.63.t
	desc = mexico.63.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		has_authoritarian_government = yes
		is_subject = no
	}

	option = {
		name = mexico.63.a
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				has_game_rule = {
					rule = MEX_Yucatan_revolt
					option = MEX_YUCATAN_REVOLT_NO
				}
			}
		}
		hidden_effect = {
			country_event = { id = mexico.64 days = 60 random_days = 60 }
		}
	}
	option = {
		name = mexico.63.b
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				has_game_rule = {
					rule = MEX_Yucatan_revolt
					option = MEX_YUCATAN_REVOLT_YES
				}
			}
		}
		trigger = {
			NOT = { has_government = national_populist }
		}
		add_political_power = -100
	}
}
country_event = { # The Yucatan revolt
	id = mexico.64
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.64 FROM = [From.GetName]" }
	title = mexico.64.t
	desc = mexico.64.d

	is_triggered_only = yes

	trigger = {
		has_authoritarian_government = yes
		is_subject = no
	}

	option = { # Bring order to the Yucatan
		name = mexico.64.a
		ai_chance = {
			base = 100
		}
		add_political_power = -130
		activate_mission = MEX_retake_yucatan_mission
		YUC = {
			transfer_technology = yes
			transfer_state = 474
			add_state_core = 474
			load_oob = "YUC"
		}
		declare_war_on = {
			target = YUC
			type = annex_everything
		}
	}
	option = { # Fight for our Freedom(play as Yucatan)
		name = mexico.64.b
		ai_chance = {
			base = 0
		}
		activate_mission = MEX_retake_yucatan_mission
		YUC = {
			add_stability = 0.3
			add_war_support = 0.3
			transfer_technology = yes
			transfer_state = 474
			add_state_core = 474
			load_oob = "YUC"
			change_tag_from = MEX
		}
		declare_war_on = {
			target = YUC
			type = annex_everything
		}
	}
}
country_event = { # Failed to take Yucatan from decision
	id = mexico.65
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.65 FROM = [From.GetName]" }
	title = mexico.65.t
	desc = mexico.65.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		name = mexico.65.a
		set_temp_variable = { ideology_change_var = -0.05 }
		change_ruling_party_popularity = yes
		add_political_power = -50
	}
}
country_event = { # Yucatan manages to survive
	id = mexico.66
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.66 FROM = [From.GetName]" }
	title = mexico.66.t
	desc = mexico.66.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		name = mexico.66.a
		set_temp_variable = { ideology_change_var = 0.05 }
		change_ruling_party_popularity = yes
		add_political_power = 50
		set_country_flag = YUC_indepedence_war_over
	}
}
country_event = { # the Yucatan is pacified
	id = mexico.67
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.67 FROM = [From.GetName]" }
	title = mexico.67.t
	desc = mexico.67.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		name = mexico.67.a
		add_political_power = 50
		set_temp_variable = { ideology_change_var = 0.05 }
		change_ruling_party_popularity = yes
	}
}
country_event = { # Rejoin Mexico?
	id = mexico.68
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.68 FROM = [From.GetName]" }
	title = mexico.68.t
	desc = mexico.68.d
	picture = GFX_report_event_generic_diplomacy2

	fire_only_once = yes

	trigger = {
		tag = YUC
		is_subject = no
		has_war = no
		MEX = {
			has_authoritarian_government = no
			has_war = no
		}
	}

	option = { # Rejoin mexico(Game over)
		name = mexico.68.a
		ai_chance = {
			base = 100
		}
		MEX = {
			white_peace_with_ROOT = yes
			country_event = {
				id = mexico.69
				days = 2
			}
		}
	}
	option = { # We shall fight on anyways
		name = mexico.68.b
		ai_chance = {
			base = 0
		}
		add_political_power = 50
		set_temp_variable = { ideology_change_var = 0.05 }
		change_ruling_party_popularity = yes
		MEX = {
			country_event = {
				id = mexico.70
				days = 2
			}
		}
	}
}
country_event = { # the Yucatan has laid down their arms
	id = mexico.69
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.69 FROM = [From.GetName]" }
	title = mexico.69.t
	desc = mexico.69.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		name = mexico.69.a
		MEX = {
			annex_country = {
				target = YUC
			}
		}
		add_political_power = 50
		set_temp_variable = { ideology_change_var = 0.05 }
		change_ruling_party_popularity = yes
	}
}
country_event = { # the Yucatan continues to fight
	id = mexico.70
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.70 FROM = [From.GetName]" }
	title = mexico.70.t
	desc = mexico.70.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		name = mexico.70.a
		add_war_support = 0.02
	}
}
### Military Democracy 81 - 99 ###
country_event = { # Elections of 1937
	id = mexico.81
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.81 FROM = [From.GetName]" }
	title = mexico.81.t
	desc = mexico.81.d
	picture = GFX_report_event_election_vote

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		date < 1938.1.1
		has_government = authoritarian_democrat
	}

	option = { # Authoritarian Democrat
		name = mexico.81.a
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.10
		}
	}
}
country_event = { # Elections of 1942
	id = mexico.82
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.82 FROM = [From.GetName]" }
	title = mexico.82.t
	desc = mexico.82.d
	picture = GFX_report_event_election_vote

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		date > 1938.1.1
		date < 1943.1.1
		has_government = authoritarian_democrat
	}

	option = { # Authoritarian Democrat
		name = mexico.82.a
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.10
		}
	}
}
country_event = { # Elections of 1947
	id = mexico.83
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.83 FROM = [From.GetName]" }
	title = mexico.83.t
	desc = mexico.83.d

	picture = GFX_report_event_election_vote

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		date > 1943.1.1
		has_government = authoritarian_democrat
	}

	option = { # Authoritarian Democrat
		name = mexico.83.a
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.10
		}
	}
}

country_event = { # Palacio Legislativo Federal
	id = mexico.84
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.84 FROM = [From.GetName]" }
	title = mexico.84.t
	desc = mexico.84.d

	is_triggered_only = yes

	trigger = {
		has_authoritarian_government = yes
	}

	option = {
		name = mexico.84.a
		add_political_power = 5
	}
}
### National Populist 100 - 124 ###
country_event = { # Patria vs La Raza
	id = mexico.100
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.100 FROM = [From.GetName]" }
	title = mexico.100.t
	desc = mexico.100.d

	is_triggered_only = yes

	trigger = {
		has_government = national_populist
	}

	option = { # We must appease these dissidents
		name = mexico.100.a
		add_political_power = -10
		add_popularity = {
			ideology = national_populist
			popularity = 0.03
		}
	}
	option = { # They have no choice, ignore their demands
		name = mexico.100.b
		add_popularity = {
			ideology = national_populist
			popularity = -0.03
		}
		add_political_power = 10
	}
}
country_event = { # Destroying the Alamo
	id = mexico.105
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.105 FROM = [From.GetName]" }
	title = mexico.105.t
	desc = mexico.105.d

	is_triggered_only = yes

	option = { # Flavor
		name = mexico.105.a
		add_political_power = 5
	}
}
country_event = { # Juventudes Sinarquistas
	id = mexico.106
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.106 FROM = [From.GetName]" }
	title = mexico.106.t
	desc = mexico.106.d

	is_triggered_only = yes

	trigger = {
		has_government = national_populist
	}

	option = { # The Youth are the future
		name = mexico.106.a
		add_popularity = {
			ideology = national_populist
			popularity = 0.03
		}
	}
}

### Flavor Events 125 - 199 ###
country_event = { # Here's the Point is released
	id = mexico.125
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.125 FROM = [From.GetName]" }
	title = mexico.125.t
	desc = mexico.125.d

	is_triggered_only = yes

	option = { #
		name = mexico.125.a
		add_political_power = 5
	}
}
country_event = { # María Candelaria is released
	id = mexico.126
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.126 FROM = [From.GetName]" }
	title = mexico.126.t
	desc = mexico.126.d

	is_triggered_only = yes

	option = { #
		name = mexico.126.a
		add_political_power = 5
	}
}
country_event = { # Wild Flower is released
	id = mexico.127
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.127 FROM = [From.GetName]" }
	title = mexico.127.t
	desc = mexico.127.d

	is_triggered_only = yes

	option = { #
		name = mexico.127.a
	}
}
country_event = { # Mexican cup 1939
	id = mexico.128
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.128 FROM = [From.GetName]" }
	title = mexico.128.t
	desc = mexico.128.d

	is_triggered_only = yes

	option = { #
		name = mexico.128.a
		hidden_effect = {
			random_list = {
				50 = {
					MEX = {
						country_event = {
							id = mexico.129
							days = 2
						}
					}
				}
				50 = {
					MEX = {
						country_event = {
							id = mexico.130
							days = 2
						}
					}
				}
			}
		}
	}
}
country_event = { # Asturias win
	id = mexico.129
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.129 FROM = [From.GetName]" }
	title = mexico.129.t
	desc = mexico.129.d

	is_triggered_only = yes

	option = { #
		name = mexico.129.a
		add_political_power = 5
	}
}
country_event = { # Necaxa win
	id = mexico.130
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.130 FROM = [From.GetName]" }
	title = mexico.130.t
	desc = mexico.130.d

	is_triggered_only = yes

	option = { #
		name = mexico.130.a
		add_political_power = 5
	}
}
country_event = { # El Santo enters the Ring
	id = mexico.131
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.131 FROM = [From.GetName]" }
	title = mexico.131.t
	desc = mexico.131.d

	is_triggered_only = yes

	option = { #
		name = mexico.131.a
		add_political_power = 5
	}
}
country_event = { # 1937 Orizaba earthquake
	id = mexico.132
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.132 FROM = [From.GetName]" }
	title = mexico.132.t
	desc = mexico.132.d

	is_triggered_only = yes

	trigger = {
		owns_state = 477
	}

	option = { #
		name = mexico.132.a
		477 = {
			random_list = {
				20 = {
					remove_building = {
						type = arms_factory
						level = 1
					}
				}
				20 = {
					remove_building = {
						type = industrial_complex
						level = 1
					}
				}
				50 = {
					remove_building = {
						type = infrastructure
						level = 1
					}
				}
				10 = {}
			}
		}
	}
}
country_event = { # 1940 El Centro earthquake
	id = mexico.133
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.133 FROM = [From.GetName]" }
	title = mexico.133.t
	desc = mexico.133.d

	is_triggered_only = yes

	trigger = {
		owns_state = 829
	}

	option = { #
		name = mexico.133.a
		829 = {
			random_list = {
				20 = {
					remove_building = {
						type = arms_factory
						level = 1
					}
				}
				20 = {
					remove_building = {
						type = industrial_complex
						level = 1
					}
				}
				50 = {
					remove_building = {
						type = infrastructure
						level = 1
					}
				}
				10 = {}
			}
		}
	}
}
country_event = { # 1941 Colima earthquake
	id = mexico.134
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.134 FROM = [From.GetName]" }
	title = mexico.134.t
	desc = mexico.134.d

	is_triggered_only = yes

	trigger = {
		owns_state = 478
	}

	option = { #
		name = mexico.134.a
		478 = {
			random_list = {
				20 = {
					remove_building = {
						type = arms_factory
						level = 1
					}
				}
				20 = {
					remove_building = {
						type = industrial_complex
						level = 1
					}
				}
				50 = {
					remove_building = {
						type = infrastructure
						level = 1
					}
				}
				10 = {}
			}
		}
	}
}
country_event = { # Children of Morelia
	id = mexico.135
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.135 FROM = [From.GetName]" }
	title = mexico.135.t
	desc = mexico.135.d

	is_triggered_only = yes

	trigger = {
		NOT = { has_government = national_populist }
	}

	option = { #
		name = mexico.135.a
		add_political_power = 5
	}
}
country_event = { # Bohemia Poblana
	id = mexico.136
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.136 FROM = [From.GetName]" }
	title = mexico.136.t
	desc = mexico.136.d

	is_triggered_only = yes

	option = { #
		name = mexico.136.a
		add_political_power = 5
	}
}
### Foreign Policy ###
country_event = { # Mexico wishes to join the Internationale (fired from focus)
	id = mexico.200
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.200 FROM = [From.GetName]" }
	title = mexico.200.t
	desc = mexico.200.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		name = mexico.200.a #Of course they may join!
		ai_chance = {
			base = 100
		}
		add_political_power = 50
		add_to_faction = MEX
	}
	option = {
		name = mexico.200.b #We have no need of them
		ai_chance = {
			base = 0
		}
		MEX = {
			country_event = {
				id = mexico.201
				days = 1
			}
		}
	}
}
country_event = { # France refuses
	id = mexico.201
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.201 FROM = [From.GetName]" }
	title = mexico.201.t
	desc = mexico.201.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		name = mexico.201.a
		add_political_power = -50
		add_opinion_modifier = {
			target = FRA
			modifier = KR_disapproves_of_govt
		}
	}
}
country_event = { # Mexico wishes to join the Entente (fired from focus)
	id = mexico.202
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.202 FROM = [From.GetName]" }
	title = mexico.202.t
	desc = mexico.202.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = { # Of course they may join!
		name = mexico.202.a
		add_to_faction = MEX
	}
	option = { # We have no need of them
		name = mexico.202.b
		ai_chance = {
			base = 0
		}
		MEX = {
			country_event = {
				id = mexico.203
				days = 1
			}
		}
	}
}
country_event = { # Britain / Canada refuses
	id = mexico.203
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.203 FROM = [From.GetName]" }
	title = mexico.203.t
	desc = mexico.203.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		name = mexico.203.a
		add_political_power = -50
		add_opinion_modifier = {
			target = FROM
			modifier = KR_disapproves_of_govt
		}
	}
}

country_event = { # Non soc-dems in the League of American States(America)
	id = mexico.206
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.206 FROM = [From.GetName]" }
	title = mexico.206.t
	desc = mexico.206.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	trigger = {
		tag = USA
		MEX = {
			is_in_faction_with = USA
		}
		NOT = {
			has_country_flag = MEX_non_soc_dems_in_loas
		}
		OR = {
			has_government = radical_socialist
			has_government = syndicalist
		}
	}

	option = { # Kick them out of the League of American
		name = mexico.206.a
		ai_chance = {
			base = 40
		}
		remove_from_faction = MEX
		hidden_effect = {
			MEX = {
				country_event = {
					id = mexico.209
					days = 1
				}
			}
		}
	}
	option = { # Demand that they put the soc-dems in charge
		name = mexico.206.b
		ai_chance = {
			base = 60
		}
		hidden_effect = {
			MEX = {
				country_event = {
					id = mexico.207
					days = 1
				}
			}
		}
		hidden_effect = {
			set_country_flag = MEX_non_soc_dems_in_loas
		}
	}
}
country_event = { # America wants the Soc-Dems to be in charge(Mexico)
	id = mexico.207
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.207 FROM = [From.GetName]" }
	title = mexico.207.t
	desc = mexico.207.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = { # fine we agree
		name = mexico.207.a
		ai_chance = {
			base = 70
		}
		add_political_power = -50
		if = {
			limit = { date < 1938.1.1 } # 1937 elections
			hidden_effect = {
				country_event = { id = mexico.41 days = 200 random_days = 100 }
			}
			set_politics = {
				ruling_party = social_democrat
				elections_allowed = yes
			}
		}
		else_if = {
			limit = { date < 1943.1.1 } # 1942 elections
			hidden_effect = {
				country_event = { id = mexico.41 days = 200 random_days = 100 }
			}
			set_politics = {
				ruling_party = social_democrat
				elections_allowed = yes
			}
			promote_character = MEX_manuel_avila_camacho
		}
		else = { # 1947 elections
			hidden_effect = {
				country_event = { id = mexico.41 days = 200 random_days = 100 }
			}
			set_politics = {
				ruling_party = social_democrat
				elections_allowed = yes
			}
			promote_character = MEX_miguel_aleman_valdes
		}
	}
	option = { # Never!
		name = mexico.207.b
		ai_chance = {
			base = 30
		}
		add_political_power = 50
		hidden_effect = {
			MEX = {
				country_event = {
					id = mexico.208
					days = 1
				}
			}
		}
	}
}
country_event = { # Mexico Refuses to switch parties
	id = mexico.208
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.208 FROM = [From.GetName]" }
	title = mexico.208.t
	desc = mexico.208.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = { # Declare War
		name = mexico.208.a
		ai_chance = {
			base = 30
		}
		declare_war_on = {
			target = MEX
			type = annex_everything
		}
	}
	option = { # Kick them Out
		name = mexico.208.b
		ai_chance = {
			base = 70
		}
		remove_from_faction = MEX
		hidden_effect = {
			MEX = {
				country_event = {
					id = mexico.209
					days = 1
				}
			}
		}
	}
}
country_event = { # America kicks us out of the LoAS
	id = mexico.209
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.209 FROM = [From.GetName]" }
	title = mexico.209.t
	desc = mexico.209.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		name = mexico.209.a
		add_opinion_modifier = {
			target = USA
			modifier = KR_disapproves_of_govt
		}
	}
}

country_event = { # Guns sent in support Central America
	id = mexico.210
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.210 FROM = [From.GetName]" }
	title = mexico.210.t
	desc = mexico.210.d
	picture = GFX_report_event_generic_diplomacy2

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = mexico.210.a
		add_opinion_modifier = {
			target = MEX
			modifier = MEX_support_1
		}
		effect_tooltip = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 500
				producer = MEX
			}
			add_equipment_to_stockpile = {
				type = support_equipment_1
				amount = 500
				producer = MEX
			}
		}
	}
}

country_event = { # Mexico Claims Central America
	id = mexico.212
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.212 FROM = [From.GetName]" }
	title = mexico.212.t
	desc = mexico.212.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		name = mexico.212.a
		add_opinion_modifier = {
			target = MEX
			modifier = MEX_cen_claim
		}
	}
}

country_event = { # MEX-GER peace deal
	id = mexico.213
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.213 FROM = [From.GetName]" }
	title = mexico.213.t
	desc = mexico.213.d
	picture = GFX_report_event_generic_diplomacy2

	trigger = {
		has_war_with = event_target:central_america_attacker
		is_valid_peace_target = yes
		event_target:central_america_attacker = { is_valid_peace_target = yes }
		OR = {
			NOT = { country_exists = COS }
			NOT = { has_war_with = COS }
			COS = { has_capitulated = yes }
		}
		OR = {
			NOT = { country_exists = PAN }
			NOT = { has_war_with = PAN }
			PAN = { has_capitulated = yes }
		}
		NOT = {
			is_neighbor_of = event_target:central_america_attacker #is not invading FROM
			any_allied_country = {
				has_war_with = event_target:central_america_attacker
				is_neighbor_of = event_target:central_america_attacker #no allies are invading FROM
				has_capitulated = no
			}
		}
	}

	is_triggered_only = yes

	option = {
		name = mexico.213.a
		event_target:central_america_attacker = {
			country_event = {
				id = mexico.214
				days = 1
			}
		}
	}

	option = {
		name = mexico.213.b
		ai_chance = { base = 0 }
		add_stability = -0.1
		add_war_support = -0.1
	}
}

country_event = { # GER offers peace
	id = mexico.214
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.214 FROM = [From.GetName]" }
	title = mexico.214.t
	desc = mexico.214.d
	picture = GFX_report_event_generic_diplomacy2

	trigger = {
		has_war_with = FROM
		is_valid_peace_target = yes
	}

	is_triggered_only = yes

	option = {
		name = mexico.214.a
		if = {
			limit = { COS = { is_ally_with = FROM } }
			COS = {
				if = {
					limit = { is_subject = yes }
					overlord = {
						set_autonomy = {
							target = PREV
							autonomy_state = autonomy_free
						}
					}
				}
				if = {
					limit = { is_in_faction_with = FROM }
					leave_faction = yes
				}
			}
		}
		if = {
			limit = { PAN = { is_ally_with = FROM } }
			PAN = {
				if = {
					limit = { is_subject = yes }
					overlord = {
						set_autonomy = {
							target = PREV
							autonomy_state = autonomy_free
						}
					}
				}
				if = {
					limit = { is_in_faction_with = FROM }
					leave_faction = yes
				}
			}
		}
		FROM = {
			every_owned_state = {
				limit = {
					OR = {
						region = 34 #Central America
						is_core_of = PAN
						is_core_of = COS
					}
				}
				transfer_state_to = ROOT
			}
			white_peace_with_ROOT = yes
		}
	}

	option = {
		name = mexico.214.b
		ai_chance = { base = 0 }
		add_stability = -0.1
		add_war_support = -0.1
		FROM = {
			country_event = {
				id = mexico.215
				days = 1
			}
		}
	}
}

country_event = { # MEX refuses peace
	id = mexico.215
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.215 FROM = [From.GetName]" }
	title = mexico.215.t
	desc = mexico.215.d
	picture = GFX_report_event_generic_diplomacy2

	trigger = {
		has_war_with = FROM
	}

	is_triggered_only = yes

	option = {
		name = mexico.214.a
		add_stability = 0.1
		add_war_support = 0.1
	}
}

country_event = { # MEX threatens CEN
	id = mexico.500
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.500 FROM = [From.GetName]" }
	title = mexico.500.t
	desc = mexico.500.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		name = mexico.500.a
	}
}

### BEELZEBUB'S COOL THINGS
country_event = {
	id = mexico.1000
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.1000 FROM = [From.GetName]" }
	hidden = yes

	trigger = {
		has_idea = MEX_campesinos_war_idea
	}

	is_triggered_only = yes

	option = {
		activate_mission = MEX_campesinos_raid_mission
	}
}

country_event = {
	id = mexico.1001
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.1001 FROM = [From.GetName]" }
	hidden = yes

	trigger = {
		has_idea = MEX_cristero_war_idea
	}

	is_triggered_only = yes

	option = {
		activate_mission = MEX_cristero_raid_mission
	}
}

country_event = { #hidden event to fire Cristero random events
	id = mexico.1002
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.1002 FROM = [From.GetName]" }
	hidden = yes

	trigger = {
		tag = MEX
		has_idea = MEX_cristero_war_idea
		NOT = { has_country_flag = MEX_cristero_attack }
	}

	mean_time_to_happen = {
		months = 2
		modifier = {
			factor = 0.5
			has_completed_focus = MEX_socialist_education
		}
		modifier = {
			factor = 1.5
			has_completed_focus = MEX_state_atheism
		}
	}

	immediate = {
		set_country_flag = { flag = MEX_cristero_attack days = 90 value = 1 }
		country_event = { id = mexico.22 days = 5 }
	}

	option = {
		country_event = mexico.14 #clashes throughout the country
	}

	option = {
		country_event = mexico.15 #factory
	}

	option = {
		country_event = mexico.16 #arms factory
	}

	option = {
		country_event = mexico.17 #railways
	}

	option = {
		ai_chance = { base = 3 }
		trigger = {
			NOT = { has_country_flag = MEX_tepatitlan_fired }
		}
		set_country_flag = MEX_tepatitlan_fired
		country_event = mexico.18 #battle of Tepatitlán
	}

	option = {
		ai_chance = { base = 3 }
		trigger = {
			NOT = { has_country_flag = MEX_el_fresnal_fired }
		}
		set_country_flag = MEX_el_fresnal_fired
		country_event = mexico.19 #battle of El Fresnal
	}

	option = {
		ai_chance = { base = 3 }
		trigger = {
			NOT = { has_country_flag = MEX_manzanillo_fired }
		}
		set_country_flag = MEX_manzanillo_fired
		country_event = mexico.20 #battle of Manzanillo
	}

	option = {
		country_event = mexico.21 #more battles
	}
}

country_event = { #hidden event to fire Campesino random events
	id = mexico.1003
	immediate = { log = "[GetDateText]: [Root.GetName]: event mexico.1003 FROM = [From.GetName]" }
	hidden = yes

	trigger = {
		tag = MEX
		has_idea = MEX_campesinos_war_idea
		NOT = { has_country_flag = MEX_campesinos_attack }
	}

	mean_time_to_happen = {
		months = 3
		modifier = {
			factor = 0.5
			OR = {
				has_completed_focus = MEX_free_market
				has_completed_focus = MEX_control_unions
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				has_completed_focus = MEX_economic_development
				has_completed_focus = MEX_protect_our_industry
			}
		}
	}

	immediate = {
		set_country_flag = { flag = MEX_campesinos_attack days = 90 value = 1 }
		country_event = { id = mexico.59 days = 5 }
	}

	option = {
		country_event = mexico.47 #clashes throughout the country
	}

	option = {
		country_event = mexico.48 #factory
	}

	option = {
		country_event = mexico.49 #arms factory
	}

	option = {
		country_event = mexico.50 #railways
	}

	option = {
		ai_chance = { base = 3 }
		trigger = {
			NOT = { has_country_flag = MEX_guadajara_fired }
		}
		set_country_flag = MEX_guadajara_fired
		country_event = mexico.51 #battle of Guadalajara
	}

	option = {
		ai_chance = { base = 3 }
		trigger = {
			NOT = { has_country_flag = MEX_celaya_fired }
		}
		set_country_flag = MEX_celaya_fired
		country_event = mexico.52 #battle of Celaya
	}

	option = {
		country_event = mexico.58 #more battles
	}
}
